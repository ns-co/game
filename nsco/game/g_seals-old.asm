export G_FindEntityInRadius
code
proc G_FindEntityInRadius 4180 16
file "g_seals.c"
line 17
;1:#include "g_local.h" 
;2:
;3:int lastbombclient[TEAM_NUM_TEAMS];
;4:int	lastvip[TEAM_NUM_TEAMS];	
;5:
;6:vmCvar_t	g_aimCorrect;
;7: 
;8:void NS_BotRadioMsg( gentity_t *ent, char *msg );
;9:void NS_SendResetAllStatusToAllPlayers( void );
;10:qboolean InView ( vec3_t vViewer, vec3_t vViewAngles, vec3_t vTestPoint );
;11:
;12:/*
;13:============
;14:G_FindEntityInRadius
;15:============
;16:*/
;17:gentity_t *G_FindEntityInRadius ( vec3_t origin, float radius, gentity_t *ignore, char *classname) {
line 26
;18:	float		dist;
;19:	gentity_t	*ent;
;20:	int			entityList[MAX_GENTITIES];
;21:	int			numListedEntities;
;22:	vec3_t		mins, maxs;
;23:	vec3_t		v;
;24:	int			i, e;
;25: 
;26:	if ( radius < 1 ) {
ADDRFP4 4
INDIRF4
CNSTF4 1065353216
GEF4 $66
line 27
;27:		radius = 1;
ADDRFP4 4
CNSTF4 1065353216
ASGNF4
line 28
;28:	}
LABELV $66
line 30
;29:
;30:	for ( i = 0 ; i < 3 ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $68
line 31
;31:		mins[i] = origin[i] - radius;
ADDRLP4 4152
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 4152
INDIRI4
ADDRLP4 4128
ADDP4
ADDRLP4 4152
INDIRI4
ADDRFP4 0
INDIRP4
ADDP4
INDIRF4
ADDRFP4 4
INDIRF4
SUBF4
ASGNF4
line 32
;32:		maxs[i] = origin[i] + radius;
ADDRLP4 4156
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 4156
INDIRI4
ADDRLP4 4140
ADDP4
ADDRLP4 4156
INDIRI4
ADDRFP4 0
INDIRP4
ADDP4
INDIRF4
ADDRFP4 4
INDIRF4
ADDF4
ASGNF4
line 33
;33:	}
LABELV $69
line 30
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 3
LTI4 $68
line 35
;34:
;35:	numListedEntities = trap_EntitiesInBox( mins, maxs, entityList, MAX_GENTITIES );
ADDRLP4 4128
ARGP4
ADDRLP4 4140
ARGP4
ADDRLP4 28
ARGP4
CNSTI4 1024
ARGI4
ADDRLP4 4152
ADDRGP4 trap_EntitiesInBox
CALLI4
ASGNI4
ADDRLP4 4124
ADDRLP4 4152
INDIRI4
ASGNI4
line 37
;36:
;37:	for ( e = 0 ; e < numListedEntities ; e++ ) {
ADDRLP4 20
CNSTI4 0
ASGNI4
ADDRGP4 $75
JUMPV
LABELV $72
line 38
;38:		ent = &g_entities[entityList[ e ]];
ADDRLP4 4
CNSTI4 1100
ADDRLP4 20
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 28
ADDP4
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 40
;39:
;40:		if (ent == ignore)
ADDRLP4 4
INDIRP4
CVPU4 4
ADDRFP4 8
INDIRP4
CVPU4 4
NEU4 $76
line 41
;41:			continue;			
ADDRGP4 $73
JUMPV
LABELV $76
line 42
;42:		if (ent->classname != classname && ( !is_func_explosive(ent) && !Q_stricmp(classname , "func_explosive")  ) )
ADDRLP4 4
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
CVPU4 4
ADDRFP4 12
INDIRP4
CVPU4 4
EQU4 $78
ADDRLP4 4
INDIRP4
ARGP4
ADDRLP4 4160
ADDRGP4 is_func_explosive
CALLI4
ASGNI4
ADDRLP4 4160
INDIRI4
CNSTI4 0
NEI4 $78
ADDRFP4 12
INDIRP4
ARGP4
ADDRGP4 $80
ARGP4
ADDRLP4 4164
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 4164
INDIRI4
CNSTI4 0
NEI4 $78
line 43
;43:			continue; 
ADDRGP4 $73
JUMPV
LABELV $78
line 44
;44:		if (ent->r.svFlags & SVF_NOCLIENT )
ADDRLP4 4
INDIRP4
CNSTI4 424
ADDP4
INDIRI4
CNSTI4 1
BANDI4
CNSTI4 0
EQI4 $81
line 45
;45:			continue;
ADDRGP4 $73
JUMPV
LABELV $81
line 48
;46:
;47:		// find the distance from the edge of the bounding box
;48:		for ( i = 0 ; i < 3 ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $83
line 49
;49:			if ( origin[i] < ent->r.absmin[i] ) {
ADDRLP4 4168
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 4168
INDIRI4
ADDRFP4 0
INDIRP4
ADDP4
INDIRF4
ADDRLP4 4168
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 464
ADDP4
ADDP4
INDIRF4
GEF4 $87
line 50
;50:				v[i] = ent->r.absmin[i] - origin[i];
ADDRLP4 4172
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 4172
INDIRI4
ADDRLP4 8
ADDP4
ADDRLP4 4172
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 464
ADDP4
ADDP4
INDIRF4
ADDRLP4 4172
INDIRI4
ADDRFP4 0
INDIRP4
ADDP4
INDIRF4
SUBF4
ASGNF4
line 51
;51:			} else if ( origin[i] > ent->r.absmax[i] ) {
ADDRGP4 $88
JUMPV
LABELV $87
ADDRLP4 4172
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 4172
INDIRI4
ADDRFP4 0
INDIRP4
ADDP4
INDIRF4
ADDRLP4 4172
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 476
ADDP4
ADDP4
INDIRF4
LEF4 $89
line 52
;52:				v[i] = origin[i] - ent->r.absmax[i];
ADDRLP4 4176
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 4176
INDIRI4
ADDRLP4 8
ADDP4
ADDRLP4 4176
INDIRI4
ADDRFP4 0
INDIRP4
ADDP4
INDIRF4
ADDRLP4 4176
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 476
ADDP4
ADDP4
INDIRF4
SUBF4
ASGNF4
line 53
;53:			} else {
ADDRGP4 $90
JUMPV
LABELV $89
line 54
;54:				v[i] = 0;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 8
ADDP4
CNSTF4 0
ASGNF4
line 55
;55:			}
LABELV $90
LABELV $88
line 56
;56:		}
LABELV $84
line 48
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 3
LTI4 $83
line 58
;57:
;58:		dist = VectorLength( v );
ADDRLP4 8
ARGP4
ADDRLP4 4168
ADDRGP4 VectorLength
CALLF4
ASGNF4
ADDRLP4 24
ADDRLP4 4168
INDIRF4
ASGNF4
line 59
;59:		if ( dist >= radius ) {
ADDRLP4 24
INDIRF4
ADDRFP4 4
INDIRF4
LTF4 $91
line 60
;60:			continue;
ADDRGP4 $73
JUMPV
LABELV $91
line 64
;61:		} 
;62:
;63:		// we found it!
;64:		return ent;
ADDRLP4 4
INDIRP4
RETP4
ADDRGP4 $65
JUMPV
LABELV $73
line 37
ADDRLP4 20
ADDRLP4 20
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $75
ADDRLP4 20
INDIRI4
ADDRLP4 4124
INDIRI4
LTI4 $72
line 67
;65:	}
;66:
;67:	return NULL;
CNSTP4 0
RETP4
LABELV $65
endproc G_FindEntityInRadius 4180 16
export GetWeaponTimeOnLower
proc GetWeaponTimeOnLower 8 0
line 79
;68:} 
;69:
;70:
;71:/*
;72:=================
;73:NSQ3 Get Weapon Time On Lower
;74:author: Defcon-X
;75:date:
;76:description: returns the time a weapon needs to putaway
;77:=================
;78:*/
;79:int GetWeaponTimeOnLower( gentity_t *ent ) {
line 81
;80:	
;81:	switch (ent->client->ps.weapon) {
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 1
LTI4 $94
ADDRLP4 0
INDIRI4
CNSTI4 22
GTI4 $94
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $110-4
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $110
address $97
address $97
address $94
address $94
address $94
address $102
address $102
address $102
address $102
address $109
address $108
address $98
address $99
address $101
address $94
address $100
address $104
address $103
address $105
address $106
address $107
address $100
code
LABELV $97
line 84
;82:	case WP_KHURKURI:
;83:	case WP_SEALKNIFE:
;84:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $98
line 86
;85:	case WP_MAC10:
;86:		return 400; 
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $99
line 88
;87:	case WP_MP5:
;88:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $100
line 91
;89:	case WP_M14:
;90:	case WP_M4:
;91:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $101
line 93
;92:	case WP_AK47:
;93:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $102
line 98
;94:	case WP_GLOCK:
;95:	case WP_MK23:
;96:	case WP_P9S:
;97:	case WP_SW40T:
;98:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $103
line 100
;99:	case WP_MACMILLAN:
;100:		return 500;
CNSTI4 500
RETI4
ADDRGP4 $93
JUMPV
LABELV $104
line 102
;101:	case WP_PSG1:
;102:		return 840;
CNSTI4 840
RETI4
ADDRGP4 $93
JUMPV
LABELV $105
line 104
;103:	case WP_870:
;104:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $93
JUMPV
LABELV $106
line 106
;105:	case WP_M590:
;106:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $93
JUMPV
LABELV $107
line 108
;107:	case WP_SPAS15:
;108:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $108
line 110
;109:	case WP_PDW:
;110:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $109
line 112
;111:	case WP_DEAGLE:
;112:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $93
JUMPV
LABELV $94
line 115
;113:
;114:	default:
;115:		return 100;
CNSTI4 100
RETI4
LABELV $93
endproc GetWeaponTimeOnLower 8 0
export GetWeaponTimeOnRaise
proc GetWeaponTimeOnRaise 8 0
line 127
;116:	}
;117:}
;118:
;119:/*
;120:=================
;121:NSQ3 Get Weapon Time On Raise
;122:author: Defcon-X
;123:date:
;124:description: returns the time a weapon needs to raise
;125:=================
;126:*/ 
;127:int GetWeaponTimeOnRaise (gentity_t *ent) {
line 129
;128:	
;129:	switch (ent->client->ps.weapon) {
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 1
LTI4 $113
ADDRLP4 0
INDIRI4
CNSTI4 22
GTI4 $113
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $130-4
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $130
address $116
address $116
address $113
address $113
address $113
address $121
address $127
address $120
address $129
address $120
address $124
address $120
address $117
address $119
address $113
address $118
address $123
address $122
address $125
address $128
address $126
address $124
code
LABELV $116
line 132
;130:	case WP_KHURKURI:
;131:	case WP_SEALKNIFE:
;132:		return 480;
CNSTI4 480
RETI4
ADDRGP4 $112
JUMPV
LABELV $117
line 134
;133:	case WP_MP5:
;134:		return 640;
CNSTI4 640
RETI4
ADDRGP4 $112
JUMPV
LABELV $118
line 136
;135:	case WP_M4:	
;136:		return 880;
CNSTI4 880
RETI4
ADDRGP4 $112
JUMPV
LABELV $119
line 138
;137:	case WP_AK47:
;138:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $112
JUMPV
LABELV $120
line 142
;139:	case WP_SW40T:
;140:	case WP_DEAGLE:
;141:	case WP_MAC10:
;142:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $112
JUMPV
LABELV $121
line 144
;143:	case WP_MK23:
;144:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $112
JUMPV
LABELV $122
line 146
;145:	case WP_MACMILLAN:
;146:		return 750;
CNSTI4 750
RETI4
ADDRGP4 $112
JUMPV
LABELV $123
line 148
;147:	case WP_PSG1:
;148:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $112
JUMPV
LABELV $124
line 151
;149:	case WP_PDW:
;150:	case WP_M14:
;151:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $112
JUMPV
LABELV $125
line 153
;152:	case WP_870:
;153:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $112
JUMPV
LABELV $126
line 155
;154:	case WP_SPAS15:
;155:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $112
JUMPV
LABELV $127
line 157
;156:	case WP_GLOCK:
;157:		return 400;
CNSTI4 400
RETI4
ADDRGP4 $112
JUMPV
LABELV $128
line 159
;158:	case WP_M590:
;159:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $112
JUMPV
LABELV $129
line 161
;160:	case WP_P9S:
;161:		return 600;
CNSTI4 600
RETI4
ADDRGP4 $112
JUMPV
LABELV $113
line 163
;162:	default:
;163:		return 100;
CNSTI4 100
RETI4
LABELV $112
endproc GetWeaponTimeOnRaise 8 0
export NS_IsBot
proc NS_IsBot 0 0
line 176
;164:	}
;165:} 
;166:
;167:/*
;168:=================
;169:NSQ3 IsBot
;170:author: dX
;171:date: 15-02-99
;172:description: returns true, if ent is bot
;173:=================
;174:*/ 
;175:qboolean NS_IsBot(gentity_t *ent)
;176:{
line 177
;177:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $133
line 178
;178:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $132
JUMPV
LABELV $133
line 180
;179:
;180:	if (ent->r.svFlags & SVF_BOT)
ADDRFP4 0
INDIRP4
CNSTI4 424
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $135
line 181
;181:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $132
JUMPV
LABELV $135
line 182
;182:	return qfalse;
CNSTI4 0
RETI4
LABELV $132
endproc NS_IsBot 0 0
export Cmd_Reload_f
proc Cmd_Reload_f 132 12
line 196
;183:}
;184: 
;185:
;186:
;187:/*
;188:=================
;189:NSQ3 Reload
;190:author: dX
;191:date: 15-02-99
;192:description: Reload weapon, if possible
;193:=================
;194:*/ 
;195:void Cmd_Reload_f (gentity_t *ent)
;196:{	
line 197
;197:	int _weapon = ent->s.weapon, ammo; 
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
ASGNI4
line 198
;198:	qboolean say_error = qfalse;
ADDRLP4 16
CNSTI4 0
ASGNI4
line 199
;199:	qboolean last_rnd = qfalse;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 201
;200:	int	addTime;
;201:	char *message = "cp \"No Ammo\n\"";
ADDRLP4 24
ADDRGP4 $138
ASGNP4
line 206
;202:	gitem_t		*item; 
;203: 
;204:
;205:// null isn't valid! (also prevents against world) --- and if dead also return
;206:	if (_weapon <= 0 || ent->r.contents == CONTENTS_CORPSE) 
ADDRLP4 0
INDIRI4
CNSTI4 0
LEI4 $141
ADDRFP4 0
INDIRP4
CNSTI4 460
ADDP4
INDIRI4
CNSTI4 67108864
NEI4 $139
LABELV $141
line 207
;207:		return;
ADDRGP4 $137
JUMPV
LABELV $139
line 210
;208:
;209:	// find the item type for this weapon
;210:	item = BG_FindItemForWeapon( _weapon );
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 28
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 20
ADDRLP4 28
INDIRP4
ASGNP4
line 212
;211:
;212:	ammo = item->giAmmoTag;
ADDRLP4 12
ADDRLP4 20
INDIRP4
CNSTI4 44
ADDP4
INDIRI4
ASGNI4
line 214
;213:
;214:	ent->client->ns.reload_tries = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2896
ADDP4
CNSTI4 0
ASGNI4
line 216
;215:	// no khurkuri reloading
;216:	if ( BG_IsMelee( _weapon) || BG_IsGrenade( _weapon) )
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 32
ADDRGP4 BG_IsMelee
CALLI4
ASGNI4
ADDRLP4 32
INDIRI4
CNSTI4 0
NEI4 $144
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 36
ADDRGP4 BG_IsGrenade
CALLI4
ASGNI4
ADDRLP4 36
INDIRI4
CNSTI4 0
EQI4 $142
LABELV $144
line 217
;217:		return;
ADDRGP4 $137
JUMPV
LABELV $142
line 219
;218:
;219:	if ( ent->client->ps.weaponstate == WEAPON_RELOADING || ent->client->ps.weaponstate == WEAPON_RELOADING_EMPTY ||  ent->client->ps.weaponstate == WEAPON_RELOADING_CYCLE || ent->client->ps.weaponstate == WEAPON_RELOADING_STOP || ent->client->ps.weaponstate == WEAPON_BANDAGING || ent->client->ps.weaponstate == WEAPON_BANDAGING_START || ent->client->ps.weaponstate == WEAPON_BANDAGING_END )
ADDRLP4 40
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
INDIRI4
ASGNI4
ADDRLP4 40
INDIRI4
CNSTI4 7
EQI4 $152
ADDRLP4 40
INDIRI4
CNSTI4 10
EQI4 $152
ADDRLP4 40
INDIRI4
CNSTI4 8
EQI4 $152
ADDRLP4 40
INDIRI4
CNSTI4 9
EQI4 $152
ADDRLP4 40
INDIRI4
CNSTI4 14
EQI4 $152
ADDRLP4 40
INDIRI4
CNSTI4 12
EQI4 $152
ADDRLP4 40
INDIRI4
CNSTI4 13
NEI4 $145
LABELV $152
line 220
;220:		return;
ADDRGP4 $137
JUMPV
LABELV $145
line 222
;221:
;222:	if ( ent->client->ps.eFlags & EF_IRONSIGHT )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 104
ADDP4
INDIRI4
CNSTI4 262144
BANDI4
CNSTI4 0
EQI4 $153
line 223
;223:	{
line 224
;224:		PrintMsg(ent, "You can't reload while in Ironsight-Mode.\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $155
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 225
;225:		return;
ADDRGP4 $137
JUMPV
LABELV $153
line 228
;226:	}
;227:
;228:	if ( ( _weapon == WP_870 || _weapon == WP_M590 ) && ent->client->ns.rounds[_weapon] == BG_GetMaxRoundForWeapon( _weapon ) ) 
ADDRLP4 0
INDIRI4
CNSTI4 19
EQI4 $158
ADDRLP4 0
INDIRI4
CNSTI4 20
NEI4 $156
LABELV $158
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 52
ADDRGP4 BG_GetMaxRoundForWeapon
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
INDIRI4
ADDRLP4 52
INDIRI4
NEI4 $156
line 229
;229:		return;
ADDRGP4 $137
JUMPV
LABELV $156
line 231
;230:
;231:    if ( ent->client->ps.stats[STAT_WEAPONMODE] & ( 1 << WM_GRENADELAUNCHER ) &&  ent->client->ps.stats[STAT_WEAPONMODE] & ( 1 << WM_WEAPONMODE2 ) && ( _weapon == WP_M4 || _weapon == WP_AK47 ) )
ADDRLP4 56
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 224
ADDP4
INDIRI4
ASGNI4
ADDRLP4 60
CNSTI4 0
ASGNI4
ADDRLP4 56
INDIRI4
CNSTI4 512
BANDI4
ADDRLP4 60
INDIRI4
EQI4 $159
ADDRLP4 56
INDIRI4
CNSTI4 2048
BANDI4
ADDRLP4 60
INDIRI4
EQI4 $159
ADDRLP4 0
INDIRI4
CNSTI4 16
EQI4 $161
ADDRLP4 0
INDIRI4
CNSTI4 14
NEI4 $159
LABELV $161
line 232
;232:	{
line 234
;233:		// already full?
;234:		if ( ent->client->ns.rounds[_weapon*3] >= 1 )
CNSTI4 3
ADDRLP4 0
INDIRI4
MULI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
INDIRI4
CNSTI4 1
LTI4 $162
line 235
;235:			return;
ADDRGP4 $137
JUMPV
LABELV $162
line 236
;236:		if ( ent->client->ps.ammo[AM_40MMGRENADES] <= 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $164
line 237
;237:			return;
ADDRGP4 $137
JUMPV
LABELV $164
line 240
;238:
;239:		// max out our current rounds again
;240:		ent->client->ns.rounds[_weapon*3] = 1;
CNSTI4 3
ADDRLP4 0
INDIRI4
MULI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
CNSTI4 1
ASGNI4
line 241
;241:		ent->client->ps.ammo[AM_40MMGRENADES]--;
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 440
ADDP4
ASGNP4
ADDRLP4 68
INDIRP4
ADDRLP4 68
INDIRP4
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
line 242
;242:		last_rnd = qfalse;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 243
;243:		addTime = 2000;
ADDRLP4 4
CNSTI4 2000
ASGNI4
line 244
;244:		goto end;
ADDRGP4 $166
JUMPV
LABELV $159
line 247
;245:	}
;246:
;247:	if ( _weapon == WP_PDW && ent->client->ns.weaponmode[_weapon] & ( 1 << WM_WEAPONMODE2 ) )
ADDRLP4 0
INDIRI4
CNSTI4 11
NEI4 $167
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 2048
BANDI4
CNSTI4 0
EQI4 $167
line 248
;248:	{
line 249
;249:		ent->client->ns.weaponmode[_weapon] &= ~( 1 << WM_WEAPONMODE2 );
ADDRLP4 72
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 72
INDIRP4
ADDRLP4 72
INDIRP4
INDIRI4
CNSTI4 -2049
BANDI4
ASGNI4
line 250
;250:		ent->client->ps.weaponstate = WEAPON_RELOADING_CYCLE;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 8
ASGNI4
line 251
;251:		ent->client->ps.weaponTime = 400;		
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
CNSTI4 400
ASGNI4
line 252
;252:		return;
ADDRGP4 $137
JUMPV
LABELV $167
line 256
;253:	}
;254:
;255:	// no ammo?
;256:	if ( ent->client->ps.ammo[ ammo ] <= 0 )
ADDRLP4 12
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ADDP4
INDIRI4
CNSTI4 0
GTI4 $169
line 257
;257:		say_error = qtrue;
ADDRLP4 16
CNSTI4 1
ASGNI4
LABELV $169
line 259
;258:
;259:	if (say_error)
ADDRLP4 16
INDIRI4
CNSTI4 0
EQI4 $171
line 260
;260:	{
line 261
;261:		trap_SendServerCommand( ent->client->ps.clientNum, message );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
ARGI4
ADDRLP4 24
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 262
;262:		return;
ADDRGP4 $137
JUMPV
LABELV $171
line 266
;263:	}
;264: 
;265:	// is a lastrnd weapon?
;266:	if (ent->client->ns.rounds[_weapon] <= 0 && (_weapon == WP_M14 || _weapon==WP_SW40T || _weapon==WP_SPAS15 || _weapon == WP_MK23 || _weapon == WP_GLOCK || _weapon == WP_MACMILLAN || _weapon == WP_MP5 || _weapon == WP_MAC10 || _weapon == WP_AK47 || _weapon == WP_P9S || _weapon == WP_DEAGLE || _weapon == WP_M4 ) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
INDIRI4
CNSTI4 0
GTI4 $173
ADDRLP4 0
INDIRI4
CNSTI4 22
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 8
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 21
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 6
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 7
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 18
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 13
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 12
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 14
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 9
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 10
EQI4 $185
ADDRLP4 0
INDIRI4
CNSTI4 16
NEI4 $173
LABELV $185
line 267
;267:		last_rnd = qtrue;
ADDRLP4 8
CNSTI4 1
ASGNI4
LABELV $173
line 270
;268: 
;269:	// give full clips size 
;270:	if ( ( _weapon == WP_870 || _weapon == WP_M590 ) && ent->client->ns.rounds[_weapon] < BG_GetMaxRoundForWeapon( _weapon ) )
ADDRLP4 0
INDIRI4
CNSTI4 19
EQI4 $188
ADDRLP4 0
INDIRI4
CNSTI4 20
NEI4 $186
LABELV $188
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 84
ADDRGP4 BG_GetMaxRoundForWeapon
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
INDIRI4
ADDRLP4 84
INDIRI4
GEI4 $186
line 271
;271:	;
ADDRGP4 $187
JUMPV
LABELV $186
line 272
;272:	else {
line 273
;273:		ent->client->ns.rounds[_weapon] = BG_GetMaxRoundForWeapon( _weapon ); 				
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 92
ADDRGP4 BG_GetMaxRoundForWeapon
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
ADDRLP4 92
INDIRI4
ASGNI4
line 274
;274:		ent->client->ps.ammo[ ammo ]--;
ADDRLP4 96
ADDRLP4 12
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ADDP4
ASGNP4
ADDRLP4 96
INDIRP4
ADDRLP4 96
INDIRP4
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
line 275
;275:	}
LABELV $187
line 278
;276:
;277:	// when reloading
;278:	if ( ent->client->ns.weaponmode[_weapon] & ( 1 << WM_ZOOM4X) || ent->client->ns.weaponmode[_weapon] & (1 << WM_ZOOM2X))
ADDRLP4 88
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
ASGNI4
ADDRLP4 92
CNSTI4 0
ASGNI4
ADDRLP4 88
INDIRI4
CNSTI4 16384
BANDI4
ADDRLP4 92
INDIRI4
NEI4 $191
ADDRLP4 88
INDIRI4
CNSTI4 8192
BANDI4
ADDRLP4 92
INDIRI4
EQI4 $189
LABELV $191
line 279
;279:	{
line 281
;280:		// go out of zoom
;281:		ent->client->ns.weaponmode[_weapon] &= ~( 1 << WM_ZOOM4X );
ADDRLP4 96
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 96
INDIRP4
ADDRLP4 96
INDIRP4
INDIRI4
CNSTI4 -16385
BANDI4
ASGNI4
line 282
;282:		ent->client->ns.weaponmode[_weapon] &= ~( 1 << WM_ZOOM2X );
ADDRLP4 100
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 100
INDIRP4
ADDRLP4 100
INDIRP4
INDIRI4
CNSTI4 -8193
BANDI4
ASGNI4
line 283
;283:	} 
LABELV $189
line 286
;284:
;285:	// set state
;286:	switch (_weapon) {
ADDRLP4 0
INDIRI4
CNSTI4 6
LTI4 $192
ADDRLP4 0
INDIRI4
CNSTI4 22
GTI4 $192
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $218-24
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $218
address $198
address $212
address $215
address $195
address $214
address $211
address $201
address $194
address $202
address $192
address $205
address $209
address $213
address $206
address $207
address $208
address $210
code
LABELV $194
line 288
;287:		case WP_MP5:
;288:			addTime = 2000; // same as lastrnd
ADDRLP4 4
CNSTI4 2000
ASGNI4
line 289
;289:			break;
ADDRGP4 $193
JUMPV
LABELV $195
line 291
;290:		case WP_P9S:
;291:			addTime = 2400;
ADDRLP4 4
CNSTI4 2400
ASGNI4
line 293
;292:
;293:			if (last_rnd)
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $193
line 294
;294:				addTime = 3000;
ADDRLP4 4
CNSTI4 3000
ASGNI4
line 295
;295:			break;
ADDRGP4 $193
JUMPV
LABELV $198
line 297
;296:		case WP_MK23:			
;297:			addTime = 2400;
ADDRLP4 4
CNSTI4 2400
ASGNI4
line 299
;298:
;299:			if (last_rnd)
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $193
line 300
;300:				addTime = 2464;
ADDRLP4 4
CNSTI4 2464
ASGNI4
line 301
;301:			break;
ADDRGP4 $193
JUMPV
LABELV $201
line 303
;302:		case WP_MAC10:
;303:			addTime = 3000;
ADDRLP4 4
CNSTI4 3000
ASGNI4
line 304
;304:			break;
ADDRGP4 $193
JUMPV
LABELV $202
line 306
;305:		case WP_AK47:
;306:			addTime = 2400;
ADDRLP4 4
CNSTI4 2400
ASGNI4
line 308
;307:
;308:			if (last_rnd)
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $193
line 309
;309:				addTime = 2850;
ADDRLP4 4
CNSTI4 2850
ASGNI4
line 310
;310:			break;
ADDRGP4 $193
JUMPV
LABELV $205
line 312
;311:		case WP_M4:
;312:			addTime = 3000; 
ADDRLP4 4
CNSTI4 3000
ASGNI4
line 313
;313:			break;
ADDRGP4 $193
JUMPV
LABELV $206
line 315
;314:		case WP_870:
;315:			addTime = 400;
ADDRLP4 4
CNSTI4 400
ASGNI4
line 316
;316:			break;
ADDRGP4 $193
JUMPV
LABELV $207
line 318
;317:		case WP_M590:
;318:			addTime = 400;
ADDRLP4 4
CNSTI4 400
ASGNI4
line 319
;319:			break; 
ADDRGP4 $193
JUMPV
LABELV $208
line 321
;320:		case WP_SPAS15:
;321:			addTime = 2400;
ADDRLP4 4
CNSTI4 2400
ASGNI4
line 322
;322:			break;
ADDRGP4 $193
JUMPV
LABELV $209
line 324
;323:		case WP_PSG1:
;324:			addTime = 3200;
ADDRLP4 4
CNSTI4 3200
ASGNI4
line 325
;325:			break;
ADDRGP4 $193
JUMPV
LABELV $210
line 327
;326:		case WP_M14:
;327:			addTime = 3400;
ADDRLP4 4
CNSTI4 3400
ASGNI4
line 328
;328:			break;
ADDRGP4 $193
JUMPV
LABELV $211
line 330
;329:		case WP_PDW:
;330:			addTime = 2000;
ADDRLP4 4
CNSTI4 2000
ASGNI4
line 331
;331:			break;
ADDRGP4 $193
JUMPV
LABELV $212
line 333
;332:		case WP_GLOCK:
;333:			addTime = 2800;
ADDRLP4 4
CNSTI4 2800
ASGNI4
line 334
;334:			break;
ADDRGP4 $193
JUMPV
LABELV $213
line 336
;335:		case WP_MACMILLAN:
;336:			addTime = 1800;
ADDRLP4 4
CNSTI4 1800
ASGNI4
line 337
;337:			break;
ADDRGP4 $193
JUMPV
LABELV $214
line 339
;338:		case WP_DEAGLE:
;339:			addTime = 2000;
ADDRLP4 4
CNSTI4 2000
ASGNI4
line 340
;340:			break;
ADDRGP4 $193
JUMPV
LABELV $215
line 342
;341:		case WP_SW40T: 
;342:			addTime = 2400;
ADDRLP4 4
CNSTI4 2400
ASGNI4
line 343
;343:			if (last_rnd)
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $193
line 344
;344:				addTime = 2760;
ADDRLP4 4
CNSTI4 2760
ASGNI4
line 345
;345:			break;
ADDRGP4 $193
JUMPV
LABELV $192
line 347
;346:		default:
;347:			addTime = 2000;
ADDRLP4 4
CNSTI4 2000
ASGNI4
line 348
;348:			break;
LABELV $193
LABELV $166
line 352
;349:	} 
;350:
;351:end:
;352:	if (_weapon != WP_870 && _weapon != WP_M590 ) {
ADDRLP4 0
INDIRI4
CNSTI4 19
EQI4 $220
ADDRLP4 0
INDIRI4
CNSTI4 20
EQI4 $220
line 353
;353:		if (last_rnd && _weapon != WP_MACMILLAN)
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $222
ADDRLP4 0
INDIRI4
CNSTI4 18
EQI4 $222
line 354
;354:			G_AddEvent( ent, EV_RELOAD_EMPTY, 0 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 93
ARGI4
CNSTI4 0
ARGI4
ADDRGP4 G_AddEvent
CALLV
pop
ADDRGP4 $223
JUMPV
LABELV $222
line 356
;355:		else
;356:			G_AddEvent( ent, EV_RELOAD, 0 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 92
ARGI4
CNSTI4 0
ARGI4
ADDRGP4 G_AddEvent
CALLV
pop
LABELV $223
line 357
;357:	}
LABELV $220
line 359
;358:
;359:	ent->client->ps.weaponTime = addTime;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 4
INDIRI4
ASGNI4
line 361
;360:	// fix me to reload
;361:	if (BG_IsPistol( _weapon ) || _weapon == WP_MAC10 )
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 104
ADDRGP4 BG_IsPistol
CALLI4
ASGNI4
ADDRLP4 104
INDIRI4
CNSTI4 0
NEI4 $226
ADDRLP4 0
INDIRI4
CNSTI4 12
NEI4 $224
LABELV $226
line 362
;362:		ent->client->ps.torsoAnim = ( ( ent->client->ps.torsoAnim & ANIM_TOGGLEBIT ) ^ ANIM_TOGGLEBIT )
ADDRLP4 108
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 84
ADDP4
ASGNP4
ADDRLP4 112
CNSTI4 128
ASGNI4
ADDRLP4 108
INDIRP4
ADDRLP4 108
INDIRP4
INDIRI4
ADDRLP4 112
INDIRI4
BANDI4
ADDRLP4 112
INDIRI4
BXORI4
CNSTI4 19
BORI4
ASGNI4
ADDRGP4 $225
JUMPV
LABELV $224
line 365
;363:		| TORSO_RELOAD_PISTOL;
;364:	else
;365:		ent->client->ps.torsoAnim = ( ( ent->client->ps.torsoAnim & ANIM_TOGGLEBIT ) ^ ANIM_TOGGLEBIT )
ADDRLP4 116
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 84
ADDP4
ASGNP4
ADDRLP4 120
CNSTI4 128
ASGNI4
ADDRLP4 116
INDIRP4
ADDRLP4 116
INDIRP4
INDIRI4
ADDRLP4 120
INDIRI4
BANDI4
ADDRLP4 120
INDIRI4
BXORI4
CNSTI4 18
BORI4
ASGNI4
LABELV $225
line 368
;366:		| TORSO_RELOAD_RIFLE;
;367:	
;368:	ent->client->ps.torsoTimer = addTime;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 80
ADDP4
ADDRLP4 4
INDIRI4
ASGNI4
line 370
;369:
;370:	if ( last_rnd )
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $227
line 371
;371:		ent->client->ps.weaponstate = WEAPON_RELOADING_EMPTY;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 10
ASGNI4
ADDRGP4 $228
JUMPV
LABELV $227
line 373
;372:	else
;373:		ent->client->ps.weaponstate = WEAPON_RELOADING;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 7
ASGNI4
LABELV $228
line 376
;374:
;375:	// stop recentering our screen if we're reloading
;376:	ent->client->weaponangle_changed[0]= ent->client->weaponangle_changed[1]=ent->client->weaponangle_changed[2] = qfalse;
ADDRLP4 124
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 128
CNSTI4 0
ASGNI4
ADDRLP4 124
INDIRP4
CNSTI4 4752
ADDP4
ADDRLP4 128
INDIRI4
ASGNI4
ADDRLP4 124
INDIRP4
CNSTI4 4748
ADDP4
ADDRLP4 128
INDIRI4
ASGNI4
ADDRLP4 124
INDIRP4
CNSTI4 4744
ADDP4
ADDRLP4 128
INDIRI4
ASGNI4
line 377
;377:}
LABELV $137
endproc Cmd_Reload_f 132 12
export pointinback
proc pointinback 40 16
line 389
;378:
;379:/*
;380:==============
;381:
;382:  LOCATIONAL DAMAGE
;383:	( needs to be improved [damn new PPMs] )
;384:	+done
;385:
;386:==============
;387:*/ 
;388:qboolean pointinback (gentity_t *self, vec3_t point)
;389:{
line 394
;390:	vec3_t	vec;
;391:	float	dot;
;392:	vec3_t	forward;
;393:	
;394:	if ( !self->client )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $230
line 395
;395:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $229
JUMPV
LABELV $230
line 397
;396:
;397:	AngleVectors (self->client->ps.viewangles, forward, NULL, NULL);
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRLP4 12
ARGP4
ADDRLP4 28
CNSTP4 0
ASGNP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 398
;398:	VectorSubtract (point, self->r.currentOrigin, vec);
ADDRLP4 32
ADDRFP4 4
INDIRP4
ASGNP4
ADDRLP4 36
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 32
INDIRP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 488
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 32
INDIRP4
CNSTI4 4
ADDP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 492
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+8
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
INDIRF4
ADDRFP4 0
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
SUBF4
ASGNF4
line 399
;399:	VectorNormalize (vec);
ADDRLP4 0
ARGP4
ADDRGP4 VectorNormalize
CALLF4
pop
line 400
;400:	dot = DotProduct (vec, forward);
ADDRLP4 24
ADDRLP4 0
INDIRF4
ADDRLP4 12
INDIRF4
MULF4
ADDRLP4 0+4
INDIRF4
ADDRLP4 12+4
INDIRF4
MULF4
ADDF4
ADDRLP4 0+8
INDIRF4
ADDRLP4 12+8
INDIRF4
MULF4
ADDF4
ASGNF4
line 402
;401:	
;402:	if (dot < -0.3)
ADDRLP4 24
INDIRF4
CNSTF4 3197737370
GEF4 $238
line 403
;403:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $229
JUMPV
LABELV $238
line 404
;404:	return qfalse;
CNSTI4 0
RETI4
LABELV $229
endproc pointinback 40 16
export pointinfront
proc pointinfront 40 16
line 407
;405:} 
;406:qboolean pointinfront (gentity_t *self, vec3_t point)
;407:{
line 412
;408:	vec3_t	vec;
;409:	float	dot;
;410:	vec3_t	forward;
;411:
;412:	if ( !self->client )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $241
line 413
;413:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $240
JUMPV
LABELV $241
line 415
;414:
;415:	AngleVectors (self->client->ps.viewangles, forward, NULL, NULL);
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRLP4 12
ARGP4
ADDRLP4 28
CNSTP4 0
ASGNP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 416
;416:	VectorSubtract (point, self->r.currentOrigin, vec);
ADDRLP4 32
ADDRFP4 4
INDIRP4
ASGNP4
ADDRLP4 36
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 32
INDIRP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 488
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 32
INDIRP4
CNSTI4 4
ADDP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 492
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+8
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
INDIRF4
ADDRFP4 0
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
SUBF4
ASGNF4
line 417
;417:	VectorNormalize (vec);
ADDRLP4 0
ARGP4
ADDRGP4 VectorNormalize
CALLF4
pop
line 418
;418:	dot = DotProduct (vec, forward);
ADDRLP4 24
ADDRLP4 0
INDIRF4
ADDRLP4 12
INDIRF4
MULF4
ADDRLP4 0+4
INDIRF4
ADDRLP4 12+4
INDIRF4
MULF4
ADDF4
ADDRLP4 0+8
INDIRF4
ADDRLP4 12+8
INDIRF4
MULF4
ADDF4
ASGNF4
line 420
;419:	
;420:	if (dot > 0.3)
ADDRLP4 24
INDIRF4
CNSTF4 1050253722
LEF4 $249
line 421
;421:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $240
JUMPV
LABELV $249
line 422
;422:	return qfalse;
CNSTI4 0
RETI4
LABELV $240
endproc pointinfront 40 16
export pointabove
proc pointabove 40 16
line 425
;423:}
;424:qboolean pointabove (gentity_t *self, vec3_t point)
;425:{
line 430
;426:	vec3_t	vec;
;427:	float	dot;
;428:	vec3_t	up;
;429:
;430:	if ( !self->client )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $252
line 431
;431:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $251
JUMPV
LABELV $252
line 433
;432:
;433:	AngleVectors (self->client->ps.viewangles, NULL, NULL, up);
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRLP4 28
CNSTP4 0
ASGNP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRLP4 12
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 434
;434:	VectorSubtract (point, self->r.currentOrigin, vec);
ADDRLP4 32
ADDRFP4 4
INDIRP4
ASGNP4
ADDRLP4 36
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 32
INDIRP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 488
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 32
INDIRP4
CNSTI4 4
ADDP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 492
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+8
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
INDIRF4
ADDRFP4 0
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
SUBF4
ASGNF4
line 435
;435:	VectorNormalize (vec);
ADDRLP4 0
ARGP4
ADDRGP4 VectorNormalize
CALLF4
pop
line 436
;436:	dot = DotProduct (vec, up);
ADDRLP4 24
ADDRLP4 0
INDIRF4
ADDRLP4 12
INDIRF4
MULF4
ADDRLP4 0+4
INDIRF4
ADDRLP4 12+4
INDIRF4
MULF4
ADDF4
ADDRLP4 0+8
INDIRF4
ADDRLP4 12+8
INDIRF4
MULF4
ADDF4
ASGNF4
line 438
;437:	
;438:	if (dot > 0.3)
ADDRLP4 24
INDIRF4
CNSTF4 1050253722
LEF4 $260
line 439
;439:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $251
JUMPV
LABELV $260
line 440
;440:	return qfalse;
CNSTI4 0
RETI4
LABELV $251
endproc pointabove 40 16
export pointbelow
proc pointbelow 40 16
line 443
;441:}
;442:qboolean pointbelow (gentity_t *self, vec3_t point)
;443:{
line 448
;444:	vec3_t	vec;
;445:	float	dot;
;446:	vec3_t	up;
;447:
;448:	if ( !self->client )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $263
line 449
;449:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $262
JUMPV
LABELV $263
line 451
;450:
;451:	AngleVectors (self->client->ps.viewangles, NULL, NULL, up);
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRLP4 28
CNSTP4 0
ASGNP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRLP4 12
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 452
;452:	VectorSubtract (point, self->r.currentOrigin, vec);
ADDRLP4 32
ADDRFP4 4
INDIRP4
ASGNP4
ADDRLP4 36
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 32
INDIRP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 488
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 32
INDIRP4
CNSTI4 4
ADDP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 492
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+8
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
INDIRF4
ADDRFP4 0
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
SUBF4
ASGNF4
line 453
;453:	VectorNormalize (vec);
ADDRLP4 0
ARGP4
ADDRGP4 VectorNormalize
CALLF4
pop
line 454
;454:	dot = DotProduct (vec, up);
ADDRLP4 24
ADDRLP4 0
INDIRF4
ADDRLP4 12
INDIRF4
MULF4
ADDRLP4 0+4
INDIRF4
ADDRLP4 12+4
INDIRF4
MULF4
ADDF4
ADDRLP4 0+8
INDIRF4
ADDRLP4 12+8
INDIRF4
MULF4
ADDF4
ASGNF4
line 456
;455:	
;456:	if (dot < -0.3)
ADDRLP4 24
INDIRF4
CNSTF4 3197737370
GEF4 $271
line 457
;457:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $262
JUMPV
LABELV $271
line 458
;458:	return qfalse;
CNSTI4 0
RETI4
LABELV $262
endproc pointbelow 40 16
export inback
proc inback 52 16
line 461
;459:} 
;460:qboolean inback (gentity_t *self, gentity_t *other)
;461:{
line 466
;462:	vec3_t	vec;
;463:	float	dot;
;464:	vec3_t	forward;
;465:	
;466:	AngleVectors (self->s.angles, forward, NULL, NULL);
ADDRFP4 0
INDIRP4
CNSTI4 116
ADDP4
ARGP4
ADDRLP4 12
ARGP4
ADDRLP4 28
CNSTP4 0
ASGNP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRLP4 28
INDIRP4
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 467
;467:	VectorSubtract (other->r.currentOrigin, self->r.currentOrigin, vec);
ADDRLP4 32
ADDRFP4 4
INDIRP4
ASGNP4
ADDRLP4 36
CNSTI4 488
ASGNI4
ADDRLP4 40
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 32
INDIRP4
ADDRLP4 36
INDIRI4
ADDP4
INDIRF4
ADDRLP4 40
INDIRP4
ADDRLP4 36
INDIRI4
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 44
CNSTI4 492
ASGNI4
ADDRLP4 0+4
ADDRLP4 32
INDIRP4
ADDRLP4 44
INDIRI4
ADDP4
INDIRF4
ADDRLP4 40
INDIRP4
ADDRLP4 44
INDIRI4
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 48
CNSTI4 496
ASGNI4
ADDRLP4 0+8
ADDRFP4 4
INDIRP4
ADDRLP4 48
INDIRI4
ADDP4
INDIRF4
ADDRFP4 0
INDIRP4
ADDRLP4 48
INDIRI4
ADDP4
INDIRF4
SUBF4
ASGNF4
line 468
;468:	VectorNormalize (vec);
ADDRLP4 0
ARGP4
ADDRGP4 VectorNormalize
CALLF4
pop
line 469
;469:	dot = DotProduct (vec, forward);
ADDRLP4 24
ADDRLP4 0
INDIRF4
ADDRLP4 12
INDIRF4
MULF4
ADDRLP4 0+4
INDIRF4
ADDRLP4 12+4
INDIRF4
MULF4
ADDF4
ADDRLP4 0+8
INDIRF4
ADDRLP4 12+8
INDIRF4
MULF4
ADDF4
ASGNF4
line 471
;470:	
;471:	if (dot < -0.3)
ADDRLP4 24
INDIRF4
CNSTF4 3197737370
GEF4 $280
line 472
;472:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $273
JUMPV
LABELV $280
line 473
;473:	return qfalse;
CNSTI4 0
RETI4
LABELV $273
endproc inback 52 16
export NS_CheckLocationDamage
proc NS_CheckLocationDamage 48 8
line 484
;474:}
;475:/*
;476:=================
;477:NSQ3 GetLocationalDamage
;478:by: dX
;479:date: around 10th feburary 2k
;480:return value: returns damage as #define
;481:=================
;482:*/ 
;483:int NS_CheckLocationDamage (gentity_t *targ, vec3_t point, int mod)
;484:{
line 488
;485:	vec3_t hitpos;
;486:	float height;
;487:	
;488:	VectorSubtract(point, targ->r.currentOrigin, hitpos);
ADDRLP4 16
ADDRFP4 4
INDIRP4
ASGNP4
ADDRLP4 20
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 16
INDIRP4
INDIRF4
ADDRLP4 20
INDIRP4
CNSTI4 488
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 16
INDIRP4
CNSTI4 4
ADDP4
INDIRF4
ADDRLP4 20
INDIRP4
CNSTI4 492
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 0+8
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
INDIRF4
ADDRFP4 0
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
SUBF4
ASGNF4
line 490
;489: 
;490:	height = fabs((targ->r.currentOrigin[2] + targ->client->ps.viewheight) - point[2]);
ADDRLP4 24
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 24
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
ADDRLP4 24
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 164
ADDP4
INDIRI4
CVIF4 4
ADDF4
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
INDIRF4
SUBF4
ARGF4
ADDRLP4 28
ADDRGP4 fabs
CALLF4
ASGNF4
ADDRLP4 12
ADDRLP4 28
INDIRF4
ASGNF4
line 494
;491:
;492://	Com_Printf("height of hit relative to the player: %f\n", height );
;493:
;494:	if (height <= 3.5 )//1.125)
ADDRLP4 12
INDIRF4
CNSTF4 1080033280
GTF4 $285
line 495
;495:	{
line 496
;496:		if (pointinfront(targ, point))
ADDRFP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 32
ADDRGP4 pointinfront
CALLI4
ASGNI4
ADDRLP4 32
INDIRI4
CNSTI4 0
EQI4 $287
line 497
;497:			return LOC_FACE;
CNSTI4 2
RETI4
ADDRGP4 $282
JUMPV
LABELV $287
line 499
;498:		else
;499:			return LOC_HEAD;
CNSTI4 1
RETI4
ADDRGP4 $282
JUMPV
LABELV $285
line 501
;500:	}
;501:	else if ( height <= 18 )// if (hitpos[2] > 0)
ADDRLP4 12
INDIRF4
CNSTF4 1099956224
GTF4 $289
line 502
;502:	{
line 503
;503:		if ( pointinfront(targ, point) && ((targ->r.currentOrigin[2] + targ->client->ps.viewheight) - point[2]) > 16 )
ADDRFP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 32
ADDRGP4 pointinfront
CALLI4
ASGNI4
ADDRLP4 32
INDIRI4
CNSTI4 0
EQI4 $291
ADDRLP4 36
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 36
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
ADDRLP4 36
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 164
ADDP4
INDIRI4
CVIF4 4
ADDF4
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
INDIRF4
SUBF4
CNSTF4 1098907648
LEF4 $291
line 504
;504:			return LOC_STOMACH;
CNSTI4 4
RETI4
ADDRGP4 $282
JUMPV
LABELV $291
line 505
;505:		else if (pointinfront(targ, point))
ADDRFP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 40
ADDRGP4 pointinfront
CALLI4
ASGNI4
ADDRLP4 40
INDIRI4
CNSTI4 0
EQI4 $293
line 506
;506:			return LOC_CHEST;
CNSTI4 3
RETI4
ADDRGP4 $282
JUMPV
LABELV $293
line 507
;507:		else if (pointinback(targ, point))
ADDRFP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 44
ADDRGP4 pointinback
CALLI4
ASGNI4
ADDRLP4 44
INDIRI4
CNSTI4 0
EQI4 $295
line 508
;508:			return LOC_BACK;
CNSTI4 5
RETI4
ADDRGP4 $282
JUMPV
LABELV $295
line 509
;509:		else if (hitpos[1] > 0)
ADDRLP4 0+4
INDIRF4
CNSTF4 0
LEF4 $297
line 510
;510:			return LOC_RIGHTARM;
CNSTI4 6
RETI4
ADDRGP4 $282
JUMPV
LABELV $297
line 512
;511:		else
;512:			return LOC_LEFTARM;
CNSTI4 7
RETI4
ADDRGP4 $282
JUMPV
LABELV $289
line 515
;513:	}
;514:	else
;515:	{
line 516
;516:		if (hitpos[1] > 0)
ADDRLP4 0+4
INDIRF4
CNSTF4 0
LEF4 $300
line 517
;517:			return LOC_RIGHTLEG;
CNSTI4 8
RETI4
ADDRGP4 $282
JUMPV
LABELV $300
line 519
;518:		else
;519:			return LOC_LEFTLEG;
CNSTI4 9
RETI4
LABELV $282
endproc NS_CheckLocationDamage 48 8
lit
align 4
LABELV $304
byte 4 1056964608
byte 4 1061158912
byte 4 1063675494
byte 4 1067030938
byte 4 1075000115
align 4
LABELV $305
byte 4 1053609165
byte 4 1061158912
byte 4 1063675494
byte 4 1065353216
byte 4 1067869798
export NS_GetAccuracy
code
proc NS_GetAccuracy 92 4
line 536
;520:	} 
;521:}
;522:
;523:
;524:/*
;525:=================
;526:NSQ3 Get Accuracy
;527:author: dX
;528:date: 11-02-99
;529:return value: returns accuracy (float) based  on velocity
;530:=================
;531:*/
;532:#define PLAYER_RUNNING	150
;533:#define PLAYER_WALKING	 50
;534:#define	PLAYER_STANDING	  5
;535:
;536:float NS_GetAccuracy( gentity_t *ent , int spread) {
line 537
;537:    float factor[] = {.5f, 0.75f,0.9f, 1.2f, 2.3f};
ADDRLP4 8
ADDRGP4 $304
INDIRB
ASGNB 20
line 538
;538:	float smgfactor[] = {.4f, 0.75f, 0.9f, 1.0f, 1.3f};
ADDRLP4 28
ADDRGP4 $305
INDIRB
ASGNB 20
line 540
;539:
;540:    int stage = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 541
;541:	float xyspeed = sqrt( ent->client->ps.velocity[0] * ent->client->ps.velocity[0]
ADDRLP4 52
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 56
ADDRLP4 52
INDIRP4
CNSTI4 32
ADDP4
INDIRF4
ASGNF4
ADDRLP4 60
ADDRLP4 52
INDIRP4
CNSTI4 36
ADDP4
INDIRF4
ASGNF4
ADDRLP4 56
INDIRF4
ADDRLP4 56
INDIRF4
MULF4
ADDRLP4 60
INDIRF4
ADDRLP4 60
INDIRF4
MULF4
ADDF4
ARGF4
ADDRLP4 64
ADDRGP4 sqrt
CALLF4
ASGNF4
ADDRLP4 0
ADDRLP4 64
INDIRF4
ASGNF4
line 543
;542:		+  ent->client->ps.velocity[1] * ent->client->ps.velocity[1] );
;543:	float zspeed = sqrt( ent->client->ps.velocity[2] * ent->client->ps.velocity[2] );
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 40
ADDP4
INDIRF4
ASGNF4
ADDRLP4 68
INDIRF4
ADDRLP4 68
INDIRF4
MULF4
ARGF4
ADDRLP4 72
ADDRGP4 sqrt
CALLF4
ASGNF4
ADDRLP4 48
ADDRLP4 72
INDIRF4
ASGNF4
line 546
;544:
;545: 	// crouch / prone
;546:	if (ent->client->ps.pm_flags & PMF_DUCKED && xyspeed < PLAYER_STANDING) {
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 1
BANDI4
CNSTI4 0
EQI4 $306
ADDRLP4 0
INDIRF4
CNSTF4 1084227584
GEF4 $306
line 548
;547:		// special case for sniper weapon, always exact when standing still
;548:		if ( ent->client->ns.weaponmode[ent->s.weapon] & (1 << WM_ZOOM2X) || ent->client->ns.weaponmode[ent->s.weapon] & (1 << WM_ZOOM4X) )
ADDRLP4 76
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 80
ADDRLP4 76
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 76
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
ASGNI4
ADDRLP4 84
CNSTI4 0
ASGNI4
ADDRLP4 80
INDIRI4
CNSTI4 8192
BANDI4
ADDRLP4 84
INDIRI4
NEI4 $310
ADDRLP4 80
INDIRI4
CNSTI4 16384
BANDI4
ADDRLP4 84
INDIRI4
EQI4 $308
LABELV $310
line 549
;549:			if ( ent->client->ps.weapon == WP_PSG1 || ent->client->ps.weapon == WP_MACMILLAN )
ADDRLP4 88
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
ADDRLP4 88
INDIRI4
CNSTI4 17
EQI4 $313
ADDRLP4 88
INDIRI4
CNSTI4 18
NEI4 $311
LABELV $313
line 550
;550:				return 0;
CNSTF4 0
RETF4
ADDRGP4 $303
JUMPV
LABELV $311
LABELV $308
line 552
;551:
;552:		stage = 0; // crouch   
ADDRLP4 4
CNSTI4 0
ASGNI4
line 553
;553:	}
ADDRGP4 $307
JUMPV
LABELV $306
line 554
;554:	else if (ent->client->buttons & BUTTON_SPRINT || zspeed > 15) // rush
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1504
ADDP4
INDIRI4
CNSTI4 32
BANDI4
CNSTI4 0
NEI4 $316
ADDRLP4 48
INDIRF4
CNSTF4 1097859072
LEF4 $314
LABELV $316
line 555
;555:		stage = 4;
ADDRLP4 4
CNSTI4 4
ASGNI4
ADDRGP4 $315
JUMPV
LABELV $314
line 556
;556:	else if (ent->client->ps.pm_flags & PMF_DUCKED && xyspeed > PLAYER_STANDING)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 1
BANDI4
CNSTI4 0
EQI4 $317
ADDRLP4 0
INDIRF4
CNSTF4 1084227584
LEF4 $317
line 557
;557:		stage = 1; // it's quite hard to crouch and shoot
ADDRLP4 4
CNSTI4 1
ASGNI4
ADDRGP4 $318
JUMPV
LABELV $317
line 559
;558:	// running
;559:    else if ( xyspeed >= PLAYER_RUNNING )
ADDRLP4 0
INDIRF4
CNSTF4 1125515264
LTF4 $319
line 560
;560:        stage = 3;
ADDRLP4 4
CNSTI4 3
ASGNI4
ADDRGP4 $320
JUMPV
LABELV $319
line 562
;561:    // walking
;562:    else if ( xyspeed >= PLAYER_WALKING )
ADDRLP4 0
INDIRF4
CNSTF4 1112014848
LTF4 $321
line 563
;563:        stage = 2;
ADDRLP4 4
CNSTI4 2
ASGNI4
ADDRGP4 $322
JUMPV
LABELV $321
line 565
;564:    // standing
;565:    else if ( xyspeed < PLAYER_STANDING ) {
ADDRLP4 0
INDIRF4
CNSTF4 1084227584
GEF4 $323
line 567
;566:		// same as crouching
;567:		if ( BG_IsZooming( ent->client->ns.weaponmode[ent->s.weapon] ) )
ADDRLP4 76
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 76
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 76
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
ARGI4
ADDRLP4 80
ADDRGP4 BG_IsZooming
CALLI4
ASGNI4
ADDRLP4 80
INDIRI4
CNSTI4 0
EQI4 $325
line 568
;568:			if ( ent->client->ps.weapon == WP_PSG1 || ent->client->ps.weapon == WP_MACMILLAN )
ADDRLP4 84
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
ADDRLP4 84
INDIRI4
CNSTI4 17
EQI4 $329
ADDRLP4 84
INDIRI4
CNSTI4 18
NEI4 $327
LABELV $329
line 569
;569:				return 0;
CNSTF4 0
RETF4
ADDRGP4 $303
JUMPV
LABELV $327
LABELV $325
line 570
;570:        stage = 1;
ADDRLP4 4
CNSTI4 1
ASGNI4
line 571
;571:	}
LABELV $323
LABELV $322
LABELV $320
LABELV $318
LABELV $315
LABELV $307
line 573
;572:
;573:  	if ( ent->client->ps.stats[STAT_WEAPONMODE] & ( 1 << WM_LACTIVE ) && xyspeed >= PLAYER_WALKING)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 224
ADDP4
INDIRI4
CNSTI4 4096
BANDI4
CNSTI4 0
EQI4 $330
ADDRLP4 0
INDIRF4
CNSTF4 1112014848
LTF4 $330
line 574
;574:		stage = 1;
ADDRLP4 4
CNSTI4 1
ASGNI4
LABELV $330
line 576
;575:
;576:	if ( ent->client->ps.stats[STAT_WEAPONMODE] & ( 1 << WM_WEAPONMODE2 ) && ent->s.weapon == WP_PDW && xyspeed <= PLAYER_WALKING)
ADDRLP4 76
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 76
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 224
ADDP4
INDIRI4
CNSTI4 2048
BANDI4
CNSTI4 0
EQI4 $332
ADDRLP4 76
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 11
NEI4 $332
ADDRLP4 0
INDIRF4
CNSTF4 1112014848
GTF4 $332
line 577
;577:		stage = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $333
JUMPV
LABELV $332
line 578
;578:	else if ( ent->s.weapon == WP_PDW )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 11
NEI4 $334
line 579
;579:		spread *= 1.2;
ADDRFP4 4
CNSTF4 1067030938
ADDRFP4 4
INDIRI4
CVIF4 4
MULF4
CVFI4 4
ASGNI4
LABELV $334
LABELV $333
line 581
;580:
;581:	if (BG_IsSMG( ent->client->ps.weapon ) )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 80
ADDRGP4 BG_IsSMG
CALLI4
ASGNI4
ADDRLP4 80
INDIRI4
CNSTI4 0
EQI4 $336
line 582
;582:		return (int)(spread * smgfactor[stage]);
ADDRFP4 4
INDIRI4
CVIF4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 28
ADDP4
INDIRF4
MULF4
CVFI4 4
CVIF4 4
RETF4
ADDRGP4 $303
JUMPV
LABELV $336
line 584
;583:	else
;584:		return (int)(spread * factor[stage]);
ADDRFP4 4
INDIRI4
CVIF4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 8
ADDP4
INDIRF4
MULF4
CVFI4 4
CVIF4 4
RETF4
LABELV $303
endproc NS_GetAccuracy 92 4
export NS_CauseBleeding
proc NS_CauseBleeding 104 32
line 596
;585:}
;586: 
;587:/*
;588:=================
;589:NSQ3 Cause Bleeding
;590:author: dX
;591:date: 13-02-99
;592:description: causes bleeding...
;593:=================
;594:*/
;595:void NS_CauseBleeding(gentity_t *ent)
;596:{
line 597
;597:	int damage = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 598
;598:	int CURRENT = 1;
ADDRLP4 0
CNSTI4 1
ASGNI4
line 601
;599:
;600:	// if dead or no wounds, 
;601:	if ( !(ent->client->bleed_num) || (ent->client->ps.pm_type == PM_DEAD)  )
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 1624
ADDP4
INDIRI4
CNSTI4 0
EQI4 $341
ADDRLP4 8
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 3
NEI4 $339
LABELV $341
line 602
;602:		return; // return
ADDRGP4 $338
JUMPV
LABELV $339
line 604
;603:
;604:	for (CURRENT = 1; CURRENT <= ent->client->bleed_num;) {
ADDRLP4 0
CNSTI4 1
ASGNI4
ADDRGP4 $345
JUMPV
LABELV $342
line 606
;605:	// if wound should get to bleed now:
;606:		if (ent->client->bleed_delay[CURRENT] < level.time)
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2012
ADDP4
ADDP4
INDIRF4
ADDRGP4 level+32
INDIRI4
CVIF4 4
GEF4 $346
line 607
;607:		{
line 611
;608:			gentity_t		*tent;
;609:			vec3_t pos;// postition for bleeding
;610:			vec3_t	dir;
;611:			int dmg = -1;
ADDRLP4 28
CNSTI4 -1
ASGNI4
line 615
;612:			int	nextbleed;
;613:
;614:
;615:			damage = ent->client->bleed_point[CURRENT]; // should really be fixed
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2140
ADDP4
ADDP4
INDIRI4
ASGNI4
line 618
;616:
;617:			// inflict damage		 
;618:			dmg = G_Damage(ent, ent->client->bleed_causer[CURRENT],ent->client->bleed_causer[CURRENT],NULL,NULL,damage,DAMAGE_NO_ARMOR, MOD_BLEED); 
ADDRLP4 48
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 48
INDIRP4
ARGP4
ADDRLP4 52
CNSTI4 2
ASGNI4
ADDRLP4 56
ADDRLP4 0
INDIRI4
ADDRLP4 52
INDIRI4
LSHI4
ADDRLP4 48
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2396
ADDP4
ADDP4
INDIRP4
ASGNP4
ADDRLP4 56
INDIRP4
ARGP4
ADDRLP4 56
INDIRP4
ARGP4
ADDRLP4 60
CNSTP4 0
ASGNP4
ADDRLP4 60
INDIRP4
ARGP4
ADDRLP4 60
INDIRP4
ARGP4
ADDRLP4 4
INDIRI4
ARGI4
ADDRLP4 52
INDIRI4
ARGI4
CNSTI4 24
ARGI4
ADDRLP4 64
ADDRGP4 G_Damage
CALLI4
ASGNI4
ADDRLP4 28
ADDRLP4 64
INDIRI4
ASGNI4
line 621
;619:			
;620:			// damage :)
;621:			if ( damage > 1 ) 
ADDRLP4 4
INDIRI4
CNSTI4 1
LEI4 $349
line 623
;622:			// if damage > 1 , turn screen red
;623:				ent->client->damage_blood += damage; // for feedback   
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1532
ADDP4
ASGNP4
ADDRLP4 68
INDIRP4
ADDRLP4 68
INDIRP4
INDIRI4
ADDRLP4 4
INDIRI4
ADDI4
ASGNI4
LABELV $349
line 626
;624:
;625:			// next bleed in +X secs
;626:			if ( damage > 35 )
ADDRLP4 4
INDIRI4
CNSTI4 35
LEI4 $351
line 627
;627:				damage = 35;
ADDRLP4 4
CNSTI4 35
ASGNI4
LABELV $351
line 629
;628:
;629:			nextbleed = 3500 - damage * 100 + ent->client->pers.nsPC.strength * 50 + random()*100;
ADDRLP4 72
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 24
CNSTI4 3500
CNSTI4 100
ADDRLP4 4
INDIRI4
MULI4
SUBI4
CNSTI4 50
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
MULI4
ADDI4
CVIF4 4
CNSTF4 1120403456
ADDRLP4 72
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
MULF4
ADDF4
CVFI4 4
ASGNI4
line 631
;630:
;631:			if ( nextbleed < 0 ) 
ADDRLP4 24
INDIRI4
CNSTI4 0
GEI4 $353
line 632
;632:				nextbleed = 100;
ADDRLP4 24
CNSTI4 100
ASGNI4
LABELV $353
line 634
;633:				
;634:			ent->client->bleed_delay[CURRENT] = level.time + nextbleed;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2012
ADDP4
ADDP4
ADDRGP4 level+32
INDIRI4
ADDRLP4 24
INDIRI4
ADDI4
CVIF4 4
ASGNF4
line 636
;635:
;636:			VectorAdd(ent->client->bleed_loc[CURRENT], ent->r.absmax, pos);
ADDRLP4 76
CNSTI4 12
ADDRLP4 0
INDIRI4
MULI4
ASGNI4
ADDRLP4 80
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 84
ADDRLP4 80
INDIRP4
CNSTI4 516
ADDP4
ASGNP4
ADDRLP4 88
CNSTI4 1628
ASGNI4
ADDRLP4 12
ADDRLP4 76
INDIRI4
ADDRLP4 84
INDIRP4
INDIRP4
ADDRLP4 88
INDIRI4
ADDP4
ADDP4
INDIRF4
ADDRLP4 80
INDIRP4
CNSTI4 476
ADDP4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 12+4
ADDRLP4 76
INDIRI4
ADDRLP4 84
INDIRP4
INDIRP4
ADDRLP4 88
INDIRI4
ADDP4
ADDP4
CNSTI4 4
ADDP4
INDIRF4
ADDRLP4 80
INDIRP4
CNSTI4 480
ADDP4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 92
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 12+8
CNSTI4 12
ADDRLP4 0
INDIRI4
MULI4
ADDRLP4 92
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1628
ADDP4
ADDP4
CNSTI4 8
ADDP4
INDIRF4
ADDRLP4 92
INDIRP4
CNSTI4 484
ADDP4
INDIRF4
ADDF4
ASGNF4
line 641
;637:#if DEBUG_BUILD
;638:			G_Printf("%s[%i]: I bleed with %i , next time @ %f\n",ent->client->pers.netname, CURRENT, damage, ent->client->bleed_delay [CURRENT] ); // tell me that I bleed
;639:#endif
;640:
;641:			AngleVectors( ent->client->ps.viewangles , dir,NULL,NULL);
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRLP4 36
ARGP4
ADDRLP4 96
CNSTP4 0
ASGNP4
ADDRLP4 96
INDIRP4
ARGP4
ADDRLP4 96
INDIRP4
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 643
;642:			
;643:			SnapVector( pos );
ADDRLP4 12
ADDRLP4 12
INDIRF4
CVFI4 4
CVIF4 4
ASGNF4
ADDRLP4 12+4
ADDRLP4 12+4
INDIRF4
CVFI4 4
CVIF4 4
ASGNF4
ADDRLP4 12+8
ADDRLP4 12+8
INDIRF4
CVFI4 4
CVIF4 4
ASGNF4
line 645
;644:
;645:			tent = G_TempEntity( pos, EV_BLOODER );
ADDRLP4 12
ARGP4
CNSTI4 86
ARGI4
ADDRLP4 100
ADDRGP4 G_TempEntity
CALLP4
ASGNP4
ADDRLP4 32
ADDRLP4 100
INDIRP4
ASGNP4
line 649
;646:	//		tent->s.eventParm = ent->s.number;
;647:	//		tent->s.torsoAnim = DirToByte( dir );
;648:	//		tent->s.legsAnim = dmg; 
;649:		}
LABELV $346
line 652
;650:	
;651:	     // current++
;652:	     CURRENT += 1; 
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 653
;653:	}
LABELV $343
line 604
LABELV $345
ADDRLP4 0
INDIRI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1624
ADDP4
INDIRI4
LEI4 $342
line 654
;654:}
LABELV $338
endproc NS_CauseBleeding 104 32
export NS_FindRadius
proc NS_FindRadius 28 4
line 664
;655: 
;656:/*
;657:=================
;658:NSQ3 Find Radius
;659:author: dX
;660:date: 15-02-99
;661:description: basically the same as the q2 function
;662:=================
;663:*/ 
;664:gentity_t *NS_FindRadius (gentity_t *ent, vec3_t org, float rad) {
line 669
;665:
;666:	vec3_t eorg;
;667:	int j;
;668:
;669:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $363
line 670
;670:		ent = g_entities;
ADDRFP4 0
ADDRGP4 g_entities
ASGNP4
ADDRGP4 $368
JUMPV
LABELV $363
line 672
;671:	else
;672:		ent++;
ADDRFP4 0
ADDRFP4 0
INDIRP4
CNSTI4 1100
ADDP4
ASGNP4
line 674
;673:
;674:	for (; ent < &g_entities[level.num_entities]; ent++)
ADDRGP4 $368
JUMPV
LABELV $365
line 675
;675:		{
line 676
;676:		if (!ent->inuse)
ADDRFP4 0
INDIRP4
CNSTI4 520
ADDP4
INDIRI4
CNSTI4 0
NEI4 $370
line 677
;677:			continue;
ADDRGP4 $366
JUMPV
LABELV $370
line 679
;678:
;679:		for (j=0; j<3; j++)
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $372
line 680
;680:			eorg[j] = org[j] - (ent->r.currentOrigin[j] + (ent->r.mins[j] + ent->r.maxs[j])*0.5);
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 20
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 16
INDIRI4
ADDRLP4 4
ADDP4
ADDRLP4 16
INDIRI4
ADDRFP4 4
INDIRP4
ADDP4
INDIRF4
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRP4
CNSTI4 488
ADDP4
ADDP4
INDIRF4
CNSTF4 1056964608
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRP4
CNSTI4 436
ADDP4
ADDP4
INDIRF4
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRP4
CNSTI4 448
ADDP4
ADDP4
INDIRF4
ADDF4
MULF4
ADDF4
SUBF4
ASGNF4
LABELV $373
line 679
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 3
LTI4 $372
line 682
;681:
;682:		if (VectorLength(eorg) > rad)
ADDRLP4 4
ARGP4
ADDRLP4 24
ADDRGP4 VectorLength
CALLF4
ASGNF4
ADDRLP4 24
INDIRF4
ADDRFP4 8
INDIRF4
LEF4 $376
line 683
;683:			continue;
ADDRGP4 $366
JUMPV
LABELV $376
line 685
;684:
;685:		return ent;
ADDRFP4 0
INDIRP4
RETP4
ADDRGP4 $362
JUMPV
LABELV $366
line 674
ADDRFP4 0
ADDRFP4 0
INDIRP4
CNSTI4 1100
ADDP4
ASGNP4
LABELV $368
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTI4 1100
ADDRGP4 level+12
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
CVPU4 4
LTU4 $365
line 687
;686:	}
;687:	return NULL;
CNSTP4 0
RETP4
LABELV $362
endproc NS_FindRadius 28 4
export NS_SprayBlood
proc NS_SprayBlood 172 28
line 698
;688:} 
;689:
;690:/*
;691:=================
;692:NSQ3 Spray Blood
;693:author: dX
;694:date: 15-02-99
;695:description: sprays blood, from vector start, facing dir
;696:=================
;697:*/ 
;698:void NS_SprayBlood (gentity_t *ent, vec3_t start, vec3_t dir, int damage, qboolean brain ) {
line 703
;699:	trace_t		tr;
;700:	vec3_t		end,right,up; 
;701:	gentity_t		*tent;
;702:	gentity_t		*traceEnt;
;703:	float			length = 500;
ADDRLP4 96
CNSTF4 1140457472
ASGNF4
line 707
;704:	float		r;
;705:	float		u;
;706:	// spread it a little bit
;707:	r = crandom()*50;
ADDRLP4 112
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 100
CNSTF4 1112014848
CNSTF4 1073741824
ADDRLP4 112
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
CNSTF4 1056964608
SUBF4
MULF4
MULF4
ASGNF4
line 708
;708:	u = crandom()*50;
ADDRLP4 116
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 104
CNSTF4 1112014848
CNSTF4 1073741824
ADDRLP4 116
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
CNSTF4 1056964608
SUBF4
MULF4
MULF4
ASGNF4
line 710
;709:	
;710:	AngleVectors (ent->client->ps.viewangles, NULL, right, up);
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
CNSTP4 0
ARGP4
ADDRLP4 72
ARGP4
ADDRLP4 84
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 712
;711:
;712:	VectorMA (start, length, dir, end); 
ADDRLP4 120
ADDRFP4 4
INDIRP4
ASGNP4
ADDRLP4 124
ADDRFP4 8
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 120
INDIRP4
INDIRF4
ADDRLP4 124
INDIRP4
INDIRF4
ADDRLP4 96
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 132
CNSTI4 4
ASGNI4
ADDRLP4 0+4
ADDRLP4 120
INDIRP4
ADDRLP4 132
INDIRI4
ADDP4
INDIRF4
ADDRLP4 124
INDIRP4
ADDRLP4 132
INDIRI4
ADDP4
INDIRF4
ADDRLP4 96
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 136
CNSTI4 8
ASGNI4
ADDRLP4 0+8
ADDRFP4 4
INDIRP4
ADDRLP4 136
INDIRI4
ADDP4
INDIRF4
ADDRFP4 8
INDIRP4
ADDRLP4 136
INDIRI4
ADDP4
INDIRF4
ADDRLP4 96
INDIRF4
MULF4
ADDF4
ASGNF4
line 714
;713:
;714:	VectorMA (end, r, right, end);
ADDRLP4 0
ADDRLP4 0
INDIRF4
ADDRLP4 72
INDIRF4
ADDRLP4 100
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 0+4
INDIRF4
ADDRLP4 72+4
INDIRF4
ADDRLP4 100
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 0+8
ADDRLP4 0+8
INDIRF4
ADDRLP4 72+8
INDIRF4
ADDRLP4 100
INDIRF4
MULF4
ADDF4
ASGNF4
line 715
;715:	VectorMA (end, u, up, end);
ADDRLP4 0
ADDRLP4 0
INDIRF4
ADDRLP4 84
INDIRF4
ADDRLP4 104
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 0+4
INDIRF4
ADDRLP4 84+4
INDIRF4
ADDRLP4 104
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 0+8
ADDRLP4 0+8
INDIRF4
ADDRLP4 84+8
INDIRF4
ADDRLP4 104
INDIRF4
MULF4
ADDF4
ASGNF4
line 717
;716:
;717:	trap_Trace (&tr, start, NULL, NULL, end, ent->s.number, MASK_SHOT);
ADDRLP4 16
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 148
CNSTP4 0
ASGNP4
ADDRLP4 148
INDIRP4
ARGP4
ADDRLP4 148
INDIRP4
ARGP4
ADDRLP4 0
ARGP4
ADDRFP4 0
INDIRP4
INDIRI4
ARGI4
CNSTI4 100663297
ARGI4
ADDRGP4 trap_Trace
CALLV
pop
line 719
;718:
;719:	traceEnt = &g_entities[ tr.entityNum ];
ADDRLP4 108
CNSTI4 1100
ADDRLP4 16+52
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 721
;720:
;721:	if (traceEnt->client) // if a client
ADDRLP4 108
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $394
line 722
;722:		return;
ADDRGP4 $378
JUMPV
LABELV $394
line 724
;723:
;724:	if (!tr.plane.normal)
ADDRLP4 16+24
CVPU4 4
CNSTU4 0
NEU4 $396
line 725
;725:		return;
ADDRGP4 $378
JUMPV
LABELV $396
line 727
;726:
;727:	tent = G_TempEntity( tr.endpos, EV_BLOOD_ON_WALL );
ADDRLP4 16+12
ARGP4
CNSTI4 87
ARGI4
ADDRLP4 152
ADDRGP4 G_TempEntity
CALLP4
ASGNP4
ADDRLP4 12
ADDRLP4 152
INDIRP4
ASGNP4
line 728
;728:	tent->s.eventParm = DirToByte( tr.plane.normal ); // plane vector
ADDRLP4 16+24
ARGP4
ADDRLP4 156
ADDRGP4 DirToByte
CALLI4
ASGNI4
ADDRLP4 12
INDIRP4
CNSTI4 184
ADDP4
ADDRLP4 156
INDIRI4
ASGNI4
line 729
;729:	if (brain) {
ADDRFP4 16
INDIRI4
CNSTI4 0
EQI4 $401
line 730
;730:		tent->s.generic1 = DirToByte( dir );
ADDRFP4 8
INDIRP4
ARGP4
ADDRLP4 160
ADDRGP4 DirToByte
CALLI4
ASGNI4
ADDRLP4 12
INDIRP4
CNSTI4 204
ADDP4
ADDRLP4 160
INDIRI4
ASGNI4
line 731
;731:		tent->s.otherEntityNum = ent->s.number; // who got shot
ADDRLP4 12
INDIRP4
CNSTI4 140
ADDP4
ADDRFP4 0
INDIRP4
INDIRI4
ASGNI4
line 732
;732:	} // only needed when brain damaged
LABELV $401
line 733
;733:	tent->s.torsoAnim = damage; // amount of damage inflicted
ADDRLP4 12
INDIRP4
CNSTI4 200
ADDP4
ADDRFP4 12
INDIRI4
ASGNI4
line 734
;734:	tent->s.legsAnim = brain; // headshot
ADDRLP4 12
INDIRP4
CNSTI4 196
ADDP4
ADDRFP4 16
INDIRI4
ASGNI4
line 736
;735:
;736:	SnapVector( tent->s.origin );
ADDRLP4 160
ADDRLP4 12
INDIRP4
CNSTI4 92
ADDP4
ASGNP4
ADDRLP4 160
INDIRP4
ADDRLP4 160
INDIRP4
INDIRF4
CVFI4 4
CVIF4 4
ASGNF4
ADDRLP4 164
ADDRLP4 12
INDIRP4
CNSTI4 96
ADDP4
ASGNP4
ADDRLP4 164
INDIRP4
ADDRLP4 164
INDIRP4
INDIRF4
CVFI4 4
CVIF4 4
ASGNF4
ADDRLP4 168
ADDRLP4 12
INDIRP4
CNSTI4 100
ADDP4
ASGNP4
ADDRLP4 168
INDIRP4
ADDRLP4 168
INDIRP4
INDIRF4
CVFI4 4
CVIF4 4
ASGNF4
line 737
;737:}
LABELV $378
endproc NS_SprayBlood 172 28
export NS_ClearInventory
proc NS_ClearInventory 12 12
line 748
;738:
;739:/*
;740:=================
;741:NSQ3 Clear Inventory
;742:author: dX
;743:date: 15-07-2k
;744:description: Clears clients inventory
;745:=================
;746:*/
;747:void NS_ClearInventory ( gentity_t *ent )
;748:{
line 751
;749:	int i;
;750:
;751:	for ( i = AM_NUM_AMMO; i > -1; i-- )
ADDRLP4 0
CNSTI4 17
ASGNI4
LABELV $404
line 752
;752:	{
line 753
;753:		ent->client->pers.nsInven.ammo[i] = 0;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 692
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 754
;754:	}
LABELV $405
line 751
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 -1
GTI4 $404
line 757
;755:	
;756:	// take all xp
;757:	NS_GiveXP( ent, 999 , qtrue);
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 999
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 759
;758:
;759:	ent->client->pers.nsInven.primaryweapon = WP_NONE;  
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
CNSTI4 0
ASGNI4
line 760
;760:	ent->client->pers.nsInven.secondaryweapon = WP_NONE;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
CNSTI4 0
ASGNI4
line 762
;761:
;762:	ent->client->ps.stats[STAT_WEAPONS] = ent->client->ps.stats[STAT_WEAPONS2] = 0;
ADDRLP4 4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 8
CNSTI4 0
ASGNI4
ADDRLP4 4
INDIRP4
CNSTI4 192
ADDP4
ADDRLP4 8
INDIRI4
ASGNI4
ADDRLP4 4
INDIRP4
CNSTI4 188
ADDP4
ADDRLP4 8
INDIRI4
ASGNI4
line 763
;763:	memset(ent->client->ps.ammo, 0, sizeof(ent->client->ps.ammo ) );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ARGP4
CNSTI4 0
ARGI4
CNSTI4 64
ARGI4
ADDRGP4 memset
CALLP4
pop
line 764
;764:}
LABELV $403
endproc NS_ClearInventory 12 12
export NS_BotHacks
proc NS_BotHacks 88 16
line 775
;765:void NS_HandleCreateClassMenu ( gentity_t *ent, int menuSlot );
;766:void NS_HandleEquipmentMenu ( gentity_t *ent, int menuSlot );
;767:
;768:#define SAY_TEAM 1
;769:/*
;770:==================
;771:Bot Hacks... Adjust XP + stuff when spawning
;772:==================
;773:*/
;774:void NS_BotHacks ( gentity_t *ent )
;775:{
line 777
;776:	int xp;
;777:	float rnd = random();
ADDRLP4 12
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 4
ADDRLP4 12
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
ASGNF4
line 780
;778:	gitem_t	*weapon;
;779:
;780:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $409
line 781
;781:		return;
ADDRGP4 $408
JUMPV
LABELV $409
line 783
;782:
;783:	xp = ent->client->pers.nsPC.xp;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1444
ADDP4
INDIRI4
ASGNI4
line 785
;784:
;785:	if (ent->client->sess.waiting)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
EQI4 $411
line 786
;786:		return;
ADDRGP4 $408
JUMPV
LABELV $411
line 787
;787:	if (ent->health <= 0)
ADDRFP4 0
INDIRP4
CNSTI4 732
ADDP4
INDIRI4
CNSTI4 0
GTI4 $413
line 788
;788:		return;
ADDRGP4 $408
JUMPV
LABELV $413
line 789
;789:	if (!ent->client->ps.weapon)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
CNSTI4 0
NEI4 $415
line 790
;790:		return;
ADDRGP4 $408
JUMPV
LABELV $415
line 792
;791:
;792:	if (g_gametype.integer <= GT_TEAM)
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
GTI4 $417
line 793
;793:		return;
ADDRGP4 $408
JUMPV
LABELV $417
line 794
;794:	if (ent->client->ps.weapon == WP_NONE || !ent->client->ps.weapon )
ADDRLP4 16
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
ADDRLP4 20
CNSTI4 0
ASGNI4
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRI4
EQI4 $422
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRI4
NEI4 $420
LABELV $422
line 795
;795:		return;
ADDRGP4 $408
JUMPV
LABELV $420
line 797
;796:
;797:	weapon = BG_FindItemForWeapon( ent->client->ps.weapon  );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 24
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 24
INDIRP4
ASGNP4
line 807
;798:
;799:	/*
;800:	accuracy
;801:	speed	
;802:	stamina
;803:	stealth
;804:	strength
;805:	*/
;806:
;807:	if ( rnd < 0.2 || BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_LASER ) || BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_SCOPE )  && ent->client->pers.nsPC.accuracy < 7) 
ADDRLP4 4
INDIRF4
CNSTF4 1045220557
LTF4 $426
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 28
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 16
BANDI4
CNSTI4 0
NEI4 $426
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 32
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 32
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $423
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
CNSTI4 7
GEI4 $423
LABELV $426
line 808
;808:	{
line 809
;809:		NS_HandleCreateClassMenu( ent, 1 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 1
ARGI4
ADDRGP4 NS_HandleCreateClassMenu
CALLV
pop
line 810
;810:	}
ADDRGP4 $424
JUMPV
LABELV $423
line 811
;811:	else if ( rnd < 0.4  || BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_SILENCER )   && ent->client->pers.nsPC.stealth < 6) 
ADDRLP4 4
INDIRF4
CNSTF4 1053609165
LTF4 $429
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 36
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 36
INDIRI4
CNSTI4 32
BANDI4
CNSTI4 0
EQI4 $427
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
CNSTI4 6
GEI4 $427
LABELV $429
line 812
;812:	{
line 813
;813:		NS_HandleCreateClassMenu( ent, 4 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 4
ARGI4
ADDRGP4 NS_HandleCreateClassMenu
CALLV
pop
line 814
;814:	}
ADDRGP4 $428
JUMPV
LABELV $427
line 815
;815:	else if ( rnd < 0.6   && ent->client->pers.nsPC.speed < 10 ) 
ADDRLP4 4
INDIRF4
CNSTF4 1058642330
GEF4 $430
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
CNSTI4 10
GEI4 $430
line 816
;816:	{
line 817
;817:		NS_HandleCreateClassMenu( ent, 2 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 2
ARGI4
ADDRGP4 NS_HandleCreateClassMenu
CALLV
pop
line 818
;818:	}
ADDRGP4 $431
JUMPV
LABELV $430
line 819
;819:	else if ( rnd < 0.8   && ent->client->pers.nsPC.stamina < 10 ) {
ADDRLP4 4
INDIRF4
CNSTF4 1061997773
GEF4 $432
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
CNSTI4 10
GEI4 $432
line 820
;820:		NS_HandleCreateClassMenu( ent, 3 );	
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 3
ARGI4
ADDRGP4 NS_HandleCreateClassMenu
CALLV
pop
line 821
;821:	}
ADDRGP4 $433
JUMPV
LABELV $432
line 822
;822:	else if ( rnd < 1 || BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_BAYONET ) && ent->client->pers.nsPC.strength < 7) {
ADDRLP4 4
INDIRF4
CNSTF4 1065353216
LTF4 $436
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 40
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 40
INDIRI4
CNSTI4 1024
BANDI4
CNSTI4 0
EQI4 $434
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CNSTI4 7
GEI4 $434
LABELV $436
line 823
;823:		NS_HandleCreateClassMenu( ent, 5 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 5
ARGI4
ADDRGP4 NS_HandleCreateClassMenu
CALLV
pop
line 824
;824:	}
LABELV $434
LABELV $433
LABELV $431
LABELV $428
LABELV $424
line 827
;825:
;826:	// primary silencer
;827:	if ( ent->client->pers.nsPC.stealth >= 5 && !ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].silencer && BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_SILENCER ) )  {
ADDRLP4 44
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 44
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
CNSTI4 5
LTI4 $437
CNSTI4 28
ADDRLP4 44
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 44
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 0
NEI4 $437
ADDRLP4 44
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 48
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 48
INDIRI4
CNSTI4 32
BANDI4
CNSTI4 0
EQI4 $437
line 828
;828:		NS_HandleEquipmentMenu( ent, 3 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 3
ARGI4
ADDRGP4 NS_HandleEquipmentMenu
CALLV
pop
line 829
;829:		G_Say( ent, NULL, SAY_TEAM, va("I just equipped my %s with a %s", weapon->pickup_name, "SILENCER" ));
ADDRGP4 $439
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 28
ADDP4
INDIRP4
ARGP4
ADDRGP4 $440
ARGP4
ADDRLP4 52
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRP4
ARGP4
CNSTP4 0
ARGP4
CNSTI4 1
ARGI4
ADDRLP4 52
INDIRP4
ARGP4
ADDRGP4 G_Say
CALLV
pop
line 830
;830:	}
LABELV $437
line 833
;831:
;832:	// secondary weapon silencer
;833:	if ( ent->client->pers.nsPC.stealth >= 3 && !ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].silencer && BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_SILENCER )) {
ADDRLP4 52
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 52
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
CNSTI4 3
LTI4 $441
CNSTI4 28
ADDRLP4 52
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 52
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 0
NEI4 $441
ADDRLP4 52
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 56
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 56
INDIRI4
CNSTI4 32
BANDI4
CNSTI4 0
EQI4 $441
line 834
;834:		NS_HandleEquipmentMenu( ent, 7 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 7
ARGI4
ADDRGP4 NS_HandleEquipmentMenu
CALLV
pop
line 836
;835:	//	G_Say( ent, NULL, SAY_TEAM, va("I just equipped my %s with a %s", weapon->pickup_name, "SILENCER" );
;836:	}
LABELV $441
line 838
;837:
;838:	if ( ent->client->pers.nsPC.strength >= 4 && !ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].bayonet && BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_BAYONET ) ) {
ADDRLP4 60
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 60
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CNSTI4 4
LTI4 $443
CNSTI4 28
ADDRLP4 60
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 60
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 0
NEI4 $443
ADDRLP4 60
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 64
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 64
INDIRI4
CNSTI4 1024
BANDI4
CNSTI4 0
EQI4 $443
line 839
;839:		G_Say( ent, NULL, SAY_TEAM, va("I just equipped my %s with a %s", weapon->pickup_name, "BAYONET") );
ADDRGP4 $439
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 28
ADDP4
INDIRP4
ARGP4
ADDRGP4 $445
ARGP4
ADDRLP4 68
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRP4
ARGP4
CNSTP4 0
ARGP4
CNSTI4 1
ARGI4
ADDRLP4 68
INDIRP4
ARGP4
ADDRGP4 G_Say
CALLV
pop
line 840
;840:		NS_HandleEquipmentMenu( ent, 6 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 6
ARGI4
ADDRGP4 NS_HandleEquipmentMenu
CALLV
pop
line 841
;841:	}
LABELV $443
line 844
;842:
;843:	// accuracy
;844:	if ( ent->client->pers.nsPC.accuracy >= 4 && !ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].lasersight && BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_LASER )) {
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 68
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
CNSTI4 4
LTI4 $446
CNSTI4 28
ADDRLP4 68
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 68
INDIRP4
CNSTI4 772
ADDP4
ADDP4
INDIRI4
CNSTI4 0
NEI4 $446
ADDRLP4 68
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 72
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 72
INDIRI4
CNSTI4 16
BANDI4
CNSTI4 0
EQI4 $446
line 845
;845:		NS_HandleEquipmentMenu( ent, 5 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 5
ARGI4
ADDRGP4 NS_HandleEquipmentMenu
CALLV
pop
line 846
;846:		G_Say( ent, NULL, SAY_TEAM, va("I just equipped my %s with a %s", weapon->pickup_name, "LASERSIGHT" ));
ADDRGP4 $439
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 28
ADDP4
INDIRP4
ARGP4
ADDRGP4 $448
ARGP4
ADDRLP4 76
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRP4
ARGP4
CNSTP4 0
ARGP4
CNSTI4 1
ARGI4
ADDRLP4 76
INDIRP4
ARGP4
ADDRGP4 G_Say
CALLV
pop
line 847
;847:	}
LABELV $446
line 849
;848:
;849:	if ( ent->client->pers.nsPC.accuracy >= 6 && !ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].scope && BG_WeaponMods( ent->client->ps.weapon ) & ( 1 << WM_SCOPE )) {
ADDRLP4 76
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 76
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
CNSTI4 6
LTI4 $449
CNSTI4 28
ADDRLP4 76
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 76
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 8
ADDP4
INDIRI4
CNSTI4 0
NEI4 $449
ADDRLP4 76
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 80
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 80
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $449
line 850
;850:		NS_HandleEquipmentMenu( ent, 4 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 4
ARGI4
ADDRGP4 NS_HandleEquipmentMenu
CALLV
pop
line 851
;851:		G_Say( ent, NULL, SAY_TEAM, va("I just equipped my %s with a %s", weapon->pickup_name, "SCOPE") );
ADDRGP4 $439
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 28
ADDP4
INDIRP4
ARGP4
ADDRGP4 $451
ARGP4
ADDRLP4 84
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRP4
ARGP4
CNSTP4 0
ARGP4
CNSTI4 1
ARGI4
ADDRLP4 84
INDIRP4
ARGP4
ADDRGP4 G_Say
CALLV
pop
line 852
;852:	}
LABELV $449
line 855
;853:
;854:	// turn on lasersight
;855:	if ( ent->client->pers.nsInven.weapon_mods[ent->client->ps.weapon].lasersight )
ADDRLP4 84
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 84
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
MULI4
ADDRLP4 84
INDIRP4
CNSTI4 772
ADDP4
ADDP4
INDIRI4
CNSTI4 0
EQI4 $452
line 856
;856:		NS_WeaponMode( ent, 1 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 1
ARGI4
ADDRGP4 NS_WeaponMode
CALLV
pop
LABELV $452
line 857
;857:}
LABELV $408
endproc NS_BotHacks 88 16
export NS_NavySeals_ClientInit
proc NS_NavySeals_ClientInit 164 8
line 867
;858:/*
;859:=================
;860:NSQ3 Client init
;861:author: dX
;862:date: 15-02-99
;863:description: sets client stats
;864:=================
;865:*/
;866:void NS_NavySeals_ClientInit (gentity_t *ent)
;867:{
line 870
;868:	int i;
;869:
;870:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $455
line 871
;871:		return;
ADDRGP4 $454
JUMPV
LABELV $455
line 873
;872:
;873:	if (!ent->client)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $457
line 874
;874:		return;
ADDRGP4 $454
JUMPV
LABELV $457
line 876
;875:
;876:	for (i=0; i<32;i++)
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $459
line 877
;877:	{
line 879
;878:		// max out weaps
;879:		ent->client->ns.rounds[i] = BG_GetMaxRoundForWeapon(i);
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 8
ADDRGP4 BG_GetMaxRoundForWeapon
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
ADDRLP4 8
INDIRI4
ASGNI4
line 880
;880:	}
LABELV $460
line 876
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 32
LTI4 $459
line 881
;881:	ent->client->ns.rounds[WP_AK47*3] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2696
ADDP4
CNSTI4 1
ASGNI4
line 882
;882:	ent->client->ns.rounds[WP_M4*3] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2720
ADDP4
CNSTI4 1
ASGNI4
line 885
;883:
;884:	// return to open channel
;885:	ent->client->ns.radio_channel = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4656
ADDP4
CNSTI4 0
ASGNI4
line 888
;886:
;887:	// clear amount of people killed this round
;888:	ent->client->ns.num_killed = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2932
ADDP4
CNSTI4 0
ASGNI4
line 891
;889:	
;890:	// resert locational damage values
;891:	ent->client->ps.stats[STAT_LEG_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 208
ADDP4
CNSTI4 0
ASGNI4
line 892
;892:	ent->client->ps.stats[STAT_ARM_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 204
ADDP4
CNSTI4 0
ASGNI4
line 893
;893:	ent->client->ps.stats[STAT_STOMACH_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 216
ADDP4
CNSTI4 0
ASGNI4
line 894
;894:	ent->client->ps.stats[STAT_CHEST_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 212
ADDP4
CNSTI4 0
ASGNI4
line 895
;895:	ent->client->ps.stats[STAT_HEAD_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 220
ADDP4
CNSTI4 0
ASGNI4
line 896
;896:	ent->client->ps.stats[STAT_STAMINA] = 300;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 228
ADDP4
CNSTI4 300
ASGNI4
line 899
;897:
;898:	// copy stealth value to playerstate struct
;899:	ent->client->ps.stats[STAT_STEALTH] = ent->client->pers.nsPC.stealth;
ADDRLP4 4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 4
INDIRP4
CNSTI4 232
ADDP4
ADDRLP4 4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
ASGNI4
line 902
;900:
;901:	// weapon loadout
;902:	ent->client->ps.powerups[PW_VEST] = ent->client->pers.nsInven.powerups[PW_VEST];  
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 336
ADDP4
ADDRLP4 8
INDIRP4
CNSTI4 652
ADDP4
INDIRI4
ASGNI4
line 903
;903:	ent->client->ps.powerups[PW_HELMET] = ent->client->pers.nsInven.powerups[PW_HELMET];  
ADDRLP4 12
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 12
INDIRP4
CNSTI4 340
ADDP4
ADDRLP4 12
INDIRP4
CNSTI4 656
ADDP4
INDIRI4
ASGNI4
line 910
;904:	
;905://	ent->client->ps.powerups = ent->client->pers.nsInven.powerups;
;906:
;907://	memcpy( ent->client->ps.powerups, ent->client->pers.nsInven.powerups, sizeof(ent->client->pers.nsInven.powerups) );
;908:
;909:	// add weaps
;910:	if (g_gametype.integer >= GT_TEAM) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
LTI4 $463
line 913
;911:	//	G_Printf("Loadout:\nPrimary: %i - Secondary: %i\n9MM Clips: %i - Shells: %i\n",ent->client->pers.nsInven.primaryweapon,ent->client->pers.nsInven.secondaryweapon,ent->client->pers.nsInven.ammo[AM_9MMCLIPS],ent->client->pers.nsInven.ammo[AM_SHELLS] );
;912: 
;913:		if (g_allowKnifes.integer) {
ADDRGP4 g_allowKnifes+12
INDIRI4
CNSTI4 0
EQI4 $466
line 914
;914:			if ( ent->client->sess.sessionTeam == TEAM_BLUE )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
CNSTI4 2
NEI4 $469
line 915
;915:				BG_PackWeapon( WP_KHURKURI , ent->client->ps.stats );
CNSTI4 1
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
ADDRGP4 $470
JUMPV
LABELV $469
line 917
;916:			else
;917:				BG_PackWeapon( WP_SEALKNIFE , ent->client->ps.stats );
CNSTI4 2
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
LABELV $470
line 918
;918:		}
LABELV $466
line 921
;919:
;920:		// add desired weapons
;921:		BG_PackWeapon( ent->client->pers.nsInven.primaryweapon , ent->client->ps.stats );
ADDRLP4 16
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 16
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 16
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
line 922
;922:		BG_PackWeapon( ent->client->pers.nsInven.secondaryweapon , ent->client->ps.stats );
ADDRLP4 20
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 20
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ARGI4
ADDRLP4 20
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
line 924
;923: 
;924:		for ( i = AM_NUM_AMMO; i > -1; i-- )
ADDRLP4 0
CNSTI4 17
ASGNI4
LABELV $471
line 925
;925:			ent->client->ps.ammo[i] = ent->client->pers.nsInven.ammo[i];
ADDRLP4 24
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 28
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 24
INDIRI4
ADDRLP4 28
INDIRP4
CNSTI4 376
ADDP4
ADDP4
ADDRLP4 24
INDIRI4
ADDRLP4 28
INDIRP4
CNSTI4 692
ADDP4
ADDP4
INDIRI4
ASGNI4
LABELV $472
line 924
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 -1
GTI4 $471
line 927
;926:
;927:		if ( ent->client->ps.ammo[AM_M257] > 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 420
ADDP4
INDIRI4
CNSTI4 0
LEI4 $475
line 928
;928:			ent->client->ps.ammo[AM_M257] *= 7;
ADDRLP4 32
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 420
ADDP4
ASGNP4
ADDRLP4 32
INDIRP4
CNSTI4 7
ADDRLP4 32
INDIRP4
INDIRI4
MULI4
ASGNI4
LABELV $475
line 931
;929:/*		if ( ent->client->ps.ammo[AM_XM162] > 0 )
;930:			ent->client->ps.ammo[AM_XM162] *= 7; */
;931:		if ( ent->client->ps.ammo[AM_FLECHETS] > 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 428
ADDP4
INDIRI4
CNSTI4 0
LEI4 $477
line 932
;932:			ent->client->ps.ammo[AM_FLECHETS] *= 7;
ADDRLP4 36
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 428
ADDP4
ASGNP4
ADDRLP4 36
INDIRP4
CNSTI4 7
ADDRLP4 36
INDIRP4
INDIRI4
MULI4
ASGNI4
LABELV $477
line 935
;933:
;934:		// if we got flashbangs / grenades, equip us!
;935:		if ( ent->client->ps.ammo[AM_FLASHBANGS] > 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 436
ADDP4
INDIRI4
CNSTI4 0
LEI4 $479
line 936
;936:			BG_PackWeapon( WP_FLASHBANG , ent->client->ps.stats );
CNSTI4 5
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
LABELV $479
line 937
;937:		if ( ent->client->ps.ammo[AM_GRENADES] > 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 432
ADDP4
INDIRI4
CNSTI4 0
LEI4 $481
line 938
;938:			BG_PackWeapon( WP_GRENADE , ent->client->ps.stats ); 
CNSTI4 4
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
LABELV $481
line 942
;939:
;940:
;941:		// reset weapon mods
;942:		for ( i = WP_NUM_WEAPONS; i > WP_NONE; i-- )
ADDRLP4 0
CNSTI4 23
ASGNI4
LABELV $483
line 943
;943:			ent->client->ns.weaponmode[ i ] = 0;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
CNSTI4 0
ASGNI4
LABELV $484
line 942
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
GTI4 $483
line 945
;944:		 
;945:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].silencer )
ADDRLP4 40
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 40
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 40
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 0
EQI4 $487
line 946
;946:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.primaryweapon ] |= ( 1 << WM_SILENCER );
ADDRLP4 44
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 48
ADDRLP4 44
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 44
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 48
INDIRP4
ADDRLP4 48
INDIRP4
INDIRI4
CNSTI4 32
BORI4
ASGNI4
LABELV $487
line 947
;947:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].lasersight )
ADDRLP4 52
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 52
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 52
INDIRP4
CNSTI4 772
ADDP4
ADDP4
INDIRI4
CNSTI4 0
EQI4 $489
line 948
;948:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.primaryweapon ] |= ( 1 << WM_LASER );			
ADDRLP4 56
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 60
ADDRLP4 56
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 56
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 60
INDIRP4
ADDRLP4 60
INDIRP4
INDIRI4
CNSTI4 16
BORI4
ASGNI4
LABELV $489
line 949
;949:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].scope )
ADDRLP4 64
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 64
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 64
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 8
ADDP4
INDIRI4
CNSTI4 0
EQI4 $491
line 950
;950:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.primaryweapon ] |= ( 1 << WM_SCOPE);
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 72
ADDRLP4 68
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 68
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 72
INDIRP4
ADDRLP4 72
INDIRP4
INDIRI4
CNSTI4 8
BORI4
ASGNI4
LABELV $491
line 951
;951:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].bayonet )
ADDRLP4 76
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 76
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 76
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 0
EQI4 $493
line 952
;952:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.primaryweapon ] |= ( 1 << WM_BAYONET);
ADDRLP4 80
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 84
ADDRLP4 80
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 80
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 84
INDIRP4
ADDRLP4 84
INDIRP4
INDIRI4
CNSTI4 1024
BORI4
ASGNI4
LABELV $493
line 953
;953:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].silencer )
ADDRLP4 88
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 88
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 88
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 0
EQI4 $495
line 954
;954:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.secondaryweapon ] |= ( 1 << WM_SILENCER );
ADDRLP4 92
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 96
ADDRLP4 92
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 92
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 96
INDIRP4
ADDRLP4 96
INDIRP4
INDIRI4
CNSTI4 32
BORI4
ASGNI4
LABELV $495
line 955
;955:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].lasersight )
ADDRLP4 100
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 100
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 100
INDIRP4
CNSTI4 772
ADDP4
ADDP4
INDIRI4
CNSTI4 0
EQI4 $497
line 956
;956:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.secondaryweapon ] |= ( 1 << WM_LASER );
ADDRLP4 104
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 108
ADDRLP4 104
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 104
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 108
INDIRP4
ADDRLP4 108
INDIRP4
INDIRI4
CNSTI4 16
BORI4
ASGNI4
LABELV $497
line 957
;957:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].gl )
ADDRLP4 112
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 112
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 112
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 16
ADDP4
INDIRI4
CNSTI4 0
EQI4 $499
line 958
;958:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.primaryweapon ] |= ( 1 << WM_GRENADELAUNCHER );			
ADDRLP4 116
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 120
ADDRLP4 116
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 116
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 120
INDIRP4
ADDRLP4 120
INDIRP4
INDIRI4
CNSTI4 512
BORI4
ASGNI4
LABELV $499
line 959
;959:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].duckbill )
ADDRLP4 124
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 124
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 124
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 20
ADDP4
INDIRI4
CNSTI4 0
EQI4 $501
line 960
;960:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.primaryweapon ] |= ( 1 << WM_DUCKBILL );			
ADDRLP4 128
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 132
ADDRLP4 128
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 128
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 132
INDIRP4
ADDRLP4 132
INDIRP4
INDIRI4
CNSTI4 128
BORI4
ASGNI4
LABELV $501
line 961
;961:		if ( ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].flashlight )
ADDRLP4 136
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 136
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 136
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 24
ADDP4
INDIRI4
CNSTI4 0
EQI4 $503
line 962
;962:			ent->client->ns.weaponmode[ ent->client->pers.nsInven.primaryweapon ] |= ( 1 << WM_FLASHLIGHT );			
ADDRLP4 140
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 144
ADDRLP4 140
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 140
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 144
INDIRP4
ADDRLP4 144
INDIRP4
INDIRI4
CNSTI4 256
BORI4
ASGNI4
LABELV $503
line 966
;963:
;964:
;965:		// force the base weapon up
;966:		ent->client->ps.weapon = ent->client->pers.nsInven.primaryweapon;
ADDRLP4 148
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 148
INDIRP4
CNSTI4 144
ADDP4
ADDRLP4 148
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ASGNI4
line 967
;967:		ent->s.weapon = ent->client->pers.nsInven.primaryweapon;
ADDRLP4 152
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 152
INDIRP4
CNSTI4 192
ADDP4
ADDRLP4 152
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ASGNI4
line 969
;968:
;969:		ent->client->ps.weaponstate = WEAPON_RAISING;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 1
ASGNI4
line 970
;970:		ent->client->ps.weaponTime = GetWeaponTimeOnRaise( ent );
ADDRLP4 156
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 156
INDIRP4
ARGP4
ADDRLP4 160
ADDRGP4 GetWeaponTimeOnRaise
CALLI4
ASGNI4
ADDRLP4 156
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 160
INDIRI4
ASGNI4
line 972
;971:		
;972:	}
ADDRGP4 $464
JUMPV
LABELV $463
line 973
;973:	else {
line 974
;974:		int _wp = WP_MK23;
ADDRLP4 16
CNSTI4 6
ASGNI4
line 975
;975:		int _close = WP_SEALKNIFE;
ADDRLP4 20
CNSTI4 2
ASGNI4
line 978
;976:		gitem_t *sec;
;977:
;978:		if (random() < 0.5)
ADDRLP4 28
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
CNSTF4 1056964608
GEF4 $505
line 979
;979:			_wp = WP_GLOCK;
ADDRLP4 16
CNSTI4 7
ASGNI4
LABELV $505
line 980
;980:		if (random() > 0.5)
ADDRLP4 32
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 32
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
CNSTF4 1056964608
LEF4 $507
line 981
;981:			_close = WP_KHURKURI;
ADDRLP4 20
CNSTI4 1
ASGNI4
LABELV $507
line 983
;982:
;983:		BG_PackWeapon(_wp, ent->client->ps.stats );
ADDRLP4 16
INDIRI4
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
line 984
;984:		BG_PackWeapon(_close, ent->client->ps.stats );
ADDRLP4 20
INDIRI4
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
line 986
;985: 
;986:		sec = BG_FindItemForWeapon( _wp ); 
ADDRLP4 16
INDIRI4
ARGI4
ADDRLP4 36
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 24
ADDRLP4 36
INDIRP4
ASGNP4
line 988
;987:	
;988:		ent->client->ps.ammo[sec->giAmmoTag] = 2;
ADDRLP4 40
CNSTI4 2
ASGNI4
ADDRLP4 24
INDIRP4
CNSTI4 44
ADDP4
INDIRI4
ADDRLP4 40
INDIRI4
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ADDP4
ADDRLP4 40
INDIRI4
ASGNI4
line 991
;989:
;990:		// force the base weapon up
;991:		ent->client->ps.weapon = _wp;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
ADDRLP4 16
INDIRI4
ASGNI4
line 992
;992:		ent->s.weapon = _wp;
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
ADDRLP4 16
INDIRI4
ASGNI4
line 994
;993:
;994:		ent->client->ps.weaponstate = WEAPON_RAISING;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 1
ASGNI4
line 995
;995:		ent->client->ps.weaponTime = GetWeaponTimeOnRaise( ent );
ADDRLP4 44
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 44
INDIRP4
ARGP4
ADDRLP4 48
ADDRGP4 GetWeaponTimeOnRaise
CALLI4
ASGNI4
ADDRLP4 44
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 48
INDIRI4
ASGNI4
line 996
;996:	}
LABELV $464
line 998
;997:	
;998:	if (NS_IsBot( ent ) )
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 16
ADDRGP4 NS_IsBot
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
EQI4 $509
line 999
;999:		NS_BotHacks( ent );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 NS_BotHacks
CALLV
pop
LABELV $509
line 1003
;1000:
;1001:	// remove blownhead flag!
;1002://	ent->client->ps.eFlags &= ~EF_HEADBLOWN;
;1003:}
LABELV $454
endproc NS_NavySeals_ClientInit 164 8
lit
align 4
LABELV $512
byte 4 3229614080
byte 4 3229614080
byte 4 3229614080
align 4
LABELV $513
byte 4 1082130432
byte 4 1082130432
byte 4 1082130432
export NS_OpenDoor
code
proc NS_OpenDoor 184 28
line 1025
;1004:
;1005:
;1006:/*
;1007:==============
;1008:
;1009:  COMMANDS
;1010:
;1011:==============
;1012:*/ 
;1013:
;1014:/*
;1015:=================
;1016:NSQ3 Open Door
;1017:author: dX
;1018:date: 15-02-99
;1019:description: Handles interaction with objects
;1020:=================
;1021:*/
;1022:
;1023:#define NS_OBJECTUSE_RANGE	100
;1024:
;1025:void NS_OpenDoor (gentity_t *ent ) {
line 1028
;1026:	trace_t		tr;
;1027:	vec3_t		end,forward,start,right,up;
;1028:	qboolean	useanim = qfalse;
ADDRLP4 24
CNSTI4 0
ASGNI4
line 1029
;1029:	gentity_t	*traceEnt = NULL/*, *tent*/;
ADDRLP4 28
CNSTP4 0
ASGNP4
line 1030
;1030:	vec3_t		mins = { -4,-4,-4 };
ADDRLP4 68
ADDRGP4 $512
INDIRB
ASGNB 12
line 1031
;1031:	vec3_t		maxs = { 4,4,4 };
ADDRLP4 80
ADDRGP4 $513
INDIRB
ASGNB 12
line 1033
;1032:
;1033:	if ( (ent->client->ps.pm_flags & PMF_BOMBCASE) )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 16384
BANDI4
CNSTI4 0
EQI4 $514
line 1034
;1034:		return;
ADDRGP4 $511
JUMPV
LABELV $514
line 1037
;1035:
;1036:
;1037:	if ( ent->client->ps.pm_type == PM_SPECTATOR || ent->client->ps.pm_type == PM_NOCLIP || ent->client->sess.waiting )
ADDRLP4 148
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 152
ADDRLP4 148
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
ASGNI4
ADDRLP4 152
INDIRI4
CNSTI4 2
EQI4 $519
ADDRLP4 152
INDIRI4
CNSTI4 1
EQI4 $519
ADDRLP4 148
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
EQI4 $516
LABELV $519
line 1038
;1038:	{
line 1039
;1039:		if ( ent->client->ps.pm_flags & PMF_FOLLOW )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 4096
BANDI4
CNSTI4 0
EQI4 $520
line 1040
;1040:		{
line 1041
;1041:			ent->client->ps.pm_flags &= ~PMF_FOLLOW;
ADDRLP4 156
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 12
ADDP4
ASGNP4
ADDRLP4 156
INDIRP4
ADDRLP4 156
INDIRP4
INDIRI4
CNSTI4 -4097
BANDI4
ASGNI4
line 1042
;1042:			PrintMsg( ent, "Camera Disabled.\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $522
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 1043
;1043:		}
ADDRGP4 $511
JUMPV
LABELV $520
line 1045
;1044:		else
;1045:		{
line 1046
;1046:			ent->client->ps.pm_flags |= PMF_FOLLOW;
ADDRLP4 156
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 12
ADDP4
ASGNP4
ADDRLP4 156
INDIRP4
ADDRLP4 156
INDIRP4
INDIRI4
CNSTI4 4096
BORI4
ASGNI4
line 1047
;1047:			PrintMsg( ent, "Camera Enabled.\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $523
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 1048
;1048:		} 
line 1049
;1049:		return;
ADDRGP4 $511
JUMPV
LABELV $516
line 1052
;1050:	}
;1051:
;1052:	AngleVectors( ent->client->ps.viewangles, forward, right,up );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRLP4 0
ARGP4
ADDRLP4 44
ARGP4
ADDRLP4 56
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 1054
;1053: 
;1054:	CalcMuzzlePoint( ent, forward, right, up, start );
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 0
ARGP4
ADDRLP4 44
ARGP4
ADDRLP4 56
ARGP4
ADDRLP4 32
ARGP4
ADDRGP4 CalcMuzzlePoint
CALLV
pop
line 1056
;1055:	// fix 7-12
;1056:	VectorMA( ent->s.pos.trBase, NS_OBJECTUSE_RANGE, forward, end );
ADDRLP4 156
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 160
CNSTF4 1120403456
ASGNF4
ADDRLP4 12
ADDRLP4 156
INDIRP4
CNSTI4 24
ADDP4
INDIRF4
ADDRLP4 160
INDIRF4
ADDRLP4 0
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 12+4
ADDRLP4 156
INDIRP4
CNSTI4 28
ADDP4
INDIRF4
ADDRLP4 160
INDIRF4
ADDRLP4 0+4
INDIRF4
MULF4
ADDF4
ASGNF4
ADDRLP4 12+8
ADDRFP4 0
INDIRP4
CNSTI4 32
ADDP4
INDIRF4
CNSTF4 1120403456
ADDRLP4 0+8
INDIRF4
MULF4
ADDF4
ASGNF4
line 1061
;1057:  
;1058:	// snap to integer coordinates for more efficient network bandwidth usage
;1059://	SnapVector( start );
;1060:
;1061:	trap_Trace( &tr, start, mins, maxs, end, ent->s.number, MASK_ALL );
ADDRLP4 92
ARGP4
ADDRLP4 32
ARGP4
ADDRLP4 68
ARGP4
ADDRLP4 80
ARGP4
ADDRLP4 12
ARGP4
ADDRFP4 0
INDIRP4
INDIRI4
ARGI4
CNSTI4 -1
ARGI4
ADDRGP4 trap_Trace
CALLV
pop
line 1063
;1062:	
;1063:	if ( NS_GotWounds( ent ) ) 
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 164
ADDRGP4 NS_GotWounds
CALLI4
ASGNI4
ADDRLP4 164
INDIRI4
CNSTI4 0
EQI4 $528
line 1064
;1064:		NS_StartBandage( ent ); 
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 NS_StartBandage
CALLV
pop
LABELV $528
line 1066
;1065:
;1066:	if (!useanim) 
ADDRLP4 24
INDIRI4
CNSTI4 0
NEI4 $530
line 1067
;1067:	{
line 1068
;1068:		traceEnt = &g_entities[ tr.entityNum ]; 
ADDRLP4 28
CNSTI4 1100
ADDRLP4 92+52
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 1070
;1069:		
;1070:		if (traceEnt->classname)
ADDRLP4 28
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $533
line 1071
;1071:		{ 
line 1072
;1072:			if (!Q_stricmp( traceEnt->classname, "turret_breach" ) )
ADDRLP4 28
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRGP4 $537
ARGP4
ADDRLP4 168
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 168
INDIRI4
CNSTI4 0
NEI4 $535
line 1073
;1073:			{
line 1074
;1074:				traceEnt->parent = ent;
ADDRLP4 28
INDIRP4
CNSTI4 600
ADDP4
ADDRFP4 0
INDIRP4
ASGNP4
line 1075
;1075:			}
ADDRGP4 $536
JUMPV
LABELV $535
line 1076
;1076:			else if (!Q_stricmp( traceEnt->classname, "c4_placed") )
ADDRLP4 28
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRGP4 $540
ARGP4
ADDRLP4 172
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 172
INDIRI4
CNSTI4 0
NEI4 $538
line 1077
;1077:			{ 
line 1078
;1078:				traceEnt->use(traceEnt, ent , ent ); 
ADDRLP4 176
ADDRLP4 28
INDIRP4
ASGNP4
ADDRLP4 176
INDIRP4
ARGP4
ADDRLP4 180
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 180
INDIRP4
ARGP4
ADDRLP4 180
INDIRP4
ARGP4
ADDRLP4 176
INDIRP4
CNSTI4 708
ADDP4
INDIRP4
CALLV
pop
line 1079
;1079:				useanim = qtrue; 
ADDRLP4 24
CNSTI4 1
ASGNI4
line 1080
;1080:			} 
ADDRGP4 $539
JUMPV
LABELV $538
line 1081
;1081:			else if ( traceEnt->s.eType == ET_ITEM && BG_CanItemBeGrabbed(g_gametype.integer, &traceEnt->s, &ent->client->ps) )
ADDRLP4 176
ADDRLP4 28
INDIRP4
ASGNP4
ADDRLP4 176
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 2
NEI4 $541
ADDRGP4 g_gametype+12
INDIRI4
ARGI4
ADDRLP4 176
INDIRP4
ARGP4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ARGP4
ADDRLP4 180
ADDRGP4 BG_CanItemBeGrabbed
CALLI4
ASGNI4
ADDRLP4 180
INDIRI4
CNSTI4 0
EQI4 $541
line 1082
;1082:			{ 
line 1083
;1083:				Pick_Item ( traceEnt, ent, &tr );
ADDRLP4 28
INDIRP4
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 92
ARGP4
ADDRGP4 Pick_Item
CALLV
pop
line 1084
;1084:				useanim = qtrue;
ADDRLP4 24
CNSTI4 1
ASGNI4
line 1085
;1085:			}   
LABELV $541
LABELV $539
LABELV $536
line 1086
;1086:		}
LABELV $533
line 1087
;1087:	}
LABELV $530
line 1089
;1088:
;1089:	if (useanim)
ADDRLP4 24
INDIRI4
CNSTI4 0
EQI4 $544
line 1090
;1090:		NS_PlayerAnimation( ent, TORSO_OPEN_DOOR, 750, qfalse );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 17
ARGI4
CNSTI4 750
ARGI4
CNSTI4 0
ARGI4
ADDRGP4 NS_PlayerAnimation
CALLV
pop
LABELV $544
line 1092
;1091:
;1092:}
LABELV $511
endproc NS_OpenDoor 184 28
data
export remove_classnames
align 4
LABELV remove_classnames
address $546
address $547
address $548
address $549
address $550
address $551
address $552
address $553
address $554
address $555
address $556
address $557
address $558
address $559
address $560
address $561
address $562
address $563
address $564
address $565
address $566
address $567
address $568
address $569
address $570
address $571
address $572
address $573
address $574
address $575
address $576
address $577
address $578
address $579
address $580
address $581
address $540
address $582
address $583
address $584
export NS_RemoveItems
code
proc NS_RemoveItems 28 8
line 1152
;1093:/*
;1094:==============
;1095:
;1096:  TEAMPLAY CODE
;1097:
;1098:==============
;1099:*/
;1100:/*
;1101:=================
;1102:NSQ3 Remove Items
;1103:author: Defcon-X
;1104:date: 10-06-2k
;1105:description: removes items in a map
;1106:=================
;1107:*/ 
;1108:char *remove_classnames[] = 
;1109:{
;1110:	"item_armor_shard",  // 0
;1111:	"item_armor_combat", // 1
;1112:	"item_armor_body",   
;1113:	"item_health_small", 
;1114:	"item_health",  
;1115:	"item_health_large", // 5
;1116:	"item_health_mega", 
;1117:	"weapon_gauntlet",  
;1118:	"weapon_machinegun", 
;1119:	"weapon_shotgun", 
;1120:	"weapon_rocketlauncher", // 10 
;1121:	"weapon_grenadelauncher", 
;1122:	"weapon_ak47", 
;1123:	"weapon_lightning",  
;1124:	"weapon_railgun",  
;1125:	"weapon_plasmagun",  // 15
;1126:	"weapon_bfg", 
;1127:	"weapon_grapplinghook", 
;1128:	"weapon_macmillan",
;1129:	"weapon_m4",
;1130:	"ammo_shells", 
;1131:	"ammo_bullets", 
;1132:	"ammo_grenades", //20
;1133:	"ammo_cells", 
;1134:	"ammo_lightning", 
;1135:	"ammo_rockets", 
;1136:	"ammo_slugs", 
;1137:	"ammo_bfg", //25
;1138:	"holdable_teleporter",  
;1139:	"holdable_medkit",  
;1140:	"item_quad",  
;1141:	"item_enviro", 
;1142:	"item_haste", //30
;1143:	"item_invis", 
;1144:	"item_regen", 
;1145:	"item_flight", // 35
;1146:	"c4_placed",
;1147:	"40mmgrenade",
;1148:	"reallead",
;1149:	"END"
;1150:};
;1151:
;1152:void NS_RemoveItems( void ) {
line 1153
;1153:	int			i,j = 0;
ADDRLP4 0
CNSTI4 0
ASGNI4
line 1157
;1154:	gentity_t	*ent;
;1155:	
;1156: 
;1157:	ent = &g_entities[0];
ADDRLP4 4
ADDRGP4 g_entities
ASGNP4
line 1158
;1158:	for (i=0 ; i<level.num_entities ; i++, ent++) {
ADDRLP4 8
CNSTI4 0
ASGNI4
ADDRGP4 $589
JUMPV
LABELV $586
line 1159
;1159:		if ( !ent->inuse ) {
ADDRLP4 4
INDIRP4
CNSTI4 520
ADDP4
INDIRI4
CNSTI4 0
NEI4 $591
line 1160
;1160:			continue;
ADDRGP4 $587
JUMPV
LABELV $591
line 1163
;1161:		}
;1162:
;1163:		if (!ent || !ent->classname)
ADDRLP4 16
CNSTU4 0
ASGNU4
ADDRLP4 4
INDIRP4
CVPU4 4
ADDRLP4 16
INDIRU4
EQU4 $595
ADDRLP4 4
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
CVPU4 4
ADDRLP4 16
INDIRU4
NEU4 $593
LABELV $595
line 1164
;1164:			return; 
ADDRGP4 $585
JUMPV
LABELV $593
line 1168
;1165:
;1166:		
;1167:		// dead bodys need special handling
;1168:		if (!Q_stricmp("bodyque", ent->classname))
ADDRGP4 $598
ARGP4
ADDRLP4 4
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 20
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 0
NEI4 $602
line 1169
;1169:		{
line 1170
;1170:			if (ent->physicsObject == qtrue) // if it's a dead body , not something free in que
ADDRLP4 4
INDIRP4
CNSTI4 564
ADDP4
INDIRI4
CNSTI4 1
NEI4 $587
line 1171
;1171:			{
line 1172
;1172:				trap_UnlinkEntity( ent );
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 trap_UnlinkEntity
CALLV
pop
line 1173
;1173:				ent->physicsObject = qfalse;
ADDRLP4 4
INDIRP4
CNSTI4 564
ADDP4
CNSTI4 0
ASGNI4
line 1174
;1174:			}
line 1175
;1175:			continue;
ADDRGP4 $587
JUMPV
LABELV $601
line 1180
;1176:		}
;1177:
;1178:		// scan
;1179:		while (!Q_stricmp(remove_classnames[j], "END") )
;1180:		{
line 1182
;1181:			// if it's in the listeben ja schon um die 20 waffen
;1182:			if (!Q_stricmp(remove_classnames[j], ent->classname))
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 remove_classnames
ADDP4
INDIRP4
ARGP4
ADDRLP4 4
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 24
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 0
NEI4 $604
line 1183
;1183:			{
line 1185
;1184:				// remove it
;1185:				G_FreeEntity(ent);
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 G_FreeEntity
CALLV
pop
line 1186
;1186:			}
LABELV $604
line 1187
;1187:			j++;
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1188
;1188:		}
LABELV $602
line 1179
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 remove_classnames
ADDP4
INDIRP4
ARGP4
ADDRGP4 $584
ARGP4
ADDRLP4 24
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 0
EQI4 $601
line 1190
;1189:
;1190:	}
LABELV $587
line 1158
ADDRLP4 8
ADDRLP4 8
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 4
ADDRLP4 4
INDIRP4
CNSTI4 1100
ADDP4
ASGNP4
LABELV $589
ADDRLP4 8
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $586
line 1191
;1191:	G_LogPrintf("Removed items...");
ADDRGP4 $606
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1192
;1192:}
LABELV $585
endproc NS_RemoveItems 28 8
export NS_LaunchEntities
proc NS_LaunchEntities 80 12
line 1206
;1193:
;1194:void assault_field_start( gentity_t *ent );
;1195:void NS_GiveBombsToTeam( team_t team );
;1196:
;1197:
;1198:/*
;1199:=================
;1200:NSQ3 Launch Items
;1201:author: Defcon-X
;1202:date: 16-06-2k
;1203:description: relaunch entites, restart entities
;1204:=================
;1205:*/ 
;1206:void NS_LaunchEntities( void ) {
line 1213
;1207:
;1208:	// launch entities
;1209:	int			i;
;1210:	gentity_t	*ent;
;1211:	
;1212: 
;1213:	ent = &g_entities[0];
ADDRLP4 0
ADDRGP4 g_entities
ASGNP4
line 1214
;1214:	for (i=0 ; i<level.num_entities ; i++, ent++) { 
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $611
JUMPV
LABELV $608
line 1217
;1215:
;1216:		// if it's in the list
;1217:		if (!Q_stricmp("trigger_counter", ent->classname))
ADDRGP4 $615
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 8
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
NEI4 $613
line 1218
;1218:			ent->use(ent,ent,ent); // fire up - start counting
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 708
ADDP4
INDIRP4
CALLV
pop
ADDRGP4 $614
JUMPV
LABELV $613
line 1220
;1219:		else if (
;1220:					!Q_stricmp(ent->classname , "func_explosive_glass" ) ||
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRGP4 $618
ARGP4
ADDRLP4 16
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
EQI4 $625
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRGP4 $619
ARGP4
ADDRLP4 20
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 0
EQI4 $625
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRGP4 $620
ARGP4
ADDRLP4 24
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 0
EQI4 $625
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRGP4 $621
ARGP4
ADDRLP4 28
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 0
EQI4 $625
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRGP4 $80
ARGP4
ADDRLP4 32
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 32
INDIRI4
CNSTI4 0
NEI4 $616
LABELV $625
line 1226
;1221:					!Q_stricmp(ent->classname , "func_explosive_wood") ||
;1222:					!Q_stricmp(ent->classname , "func_explosive_metal") ||
;1223:					!Q_stricmp(ent->classname , "func_explosive_stone") ||
;1224:					!Q_stricmp(ent->classname , "func_explosive")
;1225:			)
;1226:		{
line 1227
;1227:			ent->health = ent->count;
ADDRLP4 0
INDIRP4
CNSTI4 732
ADDP4
ADDRLP4 0
INDIRP4
CNSTI4 760
ADDP4
INDIRI4
ASGNI4
line 1228
;1228:			ent->ns_flags = ent->timestamp;
ADDRLP4 0
INDIRP4
CNSTI4 812
ADDP4
ADDRLP4 0
INDIRP4
CNSTI4 640
ADDP4
INDIRI4
ASGNI4
line 1230
;1229:
;1230:			if ( !ent->targetname )
ADDRLP4 0
INDIRP4
CNSTI4 652
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $626
line 1231
;1231:				ent->takedamage = qtrue;
ADDRLP4 0
INDIRP4
CNSTI4 736
ADDP4
CNSTI4 1
ASGNI4
LABELV $626
line 1233
;1232:
;1233:			ent->r.svFlags &= ~SVF_NOCLIENT;
ADDRLP4 44
ADDRLP4 0
INDIRP4
CNSTI4 424
ADDP4
ASGNP4
ADDRLP4 44
INDIRP4
ADDRLP4 44
INDIRP4
INDIRI4
CNSTI4 -2
BANDI4
ASGNI4
line 1234
;1234:			ent->r.contents = CONTENTS_SOLID;
ADDRLP4 0
INDIRP4
CNSTI4 460
ADDP4
CNSTI4 1
ASGNI4
line 1236
;1235: 
;1236:		} 
ADDRGP4 $617
JUMPV
LABELV $616
line 1237
;1237:		else if (!Q_stricmp("func_goal", ent->classname))
ADDRGP4 $630
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 36
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 36
INDIRI4
CNSTI4 0
NEI4 $628
line 1238
;1238:		{
line 1239
;1239:			ent->think = Think_Goal;
ADDRLP4 0
INDIRP4
CNSTI4 692
ADDP4
ADDRGP4 Think_Goal
ASGNP4
line 1240
;1240:			ent->nextthink = level.time + ent->timestamp;
ADDRLP4 0
INDIRP4
CNSTI4 688
ADDP4
ADDRGP4 level+32
INDIRI4
ADDRLP4 0
INDIRP4
CNSTI4 640
ADDP4
INDIRI4
ADDI4
ASGNI4
line 1241
;1241:			ent->touch = Touch_Goal;
ADDRLP4 0
INDIRP4
CNSTI4 704
ADDP4
ADDRGP4 Touch_Goal
ASGNP4
line 1242
;1242:			ent->r.svFlags &= ~SVF_NOCLIENT;
ADDRLP4 44
ADDRLP4 0
INDIRP4
CNSTI4 424
ADDP4
ASGNP4
ADDRLP4 44
INDIRP4
ADDRLP4 44
INDIRP4
INDIRI4
CNSTI4 -2
BANDI4
ASGNI4
line 1244
;1243:
;1244:			trap_LinkEntity (ent);
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_LinkEntity
CALLV
pop
line 1245
;1245:		}
ADDRGP4 $629
JUMPV
LABELV $628
line 1246
;1246:		else if (!Q_stricmp("func_mission_object", ent->classname))
ADDRGP4 $634
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 40
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 40
INDIRI4
CNSTI4 0
NEI4 $632
line 1247
;1247:		{
line 1249
;1248:			// just put back to original place
;1249:			VectorCopy (ent->pos2, ent->s.origin);
ADDRLP4 0
INDIRP4
CNSTI4 92
ADDP4
ADDRLP4 0
INDIRP4
CNSTI4 624
ADDP4
INDIRB
ASGNB 12
line 1250
;1250:			ent->r.svFlags &= ~SVF_NOCLIENT;
ADDRLP4 48
ADDRLP4 0
INDIRP4
CNSTI4 424
ADDP4
ASGNP4
ADDRLP4 48
INDIRP4
ADDRLP4 48
INDIRP4
INDIRI4
CNSTI4 -2
BANDI4
ASGNI4
line 1251
;1251:		} else if (!Q_stricmp("team_briefcase", ent->classname))
ADDRGP4 $633
JUMPV
LABELV $632
ADDRGP4 $637
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 44
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 44
INDIRI4
CNSTI4 0
NEI4 $635
line 1252
;1252:		{
line 1253
;1253:			Reset_Briefcase();
ADDRGP4 Reset_Briefcase
CALLV
pop
line 1254
;1254:		} else if (!Q_stricmp("trigger_counter", ent->classname ) )
ADDRGP4 $636
JUMPV
LABELV $635
ADDRGP4 $615
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 48
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 48
INDIRI4
CNSTI4 0
NEI4 $638
line 1255
;1255:		{ 
line 1257
;1256:			// stop thinking until we get triggered again
;1257:				ent->nextthink = 0;
ADDRLP4 0
INDIRP4
CNSTI4 688
ADDP4
CNSTI4 0
ASGNI4
line 1259
;1258:
;1259:		} else if (!Q_stricmp("func_wall", ent->classname ) )
ADDRGP4 $639
JUMPV
LABELV $638
ADDRGP4 $642
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 52
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 52
INDIRI4
CNSTI4 0
NEI4 $640
line 1260
;1260:		{
line 1261
;1261:			ent->r.contents = CONTENTS_SOLID;
ADDRLP4 0
INDIRP4
CNSTI4 460
ADDP4
CNSTI4 1
ASGNI4
line 1262
;1262:			ent->r.svFlags &= ~SVF_NOCLIENT; 
ADDRLP4 56
ADDRLP4 0
INDIRP4
CNSTI4 424
ADDP4
ASGNP4
ADDRLP4 56
INDIRP4
ADDRLP4 56
INDIRP4
INDIRI4
CNSTI4 -2
BANDI4
ASGNI4
line 1263
;1263:		} else if (!Q_stricmp("trigger_assaultfield", ent->classname ) )
ADDRGP4 $641
JUMPV
LABELV $640
ADDRGP4 $645
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 56
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 56
INDIRI4
CNSTI4 0
NEI4 $643
line 1264
;1264:		{ 
line 1265
;1265:			assault_field_start( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 assault_field_start
CALLV
pop
line 1266
;1266:		} else if (!Q_stricmp("c4_placed", ent->classname ) )
ADDRGP4 $644
JUMPV
LABELV $643
ADDRGP4 $540
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 60
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 60
INDIRI4
CNSTI4 0
NEI4 $646
line 1267
;1267:		{
line 1268
;1268:			G_FreeEntity( ent ); 
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_FreeEntity
CALLV
pop
line 1269
;1269:		} else if (!Q_stricmp("ball", ent->classname ) )
ADDRGP4 $647
JUMPV
LABELV $646
ADDRGP4 $650
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 64
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 64
INDIRI4
CNSTI4 0
NEI4 $648
line 1270
;1270:		{ 
line 1271
;1271:			VectorCopy( ent->pos2 , ent->s.pos.trBase );
ADDRLP4 0
INDIRP4
CNSTI4 24
ADDP4
ADDRLP4 0
INDIRP4
CNSTI4 624
ADDP4
INDIRB
ASGNB 12
line 1272
;1272:			VectorClear( ent->s.pos.trDelta );
ADDRLP4 76
CNSTF4 0
ASGNF4
ADDRLP4 0
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 76
INDIRF4
ASGNF4
ADDRLP4 0
INDIRP4
CNSTI4 40
ADDP4
ADDRLP4 76
INDIRF4
ASGNF4
ADDRLP4 0
INDIRP4
CNSTI4 36
ADDP4
ADDRLP4 76
INDIRF4
ASGNF4
line 1274
;1273:
;1274:		} else if (!Q_stricmp("trigger_fun_goal", ent->classname ) )
ADDRGP4 $649
JUMPV
LABELV $648
ADDRGP4 $653
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 68
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 68
INDIRI4
CNSTI4 0
NEI4 $651
line 1275
;1275:		{
line 1276
;1276:			if ( !ent->inuse )
ADDRLP4 0
INDIRP4
CNSTI4 520
ADDP4
INDIRI4
CNSTI4 0
NEI4 $654
line 1277
;1277:				trap_LinkEntity( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_LinkEntity
CALLV
pop
LABELV $654
line 1278
;1278:		}
LABELV $651
LABELV $649
LABELV $647
LABELV $644
LABELV $641
LABELV $639
LABELV $636
LABELV $633
LABELV $629
LABELV $617
LABELV $614
line 1281
;1279:
;1280:			
;1281:	}
LABELV $609
line 1214
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 1100
ADDP4
ASGNP4
LABELV $611
ADDRLP4 4
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $608
line 1282
;1282:	G_LogPrintf("Relaunched entities...");
ADDRGP4 $656
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1283
;1283:}
LABELV $607
endproc NS_LaunchEntities 80 12
export NS_RemoveDroppedEntities
proc NS_RemoveDroppedEntities 8 4
line 1296
;1284: 
;1285:
;1286:
;1287:
;1288:/*
;1289:=================
;1290:NSQ3 Remove dropped items
;1291:author: Defcon-X
;1292:date: 21-08-2000
;1293:description: remove all dropped enitites (including dropped flags, weapons, mission objectives)
;1294:=================
;1295:*/ 
;1296:void NS_RemoveDroppedEntities( void ) {
line 1303
;1297:
;1298:	// launch entities
;1299:	int			i;
;1300:	gentity_t	*ent;
;1301:	
;1302: 
;1303:	ent = &g_entities[0];
ADDRLP4 0
ADDRGP4 g_entities
ASGNP4
line 1304
;1304:	for (i=0 ; i<level.num_entities ; i++, ent++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $661
JUMPV
LABELV $658
line 1305
;1305:		if ( !ent->inuse ) {
ADDRLP4 0
INDIRP4
CNSTI4 520
ADDP4
INDIRI4
CNSTI4 0
NEI4 $663
line 1306
;1306:			continue;
ADDRGP4 $659
JUMPV
LABELV $663
line 1309
;1307:		} 
;1308:
;1309:		if (ent->flags & FL_DROPPED_ITEM)
ADDRLP4 0
INDIRP4
CNSTI4 536
ADDP4
INDIRI4
CNSTI4 4096
BANDI4
CNSTI4 0
EQI4 $665
line 1310
;1310:			G_FreeEntity(ent);
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_FreeEntity
CALLV
pop
LABELV $665
line 1312
;1311:			
;1312:	}
LABELV $659
line 1304
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 1100
ADDP4
ASGNP4
LABELV $661
ADDRLP4 4
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $658
line 1313
;1313:	G_LogPrintf("Relaunched entities...");
ADDRGP4 $656
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1314
;1314:}
LABELV $657
endproc NS_RemoveDroppedEntities 8 4
export AliveTeamCount
proc AliveTeamCount 12 0
line 1324
;1315:
;1316:/*
;1317:=================
;1318:NSQ3 AliveTeamCount
;1319:author: Defcon-X
;1320:date: 19-06-2k
;1321:description: returns the amount of alive players on a team
;1322:=================
;1323:*/ 
;1324:int AliveTeamCount( int ignoreClientNum, team_t team ) {
line 1326
;1325:	int		i;
;1326:	int		count = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1328
;1327:
;1328:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $671
JUMPV
LABELV $668
line 1329
;1329:		if ( i == ignoreClientNum ) {
ADDRLP4 0
INDIRI4
ADDRFP4 0
INDIRI4
NEI4 $673
line 1330
;1330:			continue;
ADDRGP4 $669
JUMPV
LABELV $673
line 1332
;1331:		}
;1332:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $675
line 1333
;1333:			continue;
ADDRGP4 $669
JUMPV
LABELV $675
line 1335
;1334:		}
;1335:		if ( g_gametype.integer == GT_LTS && level.clients[i].pers.connected != CON_CONNECTED )
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
NEI4 $677
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $677
line 1336
;1336:			continue;
ADDRGP4 $669
JUMPV
LABELV $677
line 1339
;1337:
;1338:		// not count players that haven't decided on their class yet...
;1339:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $680
line 1340
;1340:			continue;
ADDRGP4 $669
JUMPV
LABELV $680
line 1342
;1341:
;1342:		if ( level.clients[i].sess.sessionTeam == team && level.clients[i].sess.waiting == qfalse ) {
ADDRLP4 8
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 4
INDIRI4
NEI4 $682
ADDRLP4 8
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
NEI4 $682
line 1343
;1343:			count++;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1344
;1344:		}
LABELV $682
line 1346
;1345:
;1346:	}
LABELV $669
line 1328
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $671
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $668
line 1348
;1347:
;1348:	return count;
ADDRLP4 4
INDIRI4
RETI4
LABELV $667
endproc AliveTeamCount 12 0
export NS_IsVipAlive
proc NS_IsVipAlive 12 0
line 1359
;1349:}
;1350:
;1351:/*
;1352:=================
;1353:NSQ3 Is Vip Alive
;1354:author: Defcon-X
;1355:date: 19-06-2k
;1356:description: returns the amount of alive players on a team
;1357:=================
;1358:*/ 
;1359:int NS_IsVipAlive( int ignoreClientNum, team_t team ) {
line 1361
;1360:	int		i;
;1361:	int		count = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1363
;1362:
;1363:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $688
JUMPV
LABELV $685
line 1364
;1364:		if ( i == ignoreClientNum ) {
ADDRLP4 0
INDIRI4
ADDRFP4 0
INDIRI4
NEI4 $690
line 1365
;1365:			continue;
ADDRGP4 $686
JUMPV
LABELV $690
line 1367
;1366:		}
;1367:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $692
line 1368
;1368:			continue;
ADDRGP4 $686
JUMPV
LABELV $692
line 1370
;1369:		}
;1370:		if ( g_gametype.integer == GT_LTS && level.clients[i].pers.connected != CON_CONNECTED )
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
NEI4 $694
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $694
line 1371
;1371:			continue;
ADDRGP4 $686
JUMPV
LABELV $694
line 1374
;1372:
;1373:		// not count players that haven't decided on their class yet...
;1374:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $697
line 1375
;1375:			continue;
ADDRGP4 $686
JUMPV
LABELV $697
line 1377
;1376:
;1377:		if ( level.clients[i].sess.sessionTeam == team && level.clients[i].sess.waiting == qfalse && level.clients[i].ns.is_vip == qtrue) {
ADDRLP4 8
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 4
INDIRI4
NEI4 $699
ADDRLP4 8
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
NEI4 $699
ADDRLP4 8
INDIRP4
CNSTI4 2940
ADDP4
INDIRI4
CNSTI4 1
NEI4 $699
line 1378
;1378:			count++;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1379
;1379:		}
LABELV $699
line 1381
;1380:
;1381:	}
LABELV $686
line 1363
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $688
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $685
line 1383
;1382:
;1383:	return count;
ADDRLP4 4
INDIRI4
RETI4
LABELV $684
endproc NS_IsVipAlive 12 0
export NS_GetVip
proc NS_GetVip 8 0
line 1393
;1384:}
;1385: /*
;1386:=================
;1387:NSQ3 Get Vip
;1388:author: Defcon-X
;1389:date: 19-06-2k
;1390:description: returns the clientnum of the current vip for team
;1391:=================
;1392:*/ 
;1393:int NS_GetVip( team_t team ) {
line 1396
;1394:	int		i; 
;1395:
;1396:	for ( i = 0 ; i < level.maxclients ; i++ ) { 
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $705
JUMPV
LABELV $702
line 1397
;1397:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $707
line 1398
;1398:			continue;
ADDRGP4 $703
JUMPV
LABELV $707
line 1400
;1399:		}
;1400:		if ( g_gametype.integer == GT_LTS && level.clients[i].pers.connected != CON_CONNECTED )
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
NEI4 $709
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $709
line 1401
;1401:			continue;
ADDRGP4 $703
JUMPV
LABELV $709
line 1404
;1402:
;1403:		// not count players that haven't decided on their class yet...
;1404:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $712
line 1405
;1405:			continue;
ADDRGP4 $703
JUMPV
LABELV $712
line 1407
;1406:
;1407:		if ( level.clients[i].sess.sessionTeam == team && level.clients[i].sess.waiting == qfalse && level.clients[i].ns.is_vip == qtrue) {
ADDRLP4 4
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
ADDRLP4 4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
NEI4 $714
ADDRLP4 4
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
NEI4 $714
ADDRLP4 4
INDIRP4
CNSTI4 2940
ADDP4
INDIRI4
CNSTI4 1
NEI4 $714
line 1408
;1408:			return i;
ADDRLP4 0
INDIRI4
RETI4
ADDRGP4 $701
JUMPV
LABELV $714
line 1411
;1409:		}
;1410:
;1411:	}
LABELV $703
line 1396
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $705
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $702
line 1413
;1412:
;1413:	return -1;
CNSTI4 -1
RETI4
LABELV $701
endproc NS_GetVip 8 0
export NS_GiveXP
proc NS_GiveXP 12 8
line 1418
;1414:}
;1415:
;1416:
;1417:void NS_GiveXP ( gentity_t *ent , int num, qboolean take)
;1418:{
line 1420
;1419:
;1420:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $717
line 1421
;1421:		return;
ADDRGP4 $716
JUMPV
LABELV $717
line 1423
;1422:
;1423:	if ( g_gametype.integer < GT_TEAM )
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
GEI4 $719
line 1424
;1424:		return;
ADDRGP4 $716
JUMPV
LABELV $719
line 1426
;1425:
;1426:	if (take)
ADDRFP4 8
INDIRI4
CNSTI4 0
EQI4 $722
line 1427
;1427:		ent->client->pers.nsPC.xp -= num;
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1444
ADDP4
ASGNP4
ADDRLP4 0
INDIRP4
ADDRLP4 0
INDIRP4
INDIRI4
ADDRFP4 4
INDIRI4
SUBI4
ASGNI4
ADDRGP4 $723
JUMPV
LABELV $722
line 1428
;1428:	else {
line 1429
;1429:		ent->client->pers.nsPC.xp += num;
ADDRLP4 4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1444
ADDP4
ASGNP4
ADDRLP4 4
INDIRP4
ADDRLP4 4
INDIRP4
INDIRI4
ADDRFP4 4
INDIRI4
ADDI4
ASGNI4
line 1430
;1430:		ent->client->pers.nsPC.entire_xp += num;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1448
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
ADDRLP4 8
INDIRP4
INDIRI4
ADDRFP4 4
INDIRI4
ADDI4
ASGNI4
line 1431
;1431:	}
LABELV $723
line 1433
;1432:
;1433:	if ( ent->client->pers.nsPC.xp < 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1444
ADDP4
INDIRI4
CNSTI4 0
GEI4 $724
line 1434
;1434:		ent->client->pers.nsPC.xp = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1444
ADDP4
CNSTI4 0
ASGNI4
LABELV $724
line 1437
;1435: 
;1436:	// send xp
;1437:	trap_SendServerCommand( ent-g_entities, va("uxp %i", ent->client->pers.nsPC.xp ) );
ADDRGP4 $726
ARGP4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1444
ADDP4
INDIRI4
ARGI4
ADDRLP4 4
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRP4
CVPU4 4
ADDRGP4 g_entities
CVPU4 4
SUBU4
CVUI4 4
CNSTI4 1100
DIVI4
ARGI4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 1438
;1438:}
LABELV $716
endproc NS_GiveXP 12 8
export NS_GiveReward
proc NS_GiveReward 12 0
line 1448
;1439: /*
;1440:=================
;1441:NSQ3 Give Reward
;1442:author: Defcon-X
;1443:date: 19-06-2k
;1444:description: gives reward to ent
;1445:=================
;1446:*/ 
;1447:void NS_GiveReward( gentity_t *ent, int reward, int team )
;1448:{
line 1450
;1449:
;1450:	if ( !ent || !ent->client )
ADDRLP4 0
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 4
CNSTU4 0
ASGNU4
ADDRLP4 0
INDIRP4
CVPU4 4
ADDRLP4 4
INDIRU4
EQU4 $730
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
ADDRLP4 4
INDIRU4
NEU4 $728
LABELV $730
line 1451
;1451:		return;
ADDRGP4 $727
JUMPV
LABELV $728
line 1453
;1452:
;1453:	if ( ent->client->sess.sessionTeam != team )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 8
INDIRI4
EQI4 $731
line 1454
;1454:		return;
ADDRGP4 $727
JUMPV
LABELV $731
line 1456
;1455:
;1456:	ent->client->ns.rewards |= reward;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2936
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
ADDRLP4 8
INDIRP4
INDIRI4
ADDRFP4 4
INDIRI4
BORI4
ASGNI4
line 1457
;1457:}
LABELV $727
endproc NS_GiveReward 12 0
export NS_GiveXPtoAlive
proc NS_GiveXPtoAlive 8 12
line 1472
;1458:
;1459:
;1460:/*
;1461:=================
;1462:NSQ3 Give XP
;1463:author: Defcon-X
;1464:date: 19-06-2k
;1465:description: returns the amount of alive players on a team
;1466:=================
;1467:*/ 
;1468:
;1469:#define ALIVE_XP_POINTS		2
;1470:#define DEAD_XP_POINTS		1
;1471:
;1472:void NS_GiveXPtoAlive( int ignoreClientNum, team_t team, qboolean winningTeam ) {
line 1475
;1473:	int		i;
;1474://	int		count = 0;
;1475:	int		xp = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1477
;1476:
;1477:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $737
JUMPV
LABELV $734
line 1478
;1478:		if ( i == ignoreClientNum ) {
ADDRLP4 0
INDIRI4
ADDRFP4 0
INDIRI4
NEI4 $739
line 1479
;1479:			continue;
ADDRGP4 $735
JUMPV
LABELV $739
line 1482
;1480:		}
;1481:
;1482:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $741
line 1483
;1483:			continue;
ADDRGP4 $735
JUMPV
LABELV $741
line 1485
;1484:		}
;1485:		if ( level.clients[i].pers.connected != CON_CONNECTED )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $743
line 1486
;1486:			continue;
ADDRGP4 $735
JUMPV
LABELV $743
line 1489
;1487:
;1488:		// do not count players that haven't decided on their class yet...
;1489:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $745
line 1490
;1490:			continue;
ADDRGP4 $735
JUMPV
LABELV $745
line 1493
;1491:
;1492:		// check if it's the right team
;1493:		if ( level.clients[i].sess.sessionTeam != team )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 4
INDIRI4
EQI4 $747
line 1494
;1494:			continue;
ADDRGP4 $735
JUMPV
LABELV $747
line 1497
;1495:
;1496:		// give XPs for killing people
;1497:		if ( level.clients[i].ns.num_killed > 0 )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2932
ADDP4
INDIRI4
CNSTI4 0
LEI4 $749
line 1498
;1498:		{
line 1500
;1499:			// give xp
;1500:			if ( level.clients[i].ns.num_killed <= 1 )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2932
ADDP4
INDIRI4
CNSTI4 1
GTI4 $751
line 1501
;1501:				xp += 0;
ADDRLP4 4
ADDRLP4 4
INDIRI4
ASGNI4
ADDRGP4 $752
JUMPV
LABELV $751
line 1503
;1502:			else
;1503:				xp += level.clients[i].ns.num_killed / 2;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2932
ADDP4
INDIRI4
CNSTI4 2
DIVI4
ADDI4
ASGNI4
LABELV $752
line 1506
;1504:
;1505:			// remove our killed stats
;1506:			level.clients[i].ns.num_killed = 0;
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2932
ADDP4
CNSTI4 0
ASGNI4
line 1507
;1507:		}
LABELV $749
line 1510
;1508:
;1509:		// give XPs for killing people w/ knife
;1510:		if ( level.clients[i].knife_kills > 0 )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 4772
ADDP4
INDIRI4
CNSTI4 0
LEI4 $753
line 1511
;1511:		{
line 1513
;1512:			// give xp
;1513:			if ( level.clients[i].knife_kills <= 1 )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 4772
ADDP4
INDIRI4
CNSTI4 1
GTI4 $755
line 1514
;1514:				xp += 0;
ADDRLP4 4
ADDRLP4 4
INDIRI4
ASGNI4
ADDRGP4 $756
JUMPV
LABELV $755
line 1516
;1515:			else
;1516:				xp += level.clients[i].knife_kills / 2;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 4772
ADDP4
INDIRI4
CNSTI4 2
DIVI4
ADDI4
ASGNI4
LABELV $756
line 1519
;1517:
;1518:			// remove our killed stats
;1519:			level.clients[i].knife_kills = 0;
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 4772
ADDP4
CNSTI4 0
ASGNI4
line 1520
;1520:		}
LABELV $753
line 1522
;1521: 
;1522:		if ( level.clients[i].ns.rewards != REWARD_NONE )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 0
EQI4 $757
line 1523
;1523:		{
line 1524
;1524:			if ( level.clients[i].ns.rewards & REWARD_VIP_ALIVE )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 16
BANDI4
CNSTI4 0
EQI4 $759
line 1525
;1525:				xp += 3; // 4xp for beeing alive
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 3
ADDI4
ASGNI4
LABELV $759
line 1526
;1526:			if ( level.clients[i].ns.rewards & REWARD_VIP_KILL )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 1
BANDI4
CNSTI4 0
EQI4 $761
line 1527
;1527:				xp += 2; // 2xp for killing vip
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
ADDI4
ASGNI4
LABELV $761
line 1528
;1528:			if ( level.clients[i].ns.rewards & REWARD_BOMB_EXPLODE )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 2
BANDI4
CNSTI4 0
EQI4 $763
line 1529
;1529:				xp += 2;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
ADDI4
ASGNI4
LABELV $763
line 1530
;1530:			if ( level.clients[i].ns.rewards & REWARD_BRIEFCASE_CAPTURE )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 4
BANDI4
CNSTI4 0
EQI4 $765
line 1531
;1531:				xp += 2;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
ADDI4
ASGNI4
LABELV $765
line 1532
;1532:			if ( level.clients[i].ns.rewards & REWARD_ASSAULT_TAKEN )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $767
line 1533
;1533:				xp += 2;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
ADDI4
ASGNI4
LABELV $767
line 1534
;1534:			if ( level.clients[i].ns.rewards & REWARD_BOMB_DEFUSE )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 32768
BANDI4
CNSTI4 0
EQI4 $769
line 1535
;1535:				xp += 4;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 4
ADDI4
ASGNI4
LABELV $769
line 1536
;1536:			if ( level.clients[i].ns.rewards & REWARD_HS_KILL )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 16384
BANDI4
CNSTI4 0
EQI4 $771
line 1537
;1537:				xp += 1;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $771
line 1539
;1538:
;1539:			if ( level.clients[i].ns.rewards & REWARD_2KILL_GRENADE )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 256
BANDI4
CNSTI4 0
EQI4 $773
line 1540
;1540:				xp += 1;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $773
line 1541
;1541:			if ( level.clients[i].ns.rewards & REWARD_4KILL_GRENADE )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 512
BANDI4
CNSTI4 0
EQI4 $775
line 1542
;1542:				xp += 3;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 3
ADDI4
ASGNI4
LABELV $775
line 1543
;1543:			if ( level.clients[i].ns.rewards & REWARD_BRIEFCASE_KILL )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
INDIRI4
CNSTI4 65536
BANDI4
CNSTI4 0
EQI4 $777
line 1544
;1544:				xp += 2;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
ADDI4
ASGNI4
LABELV $777
line 1547
;1545: 
;1546:
;1547:			level.clients[i].ns.rewards = REWARD_NONE;
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2936
ADDP4
CNSTI4 0
ASGNI4
line 1548
;1548:		}
LABELV $757
line 1550
;1549:
;1550:		if ( winningTeam )
ADDRFP4 8
INDIRI4
CNSTI4 0
EQI4 $779
line 1551
;1551:			xp += 1;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRGP4 $780
JUMPV
LABELV $779
line 1553
;1552:		else  // not hanlding winner team.
;1553:		{			
line 1554
;1554:			if ( level.looseCount >= 8 ) // the team is really weak they get 5xtra XP
ADDRGP4 level+7580
INDIRI4
CNSTI4 8
LTI4 $781
line 1555
;1555:				xp += 5;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 5
ADDI4
ASGNI4
ADDRGP4 $782
JUMPV
LABELV $781
line 1556
;1556:			else if ( level.looseCount >= 6 ) // already lost 6 rounds
ADDRGP4 level+7580
INDIRI4
CNSTI4 6
LTI4 $784
line 1557
;1557:				xp += 3;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 3
ADDI4
ASGNI4
ADDRGP4 $785
JUMPV
LABELV $784
line 1558
;1558:			else if ( level.looseCount >= 4 ) // already lost 4 rounds
ADDRGP4 level+7580
INDIRI4
CNSTI4 4
LTI4 $787
line 1559
;1559:				xp += 2;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
ADDI4
ASGNI4
ADDRGP4 $788
JUMPV
LABELV $787
line 1560
;1560:			else if ( level.looseCount >= 2 ) // already lost 2 rounds
ADDRGP4 level+7580
INDIRI4
CNSTI4 2
LTI4 $790
line 1561
;1561:				xp += 1;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $790
LABELV $788
LABELV $785
LABELV $782
line 1562
;1562:		}
LABELV $780
line 1565
;1563:
;1564:		// give 2 XP to any alive player from the winning team
;1565:		if ( level.clients[i].sess.waiting == qfalse) {			
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
NEI4 $793
line 1566
;1566:			xp += ALIVE_XP_POINTS;			
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 2
ADDI4
ASGNI4
line 1567
;1567:		}
LABELV $793
line 1568
;1568:		if ( level.clients[i].sess.waiting == qtrue)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 1
NEI4 $795
line 1569
;1569:			xp += DEAD_XP_POINTS;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $795
line 1571
;1570:
;1571:		G_LogPrintf( "gave %i xp to %s\n", xp, level.clients[i].pers.netname );
ADDRGP4 $797
ARGP4
ADDRLP4 4
INDIRI4
ARGI4
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 512
ADDP4
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1573
;1572:
;1573:		NS_GiveXP( &g_entities[ level.clients[i].ps.clientNum  ] , xp, qfalse );
CNSTI4 1100
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 140
ADDP4
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRLP4 4
INDIRI4
ARGI4
CNSTI4 0
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 1574
;1574:		xp = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1575
;1575:	}
LABELV $735
line 1477
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $737
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $734
line 1576
;1576:}
LABELV $733
endproc NS_GiveXPtoAlive 8 12
export NS_DurchschnittXPforTeam
proc NS_DurchschnittXPforTeam 16 0
line 1578
;1577:
;1578:int NS_DurchschnittXPforTeam( int ignoreClientNum, team_t team  ) {
line 1581
;1579:	int		i;
;1580://	int		count = 0;
;1581:	int		xp = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1582
;1582:	int		validclients = 0;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 1584
;1583:
;1584:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $802
JUMPV
LABELV $799
line 1585
;1585:		if ( i == ignoreClientNum ) {
ADDRLP4 0
INDIRI4
ADDRFP4 0
INDIRI4
NEI4 $804
line 1586
;1586:			continue;
ADDRGP4 $800
JUMPV
LABELV $804
line 1588
;1587:		}
;1588:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $806
line 1589
;1589:			continue;
ADDRGP4 $800
JUMPV
LABELV $806
line 1591
;1590:		}
;1591:		if ( level.clients[i].pers.connected != CON_CONNECTED )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $808
line 1592
;1592:			continue;
ADDRGP4 $800
JUMPV
LABELV $808
line 1595
;1593:
;1594:		// do not count players that haven't decided on their class yet...
;1595:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $810
line 1596
;1596:			continue;
ADDRGP4 $800
JUMPV
LABELV $810
line 1599
;1597:
;1598:		// check if it's the right team
;1599:		if ( level.clients[i].sess.sessionTeam != team )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 4
INDIRI4
EQI4 $812
line 1600
;1600:			continue;
ADDRGP4 $800
JUMPV
LABELV $812
line 1602
;1601: 
;1602:		validclients++;
ADDRLP4 8
ADDRLP4 8
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1603
;1603:		xp += level.clients[i].pers.nsPC.entire_xp; 
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1448
ADDP4
INDIRI4
ADDI4
ASGNI4
line 1604
;1604:	}
LABELV $800
line 1584
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $802
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $799
line 1606
;1605:
;1606:	if ( xp <= 0 || validclients <= 0 )
ADDRLP4 12
CNSTI4 0
ASGNI4
ADDRLP4 4
INDIRI4
ADDRLP4 12
INDIRI4
LEI4 $816
ADDRLP4 8
INDIRI4
ADDRLP4 12
INDIRI4
GTI4 $814
LABELV $816
line 1607
;1607:		return g_baseXp.integer;
ADDRGP4 g_baseXp+12
INDIRI4
RETI4
ADDRGP4 $798
JUMPV
LABELV $814
line 1609
;1608:
;1609:	xp = xp / validclients;
ADDRLP4 4
ADDRLP4 4
INDIRI4
ADDRLP4 8
INDIRI4
DIVI4
ASGNI4
line 1611
;1610:
;1611:	return xp;
ADDRLP4 4
INDIRI4
RETI4
LABELV $798
endproc NS_DurchschnittXPforTeam 16 0
export NS_RandomPlayer
proc NS_RandomPlayer 272 0
line 1616
;1612:}
;1613: 
;1614:#define rndnum(y,z) ((random()*((z)-((y)+1)))+(y))
;1615:
;1616:gentity_t *NS_RandomPlayer( int ignoreClientNum, team_t team ) {
line 1619
;1617:	int		i;
;1618://	int		count = 0;
;1619:	int		num_players = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1623
;1620:	int		selection;
;1621:	gentity_t *players[MAX_CLIENTS];
;1622:
;1623:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $822
JUMPV
LABELV $819
line 1624
;1624:		if ( i == ignoreClientNum ) {
ADDRLP4 0
INDIRI4
ADDRFP4 0
INDIRI4
NEI4 $824
line 1625
;1625:			continue;
ADDRGP4 $820
JUMPV
LABELV $824
line 1627
;1626:		}
;1627:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $826
line 1628
;1628:			continue;
ADDRGP4 $820
JUMPV
LABELV $826
line 1630
;1629:		}
;1630:		if ( level.clients[i].pers.connected != CON_CONNECTED )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $828
line 1631
;1631:			continue;
ADDRGP4 $820
JUMPV
LABELV $828
line 1634
;1632:
;1633:		// do not count players that haven't decided on their class yet...
;1634:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $830
line 1635
;1635:			continue;
ADDRGP4 $820
JUMPV
LABELV $830
line 1638
;1636:
;1637:		// check if it's the right team
;1638:		if ( level.clients[i].sess.sessionTeam != team )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 4
INDIRI4
EQI4 $832
line 1639
;1639:			continue;
ADDRGP4 $820
JUMPV
LABELV $832
line 1641
;1640:
;1641:		if ( level.clients[i].ns.is_vip )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 2940
ADDP4
INDIRI4
CNSTI4 0
EQI4 $834
line 1642
;1642:			continue;
ADDRGP4 $820
JUMPV
LABELV $834
line 1644
;1643:
;1644:		players[num_players] = &g_entities[ level.clients[i].ps.clientNum ];
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 8
ADDP4
CNSTI4 1100
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 140
ADDP4
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 1645
;1645:		num_players++;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1646
;1646:	}
LABELV $820
line 1623
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $822
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $819
line 1648
;1647:
;1648:	if ( num_players <= 0 )
ADDRLP4 4
INDIRI4
CNSTI4 0
GTI4 $836
line 1649
;1649:		return NULL;
CNSTP4 0
RETP4
ADDRGP4 $818
JUMPV
LABELV $836
line 1651
;1650:
;1651:	selection = rand() % num_players;
ADDRLP4 268
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 264
ADDRLP4 268
INDIRI4
ADDRLP4 4
INDIRI4
MODI4
ASGNI4
line 1653
;1652:
;1653:	return players[ selection ];
ADDRLP4 264
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 8
ADDP4
INDIRP4
RETP4
LABELV $818
endproc NS_RandomPlayer 272 0
export NS_WonRound
proc NS_WonRound 32 12
line 1665
;1654:}
;1655:
;1656:/*
;1657:=================
;1658:NSQ3 Won Round
;1659:author: KnighthawK / defcon-X
;1660:date: 30-05-2k
;1661:description: A Round has been won by a Team - add a point, and print a msg
;1662:=================
;1663:*/ 
;1664:void NS_WonRound ( team_t team )
;1665:{
line 1666
;1666:	LTS_Rounds++;
ADDRLP4 0
ADDRGP4 LTS_Rounds
ASGNP4
ADDRLP4 0
INDIRP4
ADDRLP4 0
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1668
;1667:
;1668:	if (team != TEAM_RED && team != TEAM_BLUE) 
ADDRLP4 4
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 1
EQI4 $839
ADDRLP4 4
INDIRI4
CNSTI4 2
EQI4 $839
line 1669
;1669:	{
line 1672
;1670:		gentity_t	*te;
;1671:
;1672:		te = G_TempEntity(vec3_origin, EV_GLOBAL_TEAM_SOUND );
ADDRGP4 vec3_origin
ARGP4
CNSTI4 52
ARGI4
ADDRLP4 12
ADDRGP4 G_TempEntity
CALLP4
ASGNP4
ADDRLP4 8
ADDRLP4 12
INDIRP4
ASGNP4
line 1673
;1673:		te->r.svFlags |= SVF_BROADCAST;
ADDRLP4 16
ADDRLP4 8
INDIRP4
CNSTI4 424
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 32
BORI4
ASGNI4
line 1674
;1674:		te->s.eventParm = GTS_DRAW_ROUND;
ADDRLP4 8
INDIRP4
CNSTI4 184
ADDP4
CNSTI4 5
ASGNI4
line 1676
;1675:
;1676:		trap_SendServerCommand( -1, "cp \"The Round was tied!\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $841
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 1678
;1677:
;1678:		G_LogPrintf( "ROUND: Tied.\n" );
ADDRGP4 $842
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1679
;1679:		return;
ADDRGP4 $838
JUMPV
LABELV $839
line 1681
;1680:	}
;1681:	AddTeamScore( vec3_origin, team, 1 );
ADDRGP4 vec3_origin
ARGP4
ADDRFP4 0
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 AddTeamScore
CALLV
pop
line 1683
;1682:
;1683:	trap_SendServerCommand( -1, va("cp \"The %s won the round.\n\"", TeamName( team ) ) );
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 8
ADDRGP4 TeamName
CALLP4
ASGNP4
ADDRGP4 $843
ARGP4
ADDRLP4 8
INDIRP4
ARGP4
ADDRLP4 12
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 -1
ARGI4
ADDRLP4 12
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 1684
;1684:	G_LogPrintf( "ROUND: %s won.\n", TeamName( team ) );
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 16
ADDRGP4 TeamName
CALLP4
ASGNP4
ADDRGP4 $844
ARGP4
ADDRLP4 16
INDIRP4
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1687
;1685:		
;1686:	// otherteam is still the looser
;1687:	if ( level.lastLooser == OtherTeam( team ) )
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 OtherTeam
CALLI4
ASGNI4
ADDRGP4 level+7584
INDIRI4
ADDRLP4 20
INDIRI4
NEI4 $845
line 1688
;1688:	{
line 1689
;1689:		level.looseCount++;
ADDRLP4 24
ADDRGP4 level+7580
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1691
;1690://		G_Printf("Updated loosecount: #%i for %s\n", level.looseCount, OtherTeamName( team ) );
;1691:	}
ADDRGP4 $846
JUMPV
LABELV $845
line 1692
;1692:	else if ( level.lastLooser != OtherTeam( team ) )
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 24
ADDRGP4 OtherTeam
CALLI4
ASGNI4
ADDRGP4 level+7584
INDIRI4
ADDRLP4 24
INDIRI4
EQI4 $849
line 1693
;1693:	{
line 1694
;1694:		level.looseCount = 1;
ADDRGP4 level+7580
CNSTI4 1
ASGNI4
line 1695
;1695:		level.lastLooser = OtherTeam( team );
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 28
ADDRGP4 OtherTeam
CALLI4
ASGNI4
ADDRGP4 level+7584
ADDRLP4 28
INDIRI4
ASGNI4
line 1697
;1696://		G_Printf("Initiated loosecount: #%i for %s\n", level.looseCount, OtherTeamName( team ) );
;1697:	}
LABELV $849
LABELV $846
line 1699
;1698:
;1699: 	CalculateRanks(); 
ADDRGP4 CalculateRanks
CALLV
pop
line 1700
;1700:}
LABELV $838
endproc NS_WonRound 32 12
export NS_EndRound
proc NS_EndRound 20 8
line 1713
;1701:
;1702:void assault_field_stopall( );
;1703:
;1704:/*
;1705:=================
;1706:NSQ3 End Round
;1707:author: Defcon-X
;1708:date: 20-06-2k
;1709:description: End a Round, see which team won.
;1710:=================
;1711:*/ 
;1712:void NS_EndRound ( void )
;1713:{
line 1714
;1714:	if (level.warmupTime != -1)
ADDRGP4 level+16
INDIRI4
CNSTI4 -1
EQI4 $855
line 1715
;1715:		return;
ADDRGP4 $854
JUMPV
LABELV $855
line 1718
;1716:
;1717:	// the round has just been won
;1718:	if ( AliveTeamCount( -1, TEAM_RED ) + AliveTeamCount( -1, TEAM_BLUE ) < 1)
CNSTI4 -1
ARGI4
CNSTI4 1
ARGI4
ADDRLP4 0
ADDRGP4 AliveTeamCount
CALLI4
ASGNI4
CNSTI4 -1
ARGI4
CNSTI4 2
ARGI4
ADDRLP4 4
ADDRGP4 AliveTeamCount
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
ADDRLP4 4
INDIRI4
ADDI4
CNSTI4 1
GEI4 $858
line 1719
;1719:		NS_WonRound(TEAM_FREE);
CNSTI4 0
ARGI4
ADDRGP4 NS_WonRound
CALLV
pop
ADDRGP4 $859
JUMPV
LABELV $858
line 1720
;1720:	else if (AliveTeamCount( -1, TEAM_RED ) > 0)
CNSTI4 -1
ARGI4
CNSTI4 1
ARGI4
ADDRLP4 8
ADDRGP4 AliveTeamCount
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
LEI4 $860
line 1721
;1721:		NS_WonRound(TEAM_RED);
CNSTI4 1
ARGI4
ADDRGP4 NS_WonRound
CALLV
pop
ADDRGP4 $861
JUMPV
LABELV $860
line 1722
;1722:	else if (AliveTeamCount( -1, TEAM_BLUE ) > 0)
CNSTI4 -1
ARGI4
CNSTI4 2
ARGI4
ADDRLP4 12
ADDRGP4 AliveTeamCount
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 0
LEI4 $862
line 1723
;1723:		NS_WonRound(TEAM_BLUE);
CNSTI4 2
ARGI4
ADDRGP4 NS_WonRound
CALLV
pop
ADDRGP4 $863
JUMPV
LABELV $862
line 1725
;1724:	else
;1725:		NS_WonRound(TEAM_FREE); // draw again
CNSTI4 0
ARGI4
ADDRGP4 NS_WonRound
CALLV
pop
LABELV $863
LABELV $861
LABELV $859
line 1727
;1726:
;1727:	level.done_objectives[TEAM_RED] = level.done_objectives[TEAM_BLUE] = 0;
ADDRLP4 16
CNSTI4 0
ASGNI4
ADDRGP4 level+7184+8
ADDRLP4 16
INDIRI4
ASGNI4
ADDRGP4 level+7184+4
ADDRLP4 16
INDIRI4
ASGNI4
line 1730
;1728:
;1729:	// buffer time until the next round starts
;1730:	GameState = STATE_OVER;
ADDRGP4 GameState
CNSTI4 1
ASGNI4
line 1731
;1731:	level.warmupTime = -3;
ADDRGP4 level+16
CNSTI4 -3
ASGNI4
line 1732
;1732:	level.winTime = level.time + 10 * ONE_SECOND; // 10 seconds till next match
ADDRGP4 level+7236
ADDRGP4 level+32
INDIRI4
CNSTI4 10000
ADDI4
ASGNI4
line 1733
;1733:	level.xpTime = level.time + 5 * ONE_SECOND;
ADDRGP4 level+7256
ADDRGP4 level+32
INDIRI4
CNSTI4 5000
ADDI4
ASGNI4
line 1734
;1734:	level.roundstartTime = 0;
ADDRGP4 level+7164
CNSTI4 0
ASGNI4
line 1737
;1735:
;1736:
;1737:	assault_field_stopall( );
ADDRGP4 assault_field_stopall
CALLV
pop
line 1740
;1738:
;1739:	// send the config string to the clients
;1740:	trap_SetConfigstring( CS_ROUND_START_TIME, "0" );
CNSTI4 28
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1741
;1741:	trap_SetConfigstring( CS_VIP_START_TIME, "0" );
CNSTI4 29
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1742
;1742:	trap_SetConfigstring( CS_BOMB_START_TIME, "0" );
CNSTI4 30
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1743
;1743:	trap_SetConfigstring( CS_ASSAULT_START_TIME, "0" );
CNSTI4 32
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1744
;1744:	trap_SetConfigstring( CS_ASSAULT2_START_TIME, "0" );
CNSTI4 33
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1745
;1745:	trap_SetConfigstring( CS_ASSAULT3_START_TIME, "0" );
CNSTI4 34
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1746
;1746:	trap_SetConfigstring( CS_ASSAULT4_START_TIME, "0" );
CNSTI4 35
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1749
;1747:
;1748:
;1749:}
LABELV $854
endproc NS_EndRound 20 8
export NS_EndRoundForTeam
proc NS_EndRoundForTeam 4 8
line 1760
;1750:
;1751:/*
;1752:=================
;1753:NSQ3 End Round For Team
;1754:author: Defcon-X
;1755:date: 20-06-2k
;1756:description: End a Round, see which team won.
;1757:=================
;1758:*/ 
;1759:void NS_EndRoundForTeam ( int team )
;1760:{
line 1761
;1761:	if (level.warmupTime != -1)
ADDRGP4 level+16
INDIRI4
CNSTI4 -1
EQI4 $876
line 1762
;1762:		return;
ADDRGP4 $875
JUMPV
LABELV $876
line 1764
;1763:
;1764:	level.done_objectives[TEAM_RED] = level.done_objectives[TEAM_BLUE] = 0;
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 level+7184+8
ADDRLP4 0
INDIRI4
ASGNI4
ADDRGP4 level+7184+4
ADDRLP4 0
INDIRI4
ASGNI4
line 1767
;1765:
;1766:	// the round has just been won by a team 
;1767:	NS_WonRound( team );  // give points & stuff
ADDRFP4 0
INDIRI4
ARGI4
ADDRGP4 NS_WonRound
CALLV
pop
line 1770
;1768:
;1769:	// buffer time until the next round starts
;1770:	GameState = STATE_OVER;
ADDRGP4 GameState
CNSTI4 1
ASGNI4
line 1771
;1771:	level.warmupTime = -3;
ADDRGP4 level+16
CNSTI4 -3
ASGNI4
line 1772
;1772:	level.winTime = level.time + ( 10 * ONE_SECOND ); // 10 seconds till next match
ADDRGP4 level+7236
ADDRGP4 level+32
INDIRI4
CNSTI4 10000
ADDI4
ASGNI4
line 1773
;1773:	level.xpTime = level.time + 5 * ONE_SECOND;
ADDRGP4 level+7256
ADDRGP4 level+32
INDIRI4
CNSTI4 5000
ADDI4
ASGNI4
line 1774
;1774:	level.roundstartTime = 0;
ADDRGP4 level+7164
CNSTI4 0
ASGNI4
line 1776
;1775:
;1776:	assault_field_stopall( );
ADDRGP4 assault_field_stopall
CALLV
pop
line 1780
;1777:
;1778:
;1779:	// send the config string to the clients
;1780:	trap_SetConfigstring( CS_ROUND_START_TIME, "0" );
CNSTI4 28
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1781
;1781:	trap_SetConfigstring( CS_VIP_START_TIME, "0" );
CNSTI4 29
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1782
;1782:	trap_SetConfigstring( CS_BOMB_START_TIME, "0" );
CNSTI4 30
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1783
;1783:	trap_SetConfigstring( CS_ASSAULT_START_TIME, "0" );
CNSTI4 32
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1784
;1784:	trap_SetConfigstring( CS_ASSAULT2_START_TIME, "0" );
CNSTI4 33
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1785
;1785:	trap_SetConfigstring( CS_ASSAULT3_START_TIME, "0" );
CNSTI4 34
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1786
;1786:	trap_SetConfigstring( CS_ASSAULT4_START_TIME, "0" );
CNSTI4 35
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1788
;1787:
;1788:}
LABELV $875
endproc NS_EndRoundForTeam 4 8
export SelectRandomVipSpawnPoint
proc SelectRandomVipSpawnPoint 36 12
line 1798
;1789:
;1790:/*
;1791:================
;1792:SelectRandomVipSpawnPoint
;1793:
;1794:go to a random point that doesn't telefrag
;1795:================
;1796:*/
;1797:#define	MAX_VIP_SPAWN_POINTS	4
;1798:gentity_t *SelectRandomVipSpawnPoint( void ) {
line 1804
;1799:	gentity_t	*spot;
;1800:	int			count;
;1801:	int			selection;
;1802:	gentity_t	*spots[MAX_VIP_SPAWN_POINTS];
;1803:
;1804:	count = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1805
;1805:	spot = NULL;
ADDRLP4 0
CNSTP4 0
ASGNP4
ADDRGP4 $891
JUMPV
LABELV $890
line 1807
;1806:
;1807:	while ((spot = G_Find (spot, FOFS(classname), "info_vip_spawn")) != NULL) {
line 1808
;1808:		if ( SpotWouldTelefrag( spot ) ) {
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 28
ADDRGP4 SpotWouldTelefrag
CALLI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 0
EQI4 $894
line 1809
;1809:			continue;
ADDRGP4 $891
JUMPV
LABELV $894
line 1811
;1810:		}
;1811:		spots[ count ] = spot;
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 8
ADDP4
ADDRLP4 0
INDIRP4
ASGNP4
line 1812
;1812:		count++;
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1813
;1813:	}
LABELV $891
line 1807
ADDRLP4 0
INDIRP4
ARGP4
CNSTI4 524
ARGI4
ADDRGP4 $893
ARGP4
ADDRLP4 28
ADDRGP4 G_Find
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 28
INDIRP4
ASGNP4
ADDRLP4 28
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $890
line 1815
;1814:
;1815:	if ( !count ) {	// no spots that won't telefrag
ADDRLP4 4
INDIRI4
CNSTI4 0
NEI4 $896
line 1816
;1816:		return G_Find( NULL, FOFS(classname), "info_vip_spawn");
CNSTP4 0
ARGP4
CNSTI4 524
ARGI4
ADDRGP4 $893
ARGP4
ADDRLP4 32
ADDRGP4 G_Find
CALLP4
ASGNP4
ADDRLP4 32
INDIRP4
RETP4
ADDRGP4 $889
JUMPV
LABELV $896
line 1819
;1817:	}
;1818:
;1819:	selection = rand() % count;
ADDRLP4 32
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 24
ADDRLP4 32
INDIRI4
ADDRLP4 4
INDIRI4
MODI4
ASGNI4
line 1820
;1820:	return spots[ selection ];
ADDRLP4 24
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 8
ADDP4
INDIRP4
RETP4
LABELV $889
endproc SelectRandomVipSpawnPoint 36 12
export NS_DoVipStuff
proc NS_DoVipStuff 40 12
line 1832
;1821:}
;1822:
;1823:/*
;1824:=================
;1825:NSQ3 Do Vip
;1826:author: Defcon-X
;1827:date: 07-10-2k
;1828:description: do necessary stuff for V.I.P. game play
;1829:=================
;1830:*/
;1831:void NS_DoVipStuff(int team, gentity_t *player)
;1832:{
line 1836
;1833:	gentity_t	*vip;
;1834:	gitem_t		*sec;
;1835:	gentity_t	*spot;
;1836:	int			_wp = WP_DEAGLE;
ADDRLP4 8
CNSTI4 10
ASGNI4
line 1837
;1837:	int			_close = WP_SEALKNIFE;
ADDRLP4 12
CNSTI4 2
ASGNI4
line 1839
;1838:
;1839:	if (!player) {
ADDRFP4 4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $899
line 1841
;1840:		// we need to do this for both seals and tanogs.
;1841:		if ( TeamCount( -1, team ) <= 1)
CNSTI4 -1
ARGI4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 TeamCount
CALLI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 1
GTI4 $901
line 1842
;1842:			vip = NS_RandomPlayer( -1, team );
CNSTI4 -1
ARGI4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 24
ADDRGP4 NS_RandomPlayer
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 24
INDIRP4
ASGNP4
ADDRGP4 $900
JUMPV
LABELV $901
line 1844
;1843:		else
;1844:			vip = NS_RandomPlayer( lastvip[team], team );
ADDRLP4 28
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 lastvip
ADDP4
INDIRI4
ARGI4
ADDRLP4 28
INDIRI4
ARGI4
ADDRLP4 32
ADDRGP4 NS_RandomPlayer
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 32
INDIRP4
ASGNP4
line 1845
;1845:	}
ADDRGP4 $900
JUMPV
LABELV $899
line 1847
;1846:	else
;1847:		vip = player;
ADDRLP4 0
ADDRFP4 4
INDIRP4
ASGNP4
LABELV $900
line 1850
;1848:
;1849:	
;1850:	if ( !vip )
ADDRLP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $903
line 1851
;1851:	{
line 1852
;1852:		G_Error("Trying to spawn V.I.P.[%s] - without vip entity!", TeamName(team) );
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 TeamName
CALLP4
ASGNP4
ADDRGP4 $905
ARGP4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 G_Error
CALLV
pop
line 1853
;1853:		return;
ADDRGP4 $898
JUMPV
LABELV $903
line 1856
;1854:	}
;1855:
;1856:	vip->client->ns.is_vip = qtrue;
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2940
ADDP4
CNSTI4 1
ASGNI4
line 1857
;1857:	lastvip[team] = vip->s.clientNum;
ADDRFP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 lastvip
ADDP4
ADDRLP4 0
INDIRP4
CNSTI4 168
ADDP4
INDIRI4
ASGNI4
line 1860
;1858:
;1859:	// remove ammo & powerups
;1860:	memset( vip->client->ps.powerups, 0, sizeof(vip->client->ps.powerups) );
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 312
ADDP4
ARGP4
CNSTI4 0
ARGI4
CNSTI4 64
ARGI4
ADDRGP4 memset
CALLP4
pop
line 1861
;1861:	memset( vip->client->ps.ammo, 0, sizeof(vip->client->ps.ammo) );	
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ARGP4
CNSTI4 0
ARGI4
CNSTI4 64
ARGI4
ADDRGP4 memset
CALLP4
pop
line 1863
;1862:	
;1863:	vip->client->ps.stats[STAT_WEAPONS] = 0;
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 188
ADDP4
CNSTI4 0
ASGNI4
line 1864
;1864:	vip->client->ps.stats[STAT_WEAPONS2] = 0;
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 192
ADDP4
CNSTI4 0
ASGNI4
line 1866
;1865:
;1866:	vip->health = 100;
ADDRLP4 0
INDIRP4
CNSTI4 732
ADDP4
CNSTI4 100
ASGNI4
line 1869
;1867:
;1868:	// set new powerups
;1869:	vip->client->ps.powerups[PW_VEST] = ARMOR_HEAVY;
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 336
ADDP4
CNSTI4 3
ASGNI4
line 1870
;1870:	vip->client->ps.powerups[PW_HELMET] = ARMOR_HEAVY;
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 340
ADDP4
CNSTI4 3
ASGNI4
line 1873
;1871:
;1872:	// set new weapons
;1873:	if ( vip->client->sess.sessionTeam == TEAM_BLUE ) {
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
CNSTI4 2
NEI4 $906
line 1874
;1874:		_wp = WP_DEAGLE;
ADDRLP4 8
CNSTI4 10
ASGNI4
line 1875
;1875:		_close = WP_KHURKURI;
ADDRLP4 12
CNSTI4 1
ASGNI4
line 1876
;1876:	}
LABELV $906
line 1878
;1877:
;1878:	BG_PackWeapon( _close, vip->client->ps.stats );
ADDRLP4 12
INDIRI4
ARGI4
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
line 1879
;1879:	BG_PackWeapon( _wp, vip->client->ps.stats );
ADDRLP4 8
INDIRI4
ARGI4
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_PackWeapon
CALLV
pop
line 1882
;1880:
;1881:	//vip->client->ps.stats[STAT_WEAPONS] = ( 1 << WP_KHURKURI ) | ( 1 << _wp );
;1882:	sec = BG_FindItemForWeapon( _wp );
ADDRLP4 8
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 16
ADDRLP4 20
INDIRP4
ASGNP4
line 1884
;1883:
;1884:	vip->client->ps.ammo[sec->giAmmoTag] = 4;
ADDRLP4 16
INDIRP4
CNSTI4 44
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ADDP4
CNSTI4 4
ASGNI4
line 1887
;1885://	vip->client->ps.ammo[AM_9MMCLIPS] = 2;
;1886:
;1887:	vip->client->ps.weapon = _wp;
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
ADDRLP4 8
INDIRI4
ASGNI4
line 1888
;1888:	vip->s.weapon = _wp;
ADDRLP4 0
INDIRP4
CNSTI4 192
ADDP4
ADDRLP4 8
INDIRI4
ASGNI4
line 1890
;1889:
;1890:	vip->client->ps.eFlags |= EF_VIP;
ADDRLP4 24
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 104
ADDP4
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
CNSTI4 2
BORI4
ASGNI4
line 1892
;1891:
;1892:	spot = SelectRandomVipSpawnPoint();
ADDRLP4 28
ADDRGP4 SelectRandomVipSpawnPoint
CALLP4
ASGNP4
ADDRLP4 4
ADDRLP4 28
INDIRP4
ASGNP4
line 1894
;1893:
;1894:	if (!spot)
ADDRLP4 4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $908
line 1895
;1895:	{
line 1896
;1896:		G_Error("Trying to spawn V.I.P.[%s] - without spawnpoint!", TeamName(team) );
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 32
ADDRGP4 TeamName
CALLP4
ASGNP4
ADDRGP4 $910
ARGP4
ADDRLP4 32
INDIRP4
ARGP4
ADDRGP4 G_Error
CALLV
pop
line 1897
;1897:		return;
ADDRGP4 $898
JUMPV
LABELV $908
line 1899
;1898:	}
;1899:	vip->client->ns.rewards |= REWARD_VIP_ALIVE;
ADDRLP4 32
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2936
ADDP4
ASGNP4
ADDRLP4 32
INDIRP4
ADDRLP4 32
INDIRP4
INDIRI4
CNSTI4 16
BORI4
ASGNI4
line 1901
;1900:
;1901:	G_SetOrigin( vip, spot->s.origin );
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 4
INDIRP4
CNSTI4 92
ADDP4
ARGP4
ADDRGP4 G_SetOrigin
CALLV
pop
line 1902
;1902:	VectorCopy (spot->s.origin, vip->client->ps.origin);
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 20
ADDP4
ADDRLP4 4
INDIRP4
CNSTI4 92
ADDP4
INDIRB
ASGNB 12
line 1904
;1903:	
;1904: 	SetClientViewAngle( vip, spot->s.angles ); 
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 4
INDIRP4
CNSTI4 116
ADDP4
ARGP4
ADDRGP4 SetClientViewAngle
CALLV
pop
line 1906
;1905:
;1906:	trap_SendServerCommand( vip->client->ps.clientNum, va("cp \""S_COLOR_GREEN"You are the V.I.P.\n\"")); 
ADDRGP4 $911
ARGP4
ADDRLP4 36
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
ARGI4
ADDRLP4 36
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 1907
;1907:	G_UseTargets( spot, vip );
ADDRLP4 4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_UseTargets
CALLV
pop
line 1908
;1908:}
LABELV $898
endproc NS_DoVipStuff 40 12
export CheckTeamplay
proc CheckTeamplay 536 12
line 1919
;1909:/*
;1910:=================
;1911:NSQ3 Run TeamPlay
;1912:author: KnighthawK + defcon-X
;1913:date: 30-05-2k
;1914:description: runs the teamplay code
;1915:=================
;1916:*/ 
;1917:#define ROUND_WARMUP_TIME	6 * ONE_SECOND;
;1918:
;1919:void CheckTeamplay( void ) {
line 1923
;1920:	int i;
;1921:
;1922:	// not in LTS mode? what are we doing here?
;1923:	if (g_gametype.integer != GT_LTS )
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
EQI4 $913
line 1924
;1924:		return; // argh
ADDRGP4 $912
JUMPV
LABELV $913
line 1926
;1925: 
;1926:	if (g_doWarmup.integer != 0)
ADDRGP4 g_doWarmup+12
INDIRI4
CNSTI4 0
EQI4 $916
line 1927
;1927:		trap_SendConsoleCommand( EXEC_INSERT, "g_doWarmup 0" );	 
CNSTI4 1
ARGI4
ADDRGP4 $919
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
LABELV $916
line 1930
;1928:
;1929:	// never do round handling if intermission started
;1930:	if ( level.intermissiontime ) {
ADDRGP4 level+7080
INDIRI4
CNSTI4 0
EQI4 $920
line 1931
;1931:		return;
ADDRGP4 $912
JUMPV
LABELV $920
line 1935
;1932:	}
;1933:
;1934:	// what? no teams are full?
;1935:	if ( (TeamCount( -1, TEAM_RED ) < 1) || ( TeamCount( -1, TEAM_BLUE ) < 1)  )
CNSTI4 -1
ARGI4
CNSTI4 1
ARGI4
ADDRLP4 4
ADDRGP4 TeamCount
CALLI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 1
LTI4 $925
CNSTI4 -1
ARGI4
CNSTI4 2
ARGI4
ADDRLP4 8
ADDRGP4 TeamCount
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 1
GEI4 $923
LABELV $925
line 1936
;1936:	{	// still waitin for them clients..
line 1937
;1937:		GameState = STATE_OPEN;
ADDRGP4 GameState
CNSTI4 0
ASGNI4
line 1939
;1938:		
;1939:		if (level.time > i_sNextWaitPrint )
ADDRGP4 level+32
INDIRI4
ADDRGP4 i_sNextWaitPrint
INDIRI4
LEI4 $926
line 1940
;1940:		{	// not enough players
line 1941
;1941:			G_Printf("Waiting for players to join.\n");
ADDRGP4 $929
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 1942
;1942:			i_sNextWaitPrint = level.time + 5000;
ADDRGP4 i_sNextWaitPrint
ADDRGP4 level+32
INDIRI4
CNSTI4 5000
ADDI4
ASGNI4
line 1944
;1943:
;1944:			for ( i = 0; i < level.maxclients; i++ )
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $934
JUMPV
LABELV $931
line 1945
;1945:			{
line 1946
;1946:				gclient_t *client = &level.clients[i];
ADDRLP4 12
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 1948
;1947:
;1948:				if (client->pers.connected != CON_CONNECTED)
ADDRLP4 12
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $936
line 1949
;1949:					continue;
ADDRGP4 $932
JUMPV
LABELV $936
line 1952
;1950:
;1951:				// if it's a client that is in game
;1952:				if (client->sess.waiting == qfalse) {
ADDRLP4 12
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
NEI4 $938
line 1957
;1953:			//		make him a spectator
;1954:
;1955:			//		client->sess.waiting = qtrue;
;1956:			//		ClientSpawn( &g_entities[ client - level.clients ] );
;1957:				}					
LABELV $938
line 1958
;1958:			}
LABELV $932
line 1944
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $934
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $931
line 1959
;1959:		}
LABELV $926
line 1960
;1960:		b_sWaitingForPlayers = qtrue;
ADDRGP4 b_sWaitingForPlayers
CNSTI4 1
ASGNI4
line 1963
;1961:
;1962:		// reset loosecount
;1963:		level.looseCount = 0; // how often the team lost
ADDRGP4 level+7580
CNSTI4 0
ASGNI4
line 1964
;1964:		level.lastLooser = TEAM_FREE; // which team lost
ADDRGP4 level+7584
CNSTI4 0
ASGNI4
line 1966
;1965:
;1966:		level.warmupTime = -2;
ADDRGP4 level+16
CNSTI4 -2
ASGNI4
line 1967
;1967:		level.roundstartTime = 0;
ADDRGP4 level+7164
CNSTI4 0
ASGNI4
line 1969
;1968:
;1969:		trap_SetConfigstring( CS_ROUND_START_TIME, "0" );
CNSTI4 28
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1970
;1970:		trap_SetConfigstring( CS_VIP_START_TIME, "0" );
CNSTI4 29
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1971
;1971:		trap_SetConfigstring( CS_BOMB_START_TIME, "0" );
CNSTI4 30
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1972
;1972:		trap_SetConfigstring( CS_ASSAULT_START_TIME, "0" );
CNSTI4 32
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1973
;1973:		trap_SetConfigstring( CS_ASSAULT2_START_TIME, "0" );
CNSTI4 33
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1974
;1974:		trap_SetConfigstring( CS_ASSAULT3_START_TIME, "0" );
CNSTI4 34
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1975
;1975:		trap_SetConfigstring( CS_ASSAULT4_START_TIME, "0" );
CNSTI4 35
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1976
;1976:	}
ADDRGP4 $924
JUMPV
LABELV $923
line 1978
;1977:	else
;1978:	{
line 1980
;1979:		// give XPs 
;1980:		if ( level.xpTime < level.time && level.xpTime > 0)
ADDRGP4 level+7256
INDIRI4
ADDRGP4 level+32
INDIRI4
GEI4 $944
ADDRGP4 level+7256
INDIRI4
CNSTI4 0
LEI4 $944
line 1981
;1981:		{			
line 1983
;1982:			// now give our XPs 
;1983:			NS_GiveXPtoAlive( -1, level.lastLooser, qfalse );
CNSTI4 -1
ARGI4
ADDRGP4 level+7584
INDIRI4
ARGI4
CNSTI4 0
ARGI4
ADDRGP4 NS_GiveXPtoAlive
CALLV
pop
line 1984
;1984:			NS_GiveXPtoAlive( -1, OtherTeam(level.lastLooser), qtrue );
ADDRGP4 level+7584
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 OtherTeam
CALLI4
ASGNI4
CNSTI4 -1
ARGI4
ADDRLP4 12
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXPtoAlive
CALLV
pop
line 1985
;1985:			level.xpTime = 0;
ADDRGP4 level+7256
CNSTI4 0
ASGNI4
line 1986
;1986:		}
LABELV $944
line 1989
;1987:
;1988:		// time to start a new warmup, initiate warmup - reset some variables
;1989:		if (level.winTime == level.time ) {
ADDRGP4 level+7236
INDIRI4
ADDRGP4 level+32
INDIRI4
NEI4 $952
line 1990
;1990:			level.warmupTime = -2;
ADDRGP4 level+16
CNSTI4 -2
ASGNI4
line 1991
;1991:			level.done_objectives[TEAM_RED] = level.done_objectives[TEAM_BLUE] = 0;
ADDRLP4 12
CNSTI4 0
ASGNI4
ADDRGP4 level+7184+8
ADDRLP4 12
INDIRI4
ASGNI4
ADDRGP4 level+7184+4
ADDRLP4 12
INDIRI4
ASGNI4
line 1992
;1992:			GameState = STATE_OPEN;
ADDRGP4 GameState
CNSTI4 0
ASGNI4
line 1993
;1993:		}
LABELV $952
line 2001
;1994:
;1995:		//
;1996:		// start the warmup
;1997:		//
;1998:		// clients are now beeing spawned
;1999:		// items are beeing respawned
;2000:		// missinoobjects / func are getting restartet.
;2001:		if (level.warmupTime == -2)
ADDRGP4 level+16
INDIRI4
CNSTI4 -2
NEI4 $961
line 2002
;2002:		{
line 2003
;2003:			GameState = STATE_OPEN;
ADDRGP4 GameState
CNSTI4 0
ASGNI4
line 2004
;2004:			level.warmupTime = level.time + ROUND_WARMUP_TIME;
ADDRGP4 level+16
ADDRGP4 level+32
INDIRI4
CNSTI4 6000
ADDI4
ASGNI4
line 2005
;2005:			trap_SendServerCommand( -1, va( "cp \"Round #%i will start in %i seconds.\nWeapons Locked.\"", LTS_Rounds, (level.warmupTime - level.time)/ONE_SECOND  ) );
ADDRGP4 $966
ARGP4
ADDRGP4 LTS_Rounds
INDIRI4
ARGI4
ADDRGP4 level+16
INDIRI4
ADDRGP4 level+32
INDIRI4
SUBI4
CNSTI4 1000
DIVI4
ARGI4
ADDRLP4 12
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 -1
ARGI4
ADDRLP4 12
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2006
;2006:			trap_SendServerCommand( -1, "roundst" ); 
CNSTI4 -1
ARGI4
ADDRGP4 $969
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2008
;2007:
;2008:			for ( i = 0; i < level.maxclients; i++ )
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $973
JUMPV
LABELV $970
line 2009
;2009:			{
line 2010
;2010:				gclient_t *client = &level.clients[i];
ADDRLP4 16
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 2012
;2011:
;2012:				if (client->pers.connected != CON_CONNECTED)
ADDRLP4 16
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $975
line 2013
;2013:					continue;
ADDRGP4 $971
JUMPV
LABELV $975
line 2015
;2014:
;2015:				if (client->pers.nsPC.playerclass <= CLASS_NONE)
ADDRLP4 16
INDIRP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $977
line 2016
;2016:					continue;
ADDRGP4 $971
JUMPV
LABELV $977
line 2018
;2017:
;2018:				client->sess.waiting = qfalse;
ADDRLP4 16
INDIRP4
CNSTI4 1488
ADDP4
CNSTI4 0
ASGNI4
line 2021
;2019:
;2020:				// refresh userinfo
;2021:				ClientSpawn( &g_entities[ client - level.clients ] );
CNSTI4 1100
ADDRLP4 16
INDIRP4
CVPU4 4
ADDRGP4 level
INDIRP4
CVPU4 4
SUBU4
CVUI4 4
CNSTI4 4780
DIVI4
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRGP4 ClientSpawn
CALLV
pop
line 2025
;2022:			
;2023:
;2024:				// for all clients in game... lock weapons
;2025:				client->ps.eFlags |= EF_WEAPONS_LOCKED;
ADDRLP4 20
ADDRLP4 16
INDIRP4
CNSTI4 104
ADDP4
ASGNP4
ADDRLP4 20
INDIRP4
ADDRLP4 20
INDIRP4
INDIRI4
CNSTI4 32768
BORI4
ASGNI4
line 2026
;2026:			}
LABELV $971
line 2008
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $973
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $970
line 2028
;2027:
;2028:			NS_SendResetAllStatusToAllPlayers();
ADDRGP4 NS_SendResetAllStatusToAllPlayers
CALLV
pop
line 2031
;2029:
;2030:			// we also spawned the clients now clean all items
;2031:			NS_RemoveItems(); // can't handle mission objectives like briefcase in here
ADDRGP4 NS_RemoveItems
CALLV
pop
line 2032
;2032:			NS_RemoveDroppedEntities(); // cos we only remove the dropped versions
ADDRGP4 NS_RemoveDroppedEntities
CALLV
pop
line 2035
;2033:
;2034:			// start the entites (spawn briefcase/resart func_explosives...)
;2035:			NS_LaunchEntities();
ADDRGP4 NS_LaunchEntities
CALLV
pop
line 2037
;2036:
;2037:			if ( !g_overrideGoals.integer ) {
ADDRGP4 g_overrideGoals+12
INDIRI4
CNSTI4 0
NEI4 $979
line 2038
;2038:				if (level.vip[TEAM_RED] > 0)
ADDRGP4 level+7216+4
INDIRI4
CNSTI4 0
LEI4 $982
line 2039
;2039:					NS_DoVipStuff(TEAM_RED, NULL);
CNSTI4 1
ARGI4
CNSTP4 0
ARGP4
ADDRGP4 NS_DoVipStuff
CALLV
pop
LABELV $982
line 2040
;2040:				if (level.vip[TEAM_BLUE] > 0)
ADDRGP4 level+7216+8
INDIRI4
CNSTI4 0
LEI4 $986
line 2041
;2041:					NS_DoVipStuff(TEAM_BLUE,NULL);
CNSTI4 2
ARGI4
CNSTP4 0
ARGP4
ADDRGP4 NS_DoVipStuff
CALLV
pop
LABELV $986
line 2042
;2042:			}
LABELV $979
line 2046
;2043:
;2044:			// do it again to force clientskin update
;2045:			// like new playerstyles...
;2046:			for ( i=0;i<level.maxclients;i++)
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $993
JUMPV
LABELV $990
line 2047
;2047:			{
line 2048
;2048:				gclient_t *client = &level.clients[i];
ADDRLP4 16
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 2050
;2049:
;2050:				if (client->pers.connected != CON_CONNECTED)
ADDRLP4 16
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $995
line 2051
;2051:					continue;
ADDRGP4 $991
JUMPV
LABELV $995
line 2053
;2052:
;2053:				if (client->pers.nsPC.playerclass <= CLASS_NONE)
ADDRLP4 16
INDIRP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $997
line 2054
;2054:					continue;
ADDRGP4 $991
JUMPV
LABELV $997
line 2056
;2055:
;2056:				ClientUserinfoChanged( i );
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 ClientUserinfoChanged
CALLV
pop
line 2057
;2057:			}
LABELV $991
line 2046
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $993
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $990
line 2059
;2058:			// update clients
;2059:			trap_SendServerCommand( -1, "loaddefered\n" );	// FIXME: spelled wrong, but not changing for demo
CNSTI4 -1
ARGI4
ADDRGP4 $999
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2060
;2060:		}
LABELV $961
line 2063
;2061:		
;2062:		// our round begins
;2063:		if (level.warmupTime == level.time)
ADDRGP4 level+16
INDIRI4
ADDRGP4 level+32
INDIRI4
NEI4 $1000
line 2064
;2064:		{
line 2067
;2065:
;2066:			// Time to start the next round
;2067:			level.warmupTime = -1;
ADDRGP4 level+16
CNSTI4 -1
ASGNI4
line 2068
;2068:			GameState = STATE_LOCKED; 		
ADDRGP4 GameState
CNSTI4 2
ASGNI4
line 2070
;2069:
;2070:			if ( ( level.vip[TEAM_RED] == VIP_ESCAPE || level.vip[TEAM_BLUE] == VIP_STAYALIVE ) && !g_overrideGoals.integer)
ADDRGP4 level+7216+4
INDIRI4
CNSTI4 1
EQI4 $1012
ADDRGP4 level+7216+8
INDIRI4
CNSTI4 2
NEI4 $1005
LABELV $1012
ADDRGP4 g_overrideGoals+12
INDIRI4
CNSTI4 0
NEI4 $1005
line 2071
;2071:				level.roundstartTime = level.time + level.vipTime; 
ADDRGP4 level+7164
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+7232
INDIRI4
ADDI4
ASGNI4
ADDRGP4 $1006
JUMPV
LABELV $1005
line 2072
;2072:			else if ( g_roundTime.integer )
ADDRGP4 g_roundTime+12
INDIRI4
CNSTI4 0
EQI4 $1016
line 2073
;2073:				level.roundstartTime = level.time + ( g_roundTime.integer * 60 * ONE_SECOND ); // round now started
ADDRGP4 level+7164
ADDRGP4 level+32
INDIRI4
CNSTI4 1000
CNSTI4 60
ADDRGP4 g_roundTime+12
INDIRI4
MULI4
MULI4
ADDI4
ASGNI4
ADDRGP4 $1017
JUMPV
LABELV $1016
line 2075
;2074:			else
;2075:				level.roundstartTime = -1;
ADDRGP4 level+7164
CNSTI4 -1
ASGNI4
LABELV $1017
LABELV $1006
line 2077
;2076: 
;2077:			trap_SetConfigstring( CS_ROUND_START_TIME, va("%i",level.roundstartTime) );
ADDRGP4 $1023
ARGP4
ADDRGP4 level+7164
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 28
ARGI4
ADDRLP4 12
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2079
;2078:
;2079:			for ( i = 0; i < level.maxclients; i++ )
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1028
JUMPV
LABELV $1025
line 2080
;2080:			{		
line 2081
;2081:				gclient_t *client = &level.clients[i];
ADDRLP4 16
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 2083
;2082:
;2083:				if (client->pers.connected != CON_CONNECTED)
ADDRLP4 16
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1030
line 2084
;2084:					continue;
ADDRGP4 $1026
JUMPV
LABELV $1030
line 2087
;2085:
;2086:				// if we're a waiting player don't ready our weapons
;2087:				if (client->sess.waiting != qfalse)
ADDRLP4 16
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1032
line 2088
;2088:					continue;
ADDRGP4 $1026
JUMPV
LABELV $1032
line 2091
;2089:
;2090:				// unlock weapons					
;2091:				client->ps.eFlags &= ~EF_WEAPONS_LOCKED;
ADDRLP4 20
ADDRLP4 16
INDIRP4
CNSTI4 104
ADDP4
ASGNP4
ADDRLP4 20
INDIRP4
ADDRLP4 20
INDIRP4
INDIRI4
CNSTI4 -32769
BANDI4
ASGNI4
line 2092
;2092:			}  
LABELV $1026
line 2079
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1028
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1025
line 2095
;2093:		
;2094:			// give bombs to players that require it.
;2095:			NS_GiveBombsToTeam( TEAM_RED );
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveBombsToTeam
CALLV
pop
line 2096
;2096:			NS_GiveBombsToTeam( TEAM_BLUE );
CNSTI4 2
ARGI4
ADDRGP4 NS_GiveBombsToTeam
CALLV
pop
line 2099
;2097:
;2098:			// radiobroadcast the start radiomsg.
;2099:			if ( random() < 0.5 )
ADDRLP4 16
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
CNSTF4 1056964608
GEF4 $1034
line 2100
;2100:				NS_BotRadioMsg( NS_RandomPlayer( -1, TEAM_RED ) , "gogo" );
CNSTI4 -1
ARGI4
CNSTI4 1
ARGI4
ADDRLP4 20
ADDRGP4 NS_RandomPlayer
CALLP4
ASGNP4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 $1036
ARGP4
ADDRGP4 NS_BotRadioMsg
CALLV
pop
ADDRGP4 $1035
JUMPV
LABELV $1034
line 2102
;2101:			else
;2102:				NS_BotRadioMsg( NS_RandomPlayer( -1, TEAM_RED ) , "locknload" );
CNSTI4 -1
ARGI4
CNSTI4 1
ARGI4
ADDRLP4 24
ADDRGP4 NS_RandomPlayer
CALLP4
ASGNP4
ADDRLP4 24
INDIRP4
ARGP4
ADDRGP4 $1037
ARGP4
ADDRGP4 NS_BotRadioMsg
CALLV
pop
LABELV $1035
line 2104
;2103:
;2104:			if ( random() < 0.5 )
ADDRLP4 28
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
CNSTF4 1056964608
GEF4 $1038
line 2105
;2105:				NS_BotRadioMsg( NS_RandomPlayer( -1, TEAM_BLUE ) , "gogo" );
CNSTI4 -1
ARGI4
CNSTI4 2
ARGI4
ADDRLP4 32
ADDRGP4 NS_RandomPlayer
CALLP4
ASGNP4
ADDRLP4 32
INDIRP4
ARGP4
ADDRGP4 $1036
ARGP4
ADDRGP4 NS_BotRadioMsg
CALLV
pop
ADDRGP4 $1039
JUMPV
LABELV $1038
line 2107
;2106:			else
;2107:				NS_BotRadioMsg( NS_RandomPlayer( -1, TEAM_BLUE ) , "locknload" );
CNSTI4 -1
ARGI4
CNSTI4 2
ARGI4
ADDRLP4 36
ADDRGP4 NS_RandomPlayer
CALLP4
ASGNP4
ADDRLP4 36
INDIRP4
ARGP4
ADDRGP4 $1037
ARGP4
ADDRGP4 NS_BotRadioMsg
CALLV
pop
LABELV $1039
line 2110
;2108:	
;2109:			// lock the game so no more people can the round
;2110:			GameState = STATE_LOCKED;
ADDRGP4 GameState
CNSTI4 2
ASGNI4
line 2112
;2111:			// tell the player that they're ready to fire
;2112:			CenterPrintAll( "Go, Weapons Unlocked.\n" );
ADDRGP4 $1040
ARGP4
ADDRGP4 CenterPrintAll
CALLV
pop
line 2114
;2113:			// log print a start
;2114:			G_LogPrintf( "ROUND: Start.\n" );
ADDRGP4 $1041
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 2115
;2115:		}
LABELV $1000
line 2119
;2116:
;2117:		// see if the round has to be ended this round. 
;2118:		// it should be ended when all objectives have been accomplished.
;2119:		if ( !g_overrideGoals.integer ) 
ADDRGP4 g_overrideGoals+12
INDIRI4
CNSTI4 0
NEI4 $1042
line 2120
;2120:		{
line 2121
;2121:			if ( ( level.done_objectives[TEAM_RED] >= level.num_objectives[TEAM_RED] ) && level.num_objectives[TEAM_RED] > 0 )
ADDRGP4 level+7184+4
INDIRI4
ADDRGP4 level+7168+4
INDIRI4
LTI4 $1045
ADDRGP4 level+7168+4
INDIRI4
CNSTI4 0
LEI4 $1045
line 2122
;2122:			{
line 2123
;2123:				NS_EndRoundForTeam( TEAM_RED );
CNSTI4 1
ARGI4
ADDRGP4 NS_EndRoundForTeam
CALLV
pop
line 2124
;2124:				return;
ADDRGP4 $912
JUMPV
LABELV $1045
line 2126
;2125:			}
;2126:			else if ( ( level.done_objectives[TEAM_BLUE] >= level.num_objectives[TEAM_BLUE] ) && level.num_objectives[TEAM_BLUE] > 0 )
ADDRGP4 level+7184+8
INDIRI4
ADDRGP4 level+7168+8
INDIRI4
LTI4 $1053
ADDRGP4 level+7168+8
INDIRI4
CNSTI4 0
LEI4 $1053
line 2127
;2127:			{ // don't go any further
line 2128
;2128:				NS_EndRoundForTeam( TEAM_BLUE );
CNSTI4 2
ARGI4
ADDRGP4 NS_EndRoundForTeam
CALLV
pop
line 2129
;2129:				return;
ADDRGP4 $912
JUMPV
LABELV $1053
line 2131
;2130:			}
;2131:		}
LABELV $1042
line 2134
;2132:
;2133:		// check if there is a team with no alive players
;2134:		if (AliveTeamCount( -1, TEAM_RED ) < 1 )
CNSTI4 -1
ARGI4
CNSTI4 1
ARGI4
ADDRLP4 12
ADDRGP4 AliveTeamCount
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 1
GEI4 $1061
line 2135
;2135:		{
line 2136
;2136:			if (!NS_BombExistForTeam(TEAM_RED) )
CNSTI4 1
ARGI4
ADDRLP4 16
ADDRGP4 NS_BombExistForTeam
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
NEI4 $1063
line 2137
;2137:			{
line 2138
;2138:				NS_EndRound(); // the round is finished , since some team got no members
ADDRGP4 NS_EndRound
CALLV
pop
line 2139
;2139:				return;
ADDRGP4 $912
JUMPV
LABELV $1063
line 2141
;2140:			}
;2141:		}
LABELV $1061
line 2142
;2142:		if ( AliveTeamCount( -1, TEAM_BLUE ) < 1 )
CNSTI4 -1
ARGI4
CNSTI4 2
ARGI4
ADDRLP4 16
ADDRGP4 AliveTeamCount
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 1
GEI4 $1065
line 2143
;2143:		{
line 2144
;2144:			if (!NS_BombExistForTeam(TEAM_BLUE) )
CNSTI4 2
ARGI4
ADDRLP4 20
ADDRGP4 NS_BombExistForTeam
CALLI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 0
NEI4 $1067
line 2145
;2145:			{
line 2146
;2146:				NS_EndRound(); // the round is finished , since some team got no members
ADDRGP4 NS_EndRound
CALLV
pop
line 2147
;2147:				return;
ADDRGP4 $912
JUMPV
LABELV $1067
line 2149
;2148:			}
;2149:		}
LABELV $1065
line 2150
;2150:	} 
LABELV $924
line 2153
;2151:
;2152:	// update warmup config string?
;2153:	{
line 2157
;2154:		char buffer[512];
;2155:		int oldWarmup;
;2156:
;2157:		trap_GetConfigstring( CS_WARMUP, buffer, sizeof(buffer) );
CNSTI4 5
ARGI4
ADDRLP4 12
ARGP4
CNSTI4 512
ARGI4
ADDRGP4 trap_GetConfigstring
CALLV
pop
line 2158
;2158:		oldWarmup = atoi(buffer);
ADDRLP4 12
ARGP4
ADDRLP4 528
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 524
ADDRLP4 528
INDIRI4
ASGNI4
line 2160
;2159:
;2160:		if (level.warmupTime > 0 ) 
ADDRGP4 level+16
INDIRI4
CNSTI4 0
LEI4 $1069
line 2161
;2161:		{ 
line 2162
;2162:			trap_SetConfigstring( CS_WARMUP, va("%i", level.warmupTime) ); 
ADDRGP4 $1023
ARGP4
ADDRGP4 level+16
INDIRI4
ARGI4
ADDRLP4 532
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 5
ARGI4
ADDRLP4 532
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2163
;2163:		}
ADDRGP4 $1070
JUMPV
LABELV $1069
line 2164
;2164:		else if ( level.warmupTime == -2 )
ADDRGP4 level+16
INDIRI4
CNSTI4 -2
NEI4 $1073
line 2165
;2165:		{ 
line 2166
;2166:			trap_SetConfigstring( CS_WARMUP, "-1" );
CNSTI4 5
ARGI4
ADDRGP4 $1076
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2167
;2167:		}
ADDRGP4 $1074
JUMPV
LABELV $1073
line 2168
;2168:		else if ( oldWarmup  != 0 )
ADDRLP4 524
INDIRI4
CNSTI4 0
EQI4 $1077
line 2169
;2169:		{ 
line 2170
;2170:			trap_SetConfigstring( CS_WARMUP, "0" );
CNSTI4 5
ARGI4
ADDRGP4 $874
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2171
;2171:		}
LABELV $1077
LABELV $1074
LABELV $1070
line 2172
;2172:	}
line 2173
;2173:} 
LABELV $912
endproc CheckTeamplay 536 12
export SelectRandomSpawnPoint
proc SelectRandomSpawnPoint 88 12
line 2193
;2174:
;2175:/*
;2176:==============
;2177:
;2178:  TEAMPLAY SPAWNING
;2179:
;2180:==============
;2181:*/ 
;2182:
;2183:/*
;2184:=================
;2185:NSQ3 Select Random Spawn Point
;2186:author: Defcon-X
;2187:date:
;2188:description: selects a random team spawnpoint
;2189:=================
;2190:*/ 
;2191:#define	MAX_TEAM_SPAWN_POINTS	16
;2192:
;2193:gentity_t *SelectRandomSpawnPoint( int teamstate, team_t team ) {
line 2201
;2194:	gentity_t	*spot;
;2195:	int			count;
;2196:	int			selection;
;2197:	gentity_t	*spots[MAX_TEAM_SPAWN_POINTS];
;2198:	char		*classname;
;2199:
;2200:
;2201: 	if (team == TEAM_RED)
ADDRFP4 4
INDIRI4
CNSTI4 1
NEI4 $1080
line 2202
;2202:		classname = "team_seal_player";
ADDRLP4 8
ADDRGP4 $1082
ASGNP4
ADDRGP4 $1081
JUMPV
LABELV $1080
line 2203
;2203:	else if (team == TEAM_BLUE)
ADDRFP4 4
INDIRI4
CNSTI4 2
NEI4 $1083
line 2204
;2204:		classname = "team_tango_player";
ADDRLP4 8
ADDRGP4 $1085
ASGNP4
ADDRGP4 $1084
JUMPV
LABELV $1083
line 2206
;2205:	else
;2206:		return NULL;
CNSTP4 0
RETP4
ADDRGP4 $1079
JUMPV
LABELV $1084
LABELV $1081
line 2208
;2207: 
;2208:	count = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 2210
;2209:
;2210:	spot = NULL;
ADDRLP4 0
CNSTP4 0
ASGNP4
ADDRGP4 $1087
JUMPV
LABELV $1086
line 2212
;2211:
;2212:	while ( (spot = G_Find (spot, FOFS(classname), classname)) != NULL) {
line 2213
;2213:		if ( SpotWouldTelefrag( spot ) ) {
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 80
ADDRGP4 SpotWouldTelefrag
CALLI4
ASGNI4
ADDRLP4 80
INDIRI4
CNSTI4 0
EQI4 $1089
line 2214
;2214:			continue;
ADDRGP4 $1087
JUMPV
LABELV $1089
line 2216
;2215:		}
;2216:		spots[ count ] = spot;
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 12
ADDP4
ADDRLP4 0
INDIRP4
ASGNP4
line 2217
;2217:		if (++count == MAX_TEAM_SPAWN_POINTS)
ADDRLP4 84
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 4
ADDRLP4 84
INDIRI4
ASGNI4
ADDRLP4 84
INDIRI4
CNSTI4 16
NEI4 $1091
line 2218
;2218:			break;
ADDRGP4 $1088
JUMPV
LABELV $1091
line 2219
;2219:	}
LABELV $1087
line 2212
ADDRLP4 0
INDIRP4
ARGP4
CNSTI4 524
ARGI4
ADDRLP4 8
INDIRP4
ARGP4
ADDRLP4 80
ADDRGP4 G_Find
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 80
INDIRP4
ASGNP4
ADDRLP4 80
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1086
LABELV $1088
line 2221
;2220:
;2221:	if ( !count ) {	// no spots that won't telefrag
ADDRLP4 4
INDIRI4
CNSTI4 0
NEI4 $1093
line 2222
;2222:		return G_Find( NULL, FOFS(classname), classname);
CNSTP4 0
ARGP4
CNSTI4 524
ARGI4
ADDRLP4 8
INDIRP4
ARGP4
ADDRLP4 84
ADDRGP4 G_Find
CALLP4
ASGNP4
ADDRLP4 84
INDIRP4
RETP4
ADDRGP4 $1079
JUMPV
LABELV $1093
line 2225
;2223:	}
;2224:
;2225:	selection = rand() % count;
ADDRLP4 84
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 76
ADDRLP4 84
INDIRI4
ADDRLP4 4
INDIRI4
MODI4
ASGNI4
line 2226
;2226:	return spots[ selection ];
ADDRLP4 76
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 12
ADDP4
INDIRP4
RETP4
LABELV $1079
endproc SelectRandomSpawnPoint 88 12
export SelectTeamSpawnPoint
proc SelectTeamSpawnPoint 12 12
line 2237
;2227:}
;2228:
;2229:/*
;2230:=================
;2231:NSQ3 Select Team Spawn Point
;2232:author: Defcon-X
;2233:date:
;2234:description: selects a team Spawn point
;2235:=================
;2236:*/ 
;2237:gentity_t *SelectTeamSpawnPoint ( team_t team, int teamstate, vec3_t origin, vec3_t angles ) {
line 2240
;2238:	gentity_t	*spot;
;2239:
;2240:	spot = SelectRandomSpawnPoint ( teamstate, team );
ADDRFP4 4
INDIRI4
ARGI4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 4
ADDRGP4 SelectRandomSpawnPoint
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 4
INDIRP4
ASGNP4
line 2242
;2241:	
;2242:	if (!spot) {
ADDRLP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1096
line 2243
;2243:		return SelectSpawnPoint( vec3_origin, origin, angles );
ADDRGP4 vec3_origin
ARGP4
ADDRFP4 8
INDIRP4
ARGP4
ADDRFP4 12
INDIRP4
ARGP4
ADDRLP4 8
ADDRGP4 SelectSpawnPoint
CALLP4
ASGNP4
ADDRLP4 8
INDIRP4
RETP4
ADDRGP4 $1095
JUMPV
LABELV $1096
line 2246
;2244:	}
;2245:
;2246:	VectorCopy (spot->s.origin, origin);
ADDRFP4 8
INDIRP4
ADDRLP4 0
INDIRP4
CNSTI4 92
ADDP4
INDIRB
ASGNB 12
line 2247
;2247:	origin[2] += 9;
ADDRLP4 8
ADDRFP4 8
INDIRP4
CNSTI4 8
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
ADDRLP4 8
INDIRP4
INDIRF4
CNSTF4 1091567616
ADDF4
ASGNF4
line 2248
;2248:	VectorCopy (spot->s.angles, angles);
ADDRFP4 12
INDIRP4
ADDRLP4 0
INDIRP4
CNSTI4 116
ADDP4
INDIRB
ASGNB 12
line 2250
;2249:
;2250:	return spot;
ADDRLP4 0
INDIRP4
RETP4
LABELV $1095
endproc SelectTeamSpawnPoint 12 12
export Is_Spectator
proc Is_Spectator 0 0
line 2262
;2251:}
;2252:
;2253:/*
;2254:=================
;2255:NSQ3 Is Spectator
;2256:author: Defcon-X
;2257:date:
;2258:description: is the entity a spectator?
;2259:=================
;2260:*/ 
;2261:qboolean Is_Spectator ( gentity_t *ent)
;2262:{
line 2263
;2263:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1099
line 2264
;2264:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1098
JUMPV
LABELV $1099
line 2265
;2265:	if (ent->client->sess.sessionTeam == TEAM_SPECTATOR)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
CNSTI4 3
NEI4 $1101
line 2266
;2266:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1098
JUMPV
LABELV $1101
line 2267
;2267:	if ( ent->client->sess.waiting )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1103
line 2268
;2268:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1098
JUMPV
LABELV $1103
line 2270
;2269:
;2270:	if (ent->client->ps.pm_type == PM_SPECTATOR)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 2
NEI4 $1105
line 2271
;2271:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1098
JUMPV
LABELV $1105
line 2272
;2272:	return qfalse;
CNSTI4 0
RETI4
LABELV $1098
endproc Is_Spectator 0 0
export NS_BandageBodyPart
proc NS_BandageBodyPart 28 0
line 2292
;2273:}
;2274:
;2275:/*
;2276:==============
;2277:
;2278:  BANDAGING
;2279:
;2280:==============
;2281:*/ 
;2282:
;2283:/*
;2284:=================
;2285:NSQ3 Bandage Body Part
;2286:author: Defcon-X
;2287:date: 13-07-2000
;2288:description: adds health back to the bodypart and returns amount of healed points
;2289:=================
;2290:*/ 
;2291:int NS_BandageBodyPart ( gentity_t *ent , int loc)
;2292:{	
line 2293
;2293:	int		points = 0;
ADDRLP4 0
CNSTI4 0
ASGNI4
line 2295
;2294:
;2295:	points = 3;
ADDRLP4 0
CNSTI4 3
ASGNI4
line 2298
;2296:
;2297:	// heal body parts
;2298:	switch( loc )
ADDRLP4 4
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 5
LTI4 $1109
ADDRLP4 4
INDIRI4
CNSTI4 9
GTI4 $1109
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1115-20
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $1115
address $1113
address $1114
address $1111
address $1112
address $1110
code
line 2299
;2299:	{
LABELV $1110
line 2301
;2300:		case STAT_HEAD_DAMAGE:
;2301:			points /= 3;
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 3
DIVI4
ASGNI4
line 2302
;2302:			ent->client->ps.stats[STAT_HEAD_DAMAGE] -= points;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 220
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
ADDRLP4 8
INDIRP4
INDIRI4
ADDRLP4 0
INDIRI4
SUBI4
ASGNI4
line 2303
;2303:			break;
ADDRGP4 $1109
JUMPV
LABELV $1111
line 2305
;2304:		case STAT_CHEST_DAMAGE:
;2305:			ent->client->ps.stats[STAT_CHEST_DAMAGE] -= points;
ADDRLP4 12
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 212
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
ADDRLP4 0
INDIRI4
SUBI4
ASGNI4
line 2306
;2306:			break;
ADDRGP4 $1109
JUMPV
LABELV $1112
line 2308
;2307:		case STAT_STOMACH_DAMAGE:
;2308:			ent->client->ps.stats[STAT_STOMACH_DAMAGE] -= points;
ADDRLP4 16
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 216
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
ADDRLP4 0
INDIRI4
SUBI4
ASGNI4
line 2309
;2309:			break;
ADDRGP4 $1109
JUMPV
LABELV $1113
line 2311
;2310:		case STAT_ARM_DAMAGE:
;2311:			ent->client->ps.stats[STAT_ARM_DAMAGE] -= points;
ADDRLP4 20
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 204
ADDP4
ASGNP4
ADDRLP4 20
INDIRP4
ADDRLP4 20
INDIRP4
INDIRI4
ADDRLP4 0
INDIRI4
SUBI4
ASGNI4
line 2312
;2312:			break;		 
ADDRGP4 $1109
JUMPV
LABELV $1114
line 2314
;2313:		case STAT_LEG_DAMAGE:
;2314:			ent->client->ps.stats[STAT_LEG_DAMAGE] -= points;
ADDRLP4 24
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 208
ADDP4
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
ADDRLP4 0
INDIRI4
SUBI4
ASGNI4
line 2315
;2315:			break;
line 2317
;2316:		default:
;2317:			break;
LABELV $1109
line 2320
;2318:	}
;2319:
;2320:	if (ent->client->ps.stats[STAT_ARM_DAMAGE] < 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 204
ADDP4
INDIRI4
CNSTI4 0
GEI4 $1117
line 2321
;2321:		ent->client->ps.stats[STAT_ARM_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 204
ADDP4
CNSTI4 0
ASGNI4
LABELV $1117
line 2322
;2322:	if (ent->client->ps.stats[STAT_LEG_DAMAGE] < 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 208
ADDP4
INDIRI4
CNSTI4 0
GEI4 $1119
line 2323
;2323:		ent->client->ps.stats[STAT_LEG_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 208
ADDP4
CNSTI4 0
ASGNI4
LABELV $1119
line 2324
;2324:	if (ent->client->ps.stats[STAT_CHEST_DAMAGE] < 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 212
ADDP4
INDIRI4
CNSTI4 0
GEI4 $1121
line 2325
;2325:		ent->client->ps.stats[STAT_CHEST_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 212
ADDP4
CNSTI4 0
ASGNI4
LABELV $1121
line 2326
;2326:	if (ent->client->ps.stats[STAT_STOMACH_DAMAGE] < 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 216
ADDP4
INDIRI4
CNSTI4 0
GEI4 $1123
line 2327
;2327:		ent->client->ps.stats[STAT_STOMACH_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 216
ADDP4
CNSTI4 0
ASGNI4
LABELV $1123
line 2328
;2328:	if (ent->client->ps.stats[STAT_HEAD_DAMAGE] < 0)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 220
ADDP4
INDIRI4
CNSTI4 0
GEI4 $1125
line 2329
;2329:		ent->client->ps.stats[STAT_HEAD_DAMAGE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 220
ADDP4
CNSTI4 0
ASGNI4
LABELV $1125
line 2332
;2330:
;2331:	// regenerate a bit health
;2332:	ent->client->ps.stats[STAT_HEALTH] += 1;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
ADDRLP4 8
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 2334
;2333:
;2334:	return points;
ADDRLP4 0
INDIRI4
RETI4
LABELV $1107
endproc NS_BandageBodyPart 28 0
export NS_GotWounds
proc NS_GotWounds 8 0
line 2346
;2335:}
;2336:
;2337:/*
;2338:=================
;2339:NSQ3 Got Wounds
;2340:author: Defcon-X
;2341:date:
;2342:description: return true if player got any wounds
;2343:=================
;2344:*/
;2345:int NS_GotWounds( gentity_t *ent )
;2346:{
line 2347
;2347:	if (ent->client->ps.stats[STAT_ARM_DAMAGE] ||
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRLP4 0
INDIRP4
CNSTI4 204
ADDP4
INDIRI4
ADDRLP4 4
INDIRI4
NEI4 $1133
ADDRLP4 0
INDIRP4
CNSTI4 208
ADDP4
INDIRI4
ADDRLP4 4
INDIRI4
NEI4 $1133
ADDRLP4 0
INDIRP4
CNSTI4 212
ADDP4
INDIRI4
ADDRLP4 4
INDIRI4
NEI4 $1133
ADDRLP4 0
INDIRP4
CNSTI4 216
ADDP4
INDIRI4
ADDRLP4 4
INDIRI4
NEI4 $1133
ADDRLP4 0
INDIRP4
CNSTI4 220
ADDP4
INDIRI4
ADDRLP4 4
INDIRI4
EQI4 $1128
LABELV $1133
line 2352
;2348:		ent->client->ps.stats[STAT_LEG_DAMAGE] ||
;2349:		ent->client->ps.stats[STAT_CHEST_DAMAGE] ||
;2350:		ent->client->ps.stats[STAT_STOMACH_DAMAGE] ||
;2351:		ent->client->ps.stats[STAT_HEAD_DAMAGE] )
;2352:		return qtrue; 
CNSTI4 1
RETI4
ADDRGP4 $1127
JUMPV
LABELV $1128
line 2354
;2353:
;2354:	if ( ent->client->bleed_num > 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1624
ADDP4
INDIRI4
CNSTI4 0
LEI4 $1134
line 2355
;2355:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1127
JUMPV
LABELV $1134
line 2357
;2356:
;2357:	return qfalse;
CNSTI4 0
RETI4
LABELV $1127
endproc NS_GotWounds 8 0
export NS_Bandaging
proc NS_Bandaging 20 8
line 2369
;2358:}
;2359:
;2360:/*
;2361:=================
;2362:NSQ3 Bandage
;2363:author: Defcon-X
;2364:date:
;2365:description: Bandage an entity
;2366:=================
;2367:*/ 
;2368:void NS_Bandaging ( gentity_t *ent )
;2369:{
line 2371
;2370:	// time for wound to bandage?
;2371:	int wounds = ent->client->bleed_num;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1624
ADDP4
INDIRI4
ASGNI4
line 2372
;2372:	int	time = 0;
ADDRLP4 0
CNSTI4 0
ASGNI4
line 2373
;2373:	int loc = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 2375
;2374:
;2375:	if (ent->client->buttons & BUTTON_ATTACK)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1504
ADDP4
INDIRI4
CNSTI4 1
BANDI4
CNSTI4 0
EQI4 $1137
line 2376
;2376:	{
line 2377
;2377:		ent->client->ps.weaponstate = WEAPON_BANDAGING_END;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 13
ASGNI4
line 2378
;2378:		return;
ADDRGP4 $1136
JUMPV
LABELV $1137
line 2381
;2379:	}
;2380:
;2381:	if (wounds <= 0) {
ADDRLP4 8
INDIRI4
CNSTI4 0
GTI4 $1139
line 2383
;2382:		// no open bleeding wounds, now try bandaging our wounds
;2383:		if ( NS_GotWounds(ent) )
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 12
ADDRGP4 NS_GotWounds
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 0
EQI4 $1141
line 2384
;2384:		{
line 2386
;2385:
;2386:			if (ent->client->ps.stats[STAT_ARM_DAMAGE])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 204
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1143
line 2387
;2387:				loc = STAT_ARM_DAMAGE;
ADDRLP4 4
CNSTI4 5
ASGNI4
ADDRGP4 $1144
JUMPV
LABELV $1143
line 2388
;2388:			else if (ent->client->ps.stats[STAT_LEG_DAMAGE])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 208
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1145
line 2389
;2389:				loc = STAT_LEG_DAMAGE;
ADDRLP4 4
CNSTI4 6
ASGNI4
ADDRGP4 $1146
JUMPV
LABELV $1145
line 2390
;2390:			else if (ent->client->ps.stats[STAT_CHEST_DAMAGE])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 212
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1147
line 2391
;2391:				loc = STAT_CHEST_DAMAGE;
ADDRLP4 4
CNSTI4 7
ASGNI4
ADDRGP4 $1148
JUMPV
LABELV $1147
line 2392
;2392:			else if (ent->client->ps.stats[STAT_STOMACH_DAMAGE])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 216
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1149
line 2393
;2393:				loc = STAT_STOMACH_DAMAGE;
ADDRLP4 4
CNSTI4 8
ASGNI4
ADDRGP4 $1150
JUMPV
LABELV $1149
line 2394
;2394:			else if (ent->client->ps.stats[STAT_HEAD_DAMAGE] )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 220
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1151
line 2395
;2395:				loc = STAT_HEAD_DAMAGE;
ADDRLP4 4
CNSTI4 9
ASGNI4
ADDRGP4 $1152
JUMPV
LABELV $1151
line 2397
;2396:			else 
;2397:				loc = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
LABELV $1152
LABELV $1150
LABELV $1148
LABELV $1146
LABELV $1144
line 2399
;2398:
;2399:			if (loc)
ADDRLP4 4
INDIRI4
CNSTI4 0
EQI4 $1142
line 2400
;2400:				time = NS_BandageBodyPart(ent, loc) / 4;			
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 4
INDIRI4
ARGI4
ADDRLP4 16
ADDRGP4 NS_BandageBodyPart
CALLI4
ASGNI4
ADDRLP4 0
ADDRLP4 16
INDIRI4
CNSTI4 4
DIVI4
ASGNI4
line 2401
;2401:		}
ADDRGP4 $1142
JUMPV
LABELV $1141
line 2402
;2402:		else {
line 2403
;2403:			ent->client->ps.weaponstate = WEAPON_BANDAGING_END;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 13
ASGNI4
line 2404
;2404:			return;
ADDRGP4 $1136
JUMPV
LABELV $1142
line 2406
;2405:		}
;2406:	}
LABELV $1139
line 2408
;2407:
;2408:	if (!loc) {
ADDRLP4 4
INDIRI4
CNSTI4 0
NEI4 $1155
line 2409
;2409:		wounds--;
ADDRLP4 8
ADDRLP4 8
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
line 2410
;2410:		time = ent->client->bleed_point[wounds];
ADDRLP4 0
ADDRLP4 8
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2140
ADDP4
ADDP4
INDIRI4
ASGNI4
line 2411
;2411:	}
LABELV $1155
line 2414
;2412:
;2413:	// multiple so we get a time ( needs more testings )
;2414:	time *= ONE_SECOND/2;
ADDRLP4 0
CNSTI4 500
ADDRLP4 0
INDIRI4
MULI4
ASGNI4
line 2417
;2415:
;2416:	// add min time...
;2417:	time += BANDAGE_MINTIME - ent->client->pers.nsPC.technical * 25;	
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1000
CNSTI4 25
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
MULI4
SUBI4
ADDI4
ASGNI4
line 2419
;2418:
;2419:	if (!loc)
ADDRLP4 4
INDIRI4
CNSTI4 0
NEI4 $1157
line 2420
;2420:		ent->client->bleed_num--; // now remove one wound...
ADDRLP4 12
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1624
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
LABELV $1157
line 2422
;2421:
;2422:	ent->client->ps.weaponTime = time;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 0
INDIRI4
ASGNI4
line 2423
;2423:}
LABELV $1136
endproc NS_Bandaging 20 8
export NS_StartBandage
proc NS_StartBandage 24 4
line 2436
;2424:
;2425:
;2426:
;2427:/*
;2428:=================
;2429:NSQ3 Start Bandage
;2430:author: Defcon-X
;2431:date:
;2432:description: client starts to bandage
;2433:=================
;2434:*/ 
;2435:void NS_StartBandage ( gentity_t *ent )
;2436:{
line 2438
;2437:	// got any wounds?
;2438:	if ( !NS_GotWounds(ent) )
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 0
ADDRGP4 NS_GotWounds
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
NEI4 $1160
line 2439
;2439:		return;
ADDRGP4 $1159
JUMPV
LABELV $1160
line 2442
;2440:
;2441:	// if not idling / endmag return
;2442:	if (ent->client->ps.weaponstate != WEAPON_READY && ent->client->ps.weaponstate != WEAPON_LASTRND)
ADDRLP4 4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
INDIRI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 0
EQI4 $1162
ADDRLP4 4
INDIRI4
CNSTI4 11
EQI4 $1162
line 2443
;2443:		return;
ADDRGP4 $1159
JUMPV
LABELV $1162
line 2446
;2444:	
;2445:	// send into bandage
;2446:	ent->client->ps.weaponTime = GetWeaponTimeOnLower(ent);
ADDRLP4 8
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 8
INDIRP4
ARGP4
ADDRLP4 12
ADDRGP4 GetWeaponTimeOnLower
CALLI4
ASGNI4
ADDRLP4 8
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 12
INDIRI4
ASGNI4
line 2447
;2447:	ent->client->ps.weaponstate = WEAPON_BANDAGING_START;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 12
ASGNI4
line 2448
;2448:	ent->client->ps.weaponTime = GetWeaponTimeOnLower(ent);
ADDRLP4 16
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 16
INDIRP4
ARGP4
ADDRLP4 20
ADDRGP4 GetWeaponTimeOnLower
CALLI4
ASGNI4
ADDRLP4 16
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 20
INDIRI4
ASGNI4
line 2449
;2449:}
LABELV $1159
endproc NS_StartBandage 24 4
export Weapon_MakeTouchable
proc Weapon_MakeTouchable 12 4
line 2463
;2450:
;2451:qboolean BG_IsPistol( int weapon );
;2452:qboolean BG_IsMelee( int weapon );
;2453:
;2454:/*
;2455:=================
;2456:NSQ3 Make Touchable
;2457:author: Defcon-X
;2458:date:
;2459:description: makes a weapon touchable
;2460:=================
;2461:*/ 
;2462:void Weapon_MakeTouchable(gentity_t *self)
;2463:{
line 2467
;2464:	int weapon;
;2465:
;2466:	// now it's touchable
;2467: 	self->touch = Touch_Item;
ADDRFP4 0
INDIRP4
CNSTI4 704
ADDP4
ADDRGP4 Touch_Item
ASGNP4
line 2470
;2468://	self->s.generic1 = 0;
;2469:
;2470:	weapon = self->item->giTag;
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 804
ADDP4
INDIRP4
CNSTI4 40
ADDP4
INDIRI4
ASGNI4
line 2473
;2471:
;2472:	// if a pistol or a knife , remove it after 5 seconds
;2473:	if ( BG_IsPistol ( weapon ) || BG_IsMelee ( weapon ) && g_gametype.integer < GT_TEAM)
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 4
ADDRGP4 BG_IsPistol
CALLI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 0
NEI4 $1168
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 8
ADDRGP4 BG_IsMelee
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $1164
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
GEI4 $1164
LABELV $1168
line 2474
;2474:	{
line 2475
;2475:		self->think = G_FreeEntity;
ADDRFP4 0
INDIRP4
CNSTI4 692
ADDP4
ADDRGP4 G_FreeEntity
ASGNP4
line 2476
;2476:		self->nextthink = level.time + 10000;
ADDRFP4 0
INDIRP4
CNSTI4 688
ADDP4
ADDRGP4 level+32
INDIRI4
CNSTI4 10000
ADDI4
ASGNI4
line 2477
;2477:	}
line 2478
;2478:	return;
LABELV $1164
endproc Weapon_MakeTouchable 12 4
export LaunchWeapon
proc LaunchWeapon 12 8
line 2488
;2479:}
;2480:
;2481:/*
;2482:================
;2483:LaunchWeapon
;2484:
;2485:spawns a weapon and tosses it forward . adding clips
;2486:================
;2487:*/
;2488:gentity_t *LaunchWeapon( gitem_t *item, vec3_t origin, vec3_t velocity, int clips, int weaponmode ) {
line 2491
;2489:	gentity_t	*dropped;
;2490:
;2491:	dropped = G_Spawn();
ADDRLP4 4
ADDRGP4 G_Spawn
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 4
INDIRP4
ASGNP4
line 2493
;2492:
;2493:	dropped->s.eType = ET_ITEM;
ADDRLP4 0
INDIRP4
CNSTI4 4
ADDP4
CNSTI4 2
ASGNI4
line 2494
;2494:	dropped->s.modelindex = item - bg_itemlist;	// store item number in modelindex
ADDRLP4 0
INDIRP4
CNSTI4 160
ADDP4
ADDRFP4 0
INDIRP4
CVPU4 4
ADDRGP4 bg_itemlist
CVPU4 4
SUBU4
CVUI4 4
CNSTI4 56
DIVI4
ASGNI4
line 2495
;2495:	dropped->s.modelindex2 = 1; // This is non-zero is it's a dropped item
ADDRLP4 0
INDIRP4
CNSTI4 164
ADDP4
CNSTI4 1
ASGNI4
line 2497
;2496:
;2497:	dropped->classname = item->classname;
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
ADDRFP4 0
INDIRP4
INDIRP4
ASGNP4
line 2498
;2498:	dropped->item = item;
ADDRLP4 0
INDIRP4
CNSTI4 804
ADDP4
ADDRFP4 0
INDIRP4
ASGNP4
line 2499
;2499:	VectorSet (dropped->r.mins, -ITEM_RADIUS, -ITEM_RADIUS, -ITEM_RADIUS);
ADDRLP4 0
INDIRP4
CNSTI4 436
ADDP4
CNSTF4 3245342720
ASGNF4
ADDRLP4 0
INDIRP4
CNSTI4 440
ADDP4
CNSTF4 3245342720
ASGNF4
ADDRLP4 0
INDIRP4
CNSTI4 444
ADDP4
CNSTF4 3245342720
ASGNF4
line 2500
;2500:	VectorSet (dropped->r.maxs, ITEM_RADIUS, ITEM_RADIUS, ITEM_RADIUS);
ADDRLP4 0
INDIRP4
CNSTI4 448
ADDP4
CNSTF4 1097859072
ASGNF4
ADDRLP4 0
INDIRP4
CNSTI4 452
ADDP4
CNSTF4 1097859072
ASGNF4
ADDRLP4 0
INDIRP4
CNSTI4 456
ADDP4
CNSTF4 1097859072
ASGNF4
line 2501
;2501:	dropped->r.contents = CONTENTS_TRIGGER;
ADDRLP4 0
INDIRP4
CNSTI4 460
ADDP4
CNSTI4 1073741824
ASGNI4
line 2504
;2502: 
;2503:
;2504:	G_SetOrigin( dropped, origin );
ADDRLP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRGP4 G_SetOrigin
CALLV
pop
line 2505
;2505:	dropped->s.pos.trType = TR_GRAVITY;
ADDRLP4 0
INDIRP4
CNSTI4 12
ADDP4
CNSTI4 5
ASGNI4
line 2506
;2506:	dropped->s.pos.trTime = level.time;
ADDRLP4 0
INDIRP4
CNSTI4 16
ADDP4
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2507
;2507:	VectorCopy( velocity, dropped->s.pos.trDelta );
ADDRLP4 0
INDIRP4
CNSTI4 36
ADDP4
ADDRFP4 8
INDIRP4
INDIRB
ASGNB 12
line 2509
;2508:
;2509:	dropped->s.eFlags |= EF_BOUNCE_HALF;
ADDRLP4 8
ADDRLP4 0
INDIRP4
CNSTI4 8
ADDP4
ASGNP4
ADDRLP4 8
INDIRP4
ADDRLP4 8
INDIRP4
INDIRI4
CNSTI4 32
BORI4
ASGNI4
line 2511
;2510: 
;2511:	dropped->flags = FL_DROPPED_ITEM;
ADDRLP4 0
INDIRP4
CNSTI4 536
ADDP4
CNSTI4 4096
ASGNI4
line 2513
;2512:
;2513:	dropped->touch = Touch_Item;
ADDRLP4 0
INDIRP4
CNSTI4 704
ADDP4
ADDRGP4 Touch_Item
ASGNP4
line 2515
;2514:
;2515:	dropped->s.generic1 = weaponmode;
ADDRLP4 0
INDIRP4
CNSTI4 204
ADDP4
ADDRFP4 16
INDIRI4
ASGNI4
line 2517
;2516:	// clips 
;2517:	dropped->count = clips;
ADDRLP4 0
INDIRP4
CNSTI4 760
ADDP4
ADDRFP4 12
INDIRI4
ASGNI4
line 2519
;2518:
;2519:	trap_LinkEntity (dropped);
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_LinkEntity
CALLV
pop
line 2521
;2520:
;2521:	return dropped;
ADDRLP4 0
INDIRP4
RETP4
LABELV $1170
endproc LaunchWeapon 12 8
export Drop_Weapon
proc Drop_Weapon 64 20
line 2530
;2522:}
;2523:/*
;2524:================
;2525:Drop_Weapon
;2526:
;2527:Drops weapons, and adds the current clips to the spawned entity...
;2528:================
;2529:*/
;2530:gentity_t *Drop_Weapon( gentity_t *ent, gitem_t *item, float angle, int clips ) {
line 2534
;2531:	vec3_t	velocity,forward;
;2532:	vec3_t	angles;
;2533:	vec3_t	origin;
;2534:	int		weaponmode = 0;
ADDRLP4 48
CNSTI4 0
ASGNI4
line 2536
;2535:
;2536:	VectorCopy( ent->s.apos.trBase, angles );
ADDRLP4 24
ADDRFP4 0
INDIRP4
CNSTI4 60
ADDP4
INDIRB
ASGNB 12
line 2537
;2537:	angles[YAW] += angle;
ADDRLP4 24+4
ADDRLP4 24+4
INDIRF4
ADDRFP4 8
INDIRF4
ADDF4
ASGNF4
line 2538
;2538:	angles[PITCH] = 0;	// always forward
ADDRLP4 24
CNSTF4 0
ASGNF4
line 2540
;2539:
;2540:	AngleVectors( ent->client->ps.viewangles, forward, NULL, NULL );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRLP4 12
ARGP4
ADDRLP4 52
CNSTP4 0
ASGNP4
ADDRLP4 52
INDIRP4
ARGP4
ADDRLP4 52
INDIRP4
ARGP4
ADDRGP4 AngleVectors
CALLV
pop
line 2541
;2541:	VectorScale( forward, 250, velocity );
ADDRLP4 56
CNSTF4 1132068864
ASGNF4
ADDRLP4 0
ADDRLP4 56
INDIRF4
ADDRLP4 12
INDIRF4
MULF4
ASGNF4
ADDRLP4 0+4
ADDRLP4 56
INDIRF4
ADDRLP4 12+4
INDIRF4
MULF4
ASGNF4
ADDRLP4 0+8
CNSTF4 1132068864
ADDRLP4 12+8
INDIRF4
MULF4
ASGNF4
line 2542
;2542:	velocity[2] += 200;
ADDRLP4 0+8
ADDRLP4 0+8
INDIRF4
CNSTF4 1128792064
ADDF4
ASGNF4
line 2544
;2543:
;2544:	VectorCopy(ent->client->ps.origin,origin );
ADDRLP4 36
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 20
ADDP4
INDIRB
ASGNB 12
line 2545
;2545:	origin[2] += 10;
ADDRLP4 36+8
ADDRLP4 36+8
INDIRF4
CNSTF4 1092616192
ADDF4
ASGNF4
line 2548
;2546:
;2547:
;2548:	weaponmode = ent->client->ns.weaponmode[ item->giTag ];
ADDRLP4 48
ADDRFP4 4
INDIRP4
CNSTI4 40
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
ASGNI4
line 2550
;2549:
;2550:	ent->client->ns.weaponmode[ item->giTag ] = 0;
ADDRFP4 4
INDIRP4
CNSTI4 40
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 2552
;2551:	// add this
;2552:	return LaunchWeapon( item, origin, velocity, clips, weaponmode );
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 36
ARGP4
ADDRLP4 0
ARGP4
ADDRFP4 12
INDIRI4
ARGI4
ADDRLP4 48
INDIRI4
ARGI4
ADDRLP4 60
ADDRGP4 LaunchWeapon
CALLP4
ASGNP4
ADDRLP4 60
INDIRP4
RETP4
LABELV $1172
endproc Drop_Weapon 64 20
export NS_DropWeapon
proc NS_DropWeapon 52 16
line 2566
;2553:}
;2554:
;2555:
;2556:qboolean BG_IsPrimary( int weapon);
;2557:qboolean BG_IsSecondary( int weapon);
;2558:/*
;2559:================
;2560:Drop_Weapon
;2561:
;2562:Drops current Weapon
;2563:================
;2564:*/
;2565:void NS_DropWeapon ( gentity_t *ent)
;2566:{
line 2570
;2567:	gclient_t	*client;
;2568:	usercmd_t	*ucmd;
;2569:	gitem_t		*item;
;2570:	qboolean	bomb=qfalse;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 2574
;2571:	byte i;
;2572:	int weapon;
;2573:
;2574:	client = ent->client;
ADDRLP4 4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
line 2575
;2575:	ucmd = &ent->client->pers.cmd;
ADDRLP4 20
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 472
ADDP4
ASGNP4
line 2576
;2576:	weapon = ent->client->ps.weapon;
ADDRLP4 16
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
line 2578
;2577:
;2578:	if (client->ps.pm_flags & PMF_BOMBCASE)
ADDRLP4 4
INDIRP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 16384
BANDI4
CNSTI4 0
EQI4 $1181
line 2579
;2579:	{
line 2580
;2580:		bomb_drop(ent);
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 bomb_drop
CALLV
pop
line 2581
;2581:		bomb = qtrue;
ADDRLP4 8
CNSTI4 1
ASGNI4
line 2582
;2582:	}
ADDRGP4 $1182
JUMPV
LABELV $1181
line 2583
;2583:	else if (client->ps.weaponstate != WEAPON_READY && client->ps.weaponstate != WEAPON_LASTRND)
ADDRLP4 24
ADDRLP4 4
INDIRP4
CNSTI4 148
ADDP4
INDIRI4
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 0
EQI4 $1183
ADDRLP4 24
INDIRI4
CNSTI4 11
EQI4 $1183
line 2584
;2584:		return;
ADDRGP4 $1180
JUMPV
LABELV $1183
LABELV $1182
line 2586
;2585:
;2586:	if (ent->s.weapon <= WP_NONE)
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 0
GTI4 $1185
line 2587
;2587:	{
line 2588
;2588:		trap_SendServerCommand( client->ps.clientNum, "print \"You got no weapon in your hands.\n\"" );
ADDRLP4 4
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
ARGI4
ADDRGP4 $1187
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2589
;2589:		return;
ADDRGP4 $1180
JUMPV
LABELV $1185
line 2591
;2590:	}
;2591:	item = BG_FindItemForWeapon( client->ps.weapon );
ADDRLP4 4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 28
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 12
ADDRLP4 28
INDIRP4
ASGNP4
line 2594
;2592: 
;2593:	// remove the weapon
;2594:	BG_RemoveWeapon( client->ps.weapon, ent->client->ps.stats ); 
ADDRLP4 4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_RemoveWeapon
CALLV
pop
line 2597
;2595:
;2596:	// clear current weapon
;2597:	client->ps.weapon = WP_NONE;
ADDRLP4 4
INDIRP4
CNSTI4 144
ADDP4
CNSTI4 0
ASGNI4
line 2599
;2598:
;2599:	for ( i = WP_NUM_WEAPONS - 1 ; i > 0 ; i-- ) {
ADDRLP4 0
CNSTU1 22
ASGNU1
ADDRGP4 $1191
JUMPV
LABELV $1188
line 2600
;2600:		if ( BG_GotWeapon( i, client->ps.stats ) ) {
ADDRLP4 0
INDIRU1
CVUI4 1
ARGI4
ADDRLP4 4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRLP4 32
ADDRGP4 BG_GotWeapon
CALLI4
ASGNI4
ADDRLP4 32
INDIRI4
CNSTI4 0
EQI4 $1192
line 2601
;2601:			ent->s.weapon = client->ps.weapon = i;
ADDRLP4 36
ADDRLP4 0
INDIRU1
CVUI4 1
ASGNI4
ADDRLP4 4
INDIRP4
CNSTI4 144
ADDP4
ADDRLP4 36
INDIRI4
ASGNI4
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
ADDRLP4 36
INDIRI4
ASGNI4
line 2602
;2602:			break;
ADDRGP4 $1190
JUMPV
LABELV $1192
line 2604
;2603:		}
;2604:	}
LABELV $1189
line 2599
ADDRLP4 0
ADDRLP4 0
INDIRU1
CVUI4 1
CNSTI4 1
SUBI4
CVIU4 4
CVUU1 4
ASGNU1
LABELV $1191
ADDRLP4 0
INDIRU1
CVUI4 1
CNSTI4 0
GTI4 $1188
LABELV $1190
line 2606
;2605:
;2606:	if ( !bomb )
ADDRLP4 8
INDIRI4
CNSTI4 0
NEI4 $1194
line 2607
;2607:		Drop_Weapon( ent, item, 0, ent->client->ns.rounds[weapon] );
ADDRLP4 32
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 32
INDIRP4
ARGP4
ADDRLP4 12
INDIRP4
ARGP4
CNSTF4 0
ARGF4
ADDRLP4 16
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 32
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
INDIRI4
ARGI4
ADDRGP4 Drop_Weapon
CALLP4
pop
LABELV $1194
line 2609
;2608:	
;2609:	ent->client->ps.weaponstate = WEAPON_RAISING; 
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 1
ASGNI4
line 2610
;2610:	ent->client->ps.weaponTime = GetWeaponTimeOnRaise(ent);
ADDRLP4 36
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 36
INDIRP4
ARGP4
ADDRLP4 40
ADDRGP4 GetWeaponTimeOnRaise
CALLI4
ASGNI4
ADDRLP4 36
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 40
INDIRI4
ASGNI4
line 2612
;2611:
;2612:	ent->client->ps.torsoAnim = ( ( ent->client->ps.torsoAnim & ANIM_TOGGLEBIT ) ^ ANIM_TOGGLEBIT )	| TORSO_THROW;
ADDRLP4 44
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 84
ADDP4
ASGNP4
ADDRLP4 48
CNSTI4 128
ASGNI4
ADDRLP4 44
INDIRP4
ADDRLP4 44
INDIRP4
INDIRI4
ADDRLP4 48
INDIRI4
BANDI4
ADDRLP4 48
INDIRI4
BXORI4
CNSTI4 30
BORI4
ASGNI4
line 2614
;2613:
;2614:}
LABELV $1180
endproc NS_DropWeapon 52 16
export NS_DropMissionObjective
proc NS_DropMissionObjective 16 12
line 2624
;2615:
;2616:/*
;2617:================
;2618:NS_DropMissionObjective
;2619:
;2620:Drops current missoni objective
;2621:================
;2622:*/
;2623:void NS_DropMissionObjective ( gentity_t *ent)
;2624:{
line 2628
;2625:	gclient_t	*client;
;2626: 	gitem_t		*item;
;2627: 
;2628:	client = ent->client;
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
line 2630
;2629: 
;2630:	if (client->ps.pm_flags & PMF_BOMBCASE)
ADDRLP4 0
INDIRP4
CNSTI4 12
ADDP4
INDIRI4
CNSTI4 16384
BANDI4
CNSTI4 0
EQI4 $1197
line 2631
;2631:	{
line 2632
;2632:		bomb_drop(ent);
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 bomb_drop
CALLV
pop
line 2633
;2633:		return;
ADDRGP4 $1196
JUMPV
LABELV $1197
line 2635
;2634:	} 
;2635:	if ( ent->client->ps.powerups[PW_BRIEFCASE] ) {
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 344
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1199
line 2636
;2636:		item = BG_FindItemForPowerup(PW_BRIEFCASE);
CNSTI4 8
ARGI4
ADDRLP4 8
ADDRGP4 BG_FindItemForPowerup
CALLP4
ASGNP4
ADDRLP4 4
ADDRLP4 8
INDIRP4
ASGNP4
line 2638
;2637:
;2638:		Drop_Item( ent, item, random()*360 );
ADDRLP4 12
ADDRGP4 rand
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 4
INDIRP4
ARGP4
CNSTF4 1135869952
ADDRLP4 12
INDIRI4
CNSTI4 32767
BANDI4
CVIF4 4
CNSTF4 1191181824
DIVF4
MULF4
ARGF4
ADDRGP4 Drop_Item
CALLP4
pop
line 2639
;2639:		ent->client->ps.powerups[PW_BRIEFCASE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 344
ADDP4
CNSTI4 0
ASGNI4
line 2640
;2640:	}
ADDRGP4 $1200
JUMPV
LABELV $1199
line 2642
;2641:	else
;2642:	{
line 2643
;2643:		trap_SendServerCommand( client->ps.clientNum, "print \"You got no Mission Objective.\n\"" );
ADDRLP4 0
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
ARGI4
ADDRGP4 $1201
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2644
;2644:		return;
ADDRGP4 $1196
JUMPV
LABELV $1200
line 2647
;2645:	}	
;2646:
;2647:	ent->client->ps.torsoAnim = ( ( ent->client->ps.torsoAnim & ANIM_TOGGLEBIT ) ^ ANIM_TOGGLEBIT )	| TORSO_THROW;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 84
ADDP4
ASGNP4
ADDRLP4 12
CNSTI4 128
ASGNI4
ADDRLP4 8
INDIRP4
ADDRLP4 8
INDIRP4
INDIRI4
ADDRLP4 12
INDIRI4
BANDI4
ADDRLP4 12
INDIRI4
BXORI4
CNSTI4 30
BORI4
ASGNI4
line 2649
;2648:
;2649:}
LABELV $1196
endproc NS_DropMissionObjective 16 12
export NS_CalcWeight
proc NS_CalcWeight 72 0
line 2661
;2650:
;2651:/*
;2652:=================
;2653:NSQ3 Calculate Weight
;2654:author: Defcon-X
;2655:date: 13-07-2000
;2656:description: calculates players current weight
;2657:=================
;2658:*/ 
;2659:
;2660:float NS_CalcWeight ( gentity_t *ent )
;2661:{
line 2662
;2662:	float weight = 0;
ADDRLP4 4
CNSTF4 0
ASGNF4
line 2663
;2663:	float weapon_weight = 0;
ADDRLP4 8
CNSTF4 0
ASGNF4
line 2666
;2664:	int i;
;2665:
;2666:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1203
line 2667
;2667:		return weight; 
ADDRLP4 4
INDIRF4
RETF4
ADDRGP4 $1202
JUMPV
LABELV $1203
line 2673
;2668:
;2669:	//
;2670:	// Weapons
;2671:	//
;2672:
;2673:	if ( ent->s.weapon == WP_M14 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 22
NEI4 $1205
line 2674
;2674:		weapon_weight = 24;
ADDRLP4 8
CNSTF4 1103101952
ASGNF4
LABELV $1205
line 2675
;2675:	if ( ent->s.weapon == WP_AK47 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 14
NEI4 $1207
line 2676
;2676:		weapon_weight = 19;
ADDRLP4 8
CNSTF4 1100480512
ASGNF4
LABELV $1207
line 2677
;2677:	if ( ent->s.weapon == WP_M4 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 16
NEI4 $1209
line 2678
;2678:		weapon_weight = 20;
ADDRLP4 8
CNSTF4 1101004800
ASGNF4
LABELV $1209
line 2679
;2679:	if ( ent->s.weapon == WP_MP5 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 13
NEI4 $1211
line 2680
;2680:		weapon_weight = 15;
ADDRLP4 8
CNSTF4 1097859072
ASGNF4
LABELV $1211
line 2681
;2681:	if ( ent->s.weapon == WP_PDW )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 11
NEI4 $1213
line 2682
;2682:		weapon_weight = 20;
ADDRLP4 8
CNSTF4 1101004800
ASGNF4
LABELV $1213
line 2683
;2683:	if ( ent->s.weapon == WP_DEAGLE || ent->s.weapon == WP_SW40T )
ADDRLP4 12
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 10
EQI4 $1217
ADDRLP4 12
INDIRI4
CNSTI4 8
NEI4 $1215
LABELV $1217
line 2684
;2684:		weapon_weight = 10;
ADDRLP4 8
CNSTF4 1092616192
ASGNF4
LABELV $1215
line 2685
;2685:	if ( ent->s.weapon == WP_MK23 || ent->s.weapon == WP_GLOCK)
ADDRLP4 16
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 6
EQI4 $1220
ADDRLP4 16
INDIRI4
CNSTI4 7
NEI4 $1218
LABELV $1220
line 2686
;2686:		weapon_weight = 6;
ADDRLP4 8
CNSTF4 1086324736
ASGNF4
LABELV $1218
line 2687
;2687:	if ( ent->s.weapon == WP_SPAS15 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 21
NEI4 $1221
line 2688
;2688:		weapon_weight = 24;
ADDRLP4 8
CNSTF4 1103101952
ASGNF4
LABELV $1221
line 2689
;2689:	if ( ent->s.weapon == WP_870 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 19
NEI4 $1223
line 2690
;2690:		weapon_weight = 20;
ADDRLP4 8
CNSTF4 1101004800
ASGNF4
LABELV $1223
line 2691
;2691:	if ( ent->s.weapon == WP_M590 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 20
NEI4 $1225
line 2692
;2692:		weapon_weight = 16;
ADDRLP4 8
CNSTF4 1098907648
ASGNF4
LABELV $1225
line 2693
;2693:	if ( ent->s.weapon == WP_PSG1 )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 17
NEI4 $1227
line 2694
;2694:		weapon_weight = 18;
ADDRLP4 8
CNSTF4 1099956224
ASGNF4
LABELV $1227
line 2695
;2695:	if ( ent->s.weapon == WP_MACMILLAN )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 18
NEI4 $1229
line 2696
;2696:		weapon_weight = 15;
ADDRLP4 8
CNSTF4 1097859072
ASGNF4
LABELV $1229
line 2697
;2697:	if ( ent->s.weapon == WP_P9S )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 9
NEI4 $1231
line 2698
;2698:		weapon_weight = 6;
ADDRLP4 8
CNSTF4 1086324736
ASGNF4
LABELV $1231
line 2701
;2699:	
;2700:	// copy
;2701:	weight += weapon_weight;
ADDRLP4 4
ADDRLP4 4
INDIRF4
ADDRLP4 8
INDIRF4
ADDF4
ASGNF4
line 2706
;2702:
;2703:	//
;2704:	// Ammo
;2705:	//
;2706:	for ( i = AM_NUM_AMMO; i > -1; i-- )
ADDRLP4 0
CNSTI4 17
ASGNI4
LABELV $1233
line 2707
;2707:	{
line 2708
;2708:		if ( ent->client->ps.ammo[i] > 0 )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ADDP4
INDIRI4
CNSTI4 0
LEI4 $1237
line 2709
;2709:			weight += ent->client->ps.ammo[i] / 6;
ADDRLP4 4
ADDRLP4 4
INDIRF4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 376
ADDP4
ADDP4
INDIRI4
CNSTI4 6
DIVI4
CVIF4 4
ADDF4
ASGNF4
LABELV $1237
line 2710
;2710:	}
LABELV $1234
line 2706
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 -1
GTI4 $1233
line 2716
;2711:
;2712:	//
;2713:	// Kevlar Vest
;2714:	//
;2715:
;2716:	if (ent->client->ps.powerups[PW_VEST] == ARMOR_LIGHT)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 336
ADDP4
INDIRI4
CNSTI4 1
NEI4 $1239
line 2717
;2717:		weight += 6.5;
ADDRLP4 4
ADDRLP4 4
INDIRF4
CNSTF4 1087373312
ADDF4
ASGNF4
ADDRGP4 $1240
JUMPV
LABELV $1239
line 2718
;2718:	else if (ent->client->ps.powerups[PW_VEST] == ARMOR_MEDIUM)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 336
ADDP4
INDIRI4
CNSTI4 2
NEI4 $1241
line 2719
;2719:		weight += 9.5;
ADDRLP4 4
ADDRLP4 4
INDIRF4
CNSTF4 1092091904
ADDF4
ASGNF4
ADDRGP4 $1242
JUMPV
LABELV $1241
line 2720
;2720:	else if (ent->client->ps.powerups[PW_VEST] == ARMOR_HEAVY)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 336
ADDP4
INDIRI4
CNSTI4 3
NEI4 $1243
line 2721
;2721:		weight += 13;
ADDRLP4 4
ADDRLP4 4
INDIRF4
CNSTF4 1095761920
ADDF4
ASGNF4
LABELV $1243
LABELV $1242
LABELV $1240
line 2727
;2722:
;2723:	//
;2724:	// Helmet
;2725:	//
;2726:
;2727:	if (ent->client->ps.powerups[PW_HELMET] == ARMOR_LIGHT)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 340
ADDP4
INDIRI4
CNSTI4 1
NEI4 $1245
line 2728
;2728:		weight += 4; 
ADDRLP4 4
ADDRLP4 4
INDIRF4
CNSTF4 1082130432
ADDF4
ASGNF4
ADDRGP4 $1246
JUMPV
LABELV $1245
line 2729
;2729:	else if (ent->client->ps.powerups[PW_HELMET] == ARMOR_MEDIUM)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 340
ADDP4
INDIRI4
CNSTI4 2
NEI4 $1247
line 2730
;2730:		weight += 6;
ADDRLP4 4
ADDRLP4 4
INDIRF4
CNSTF4 1086324736
ADDF4
ASGNF4
ADDRGP4 $1248
JUMPV
LABELV $1247
line 2731
;2731:	else if (ent->client->ps.powerups[PW_HELMET] == ARMOR_HEAVY)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 340
ADDP4
INDIRI4
CNSTI4 3
NEI4 $1249
line 2732
;2732:		weight += 8; // a helmet easily brings that...
ADDRLP4 4
ADDRLP4 4
INDIRF4
CNSTF4 1090519040
ADDF4
ASGNF4
LABELV $1249
LABELV $1248
LABELV $1246
line 2735
;2733:
;2734:	// strength makes it easier to carry stuff
;2735:	weight += ( weight / ent->client->pers.nsPC.strength ) + 2;
ADDRLP4 4
ADDRLP4 4
INDIRF4
ADDRLP4 4
INDIRF4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CVIF4 4
DIVF4
CNSTF4 1073741824
ADDF4
ADDF4
ASGNF4
line 2737
;2736:	 
;2737:	if ( weight > 200)
ADDRLP4 4
INDIRF4
CNSTF4 1128792064
LEF4 $1251
line 2738
;2738:		weight = 200;
ADDRLP4 4
CNSTF4 1128792064
ASGNF4
LABELV $1251
line 2741
;2739:
;2740:	// update character if anything changed - so knows about any changes
;2741:	if ( ent->client->ps.persistant[PERS_STRENGTH] != ent->client->pers.nsPC.strength )
ADDRLP4 24
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 24
INDIRP4
CNSTI4 268
ADDP4
INDIRI4
ADDRLP4 24
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
EQI4 $1253
line 2742
;2742:		ent->client->ps.persistant[PERS_STRENGTH] = ent->client->pers.nsPC.strength;
ADDRLP4 28
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 28
INDIRP4
CNSTI4 268
ADDP4
ADDRLP4 28
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
ASGNI4
LABELV $1253
line 2744
;2743:
;2744:	if ( ent->client->ps.persistant[PERS_TECHNICAL] != ent->client->pers.nsPC.technical )
ADDRLP4 32
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 32
INDIRP4
CNSTI4 272
ADDP4
INDIRI4
ADDRLP4 32
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
EQI4 $1255
line 2745
;2745:		ent->client->ps.persistant[PERS_TECHNICAL] = ent->client->pers.nsPC.technical;
ADDRLP4 36
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 36
INDIRP4
CNSTI4 272
ADDP4
ADDRLP4 36
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
ASGNI4
LABELV $1255
line 2747
;2746:
;2747:	if ( ent->client->ps.persistant[PERS_STAMINA] != ent->client->pers.nsPC.stamina )
ADDRLP4 40
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 40
INDIRP4
CNSTI4 276
ADDP4
INDIRI4
ADDRLP4 40
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
EQI4 $1257
line 2748
;2748:		ent->client->ps.persistant[PERS_STAMINA] = ent->client->pers.nsPC.stamina;
ADDRLP4 44
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 44
INDIRP4
CNSTI4 276
ADDP4
ADDRLP4 44
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
ASGNI4
LABELV $1257
line 2750
;2749:
;2750:	if ( ent->client->ps.persistant[PERS_SPEED] != ent->client->pers.nsPC.speed )
ADDRLP4 48
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 48
INDIRP4
CNSTI4 284
ADDP4
INDIRI4
ADDRLP4 48
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
EQI4 $1259
line 2751
;2751:		ent->client->ps.persistant[PERS_SPEED] = ent->client->pers.nsPC.speed;
ADDRLP4 52
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 52
INDIRP4
CNSTI4 284
ADDP4
ADDRLP4 52
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
ASGNI4
LABELV $1259
line 2753
;2752:
;2753:	if ( ent->client->ps.persistant[PERS_STEALTH] != ent->client->pers.nsPC.stealth )
ADDRLP4 56
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 56
INDIRP4
CNSTI4 288
ADDP4
INDIRI4
ADDRLP4 56
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
EQI4 $1261
line 2754
;2754:		ent->client->ps.persistant[PERS_STEALTH] = ent->client->pers.nsPC.stealth;
ADDRLP4 60
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 60
INDIRP4
CNSTI4 288
ADDP4
ADDRLP4 60
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
ASGNI4
LABELV $1261
line 2756
;2755:
;2756:	if ( ent->client->ps.persistant[PERS_ACCURACY] != ent->client->pers.nsPC.accuracy )
ADDRLP4 64
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 64
INDIRP4
CNSTI4 280
ADDP4
INDIRI4
ADDRLP4 64
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
EQI4 $1263
line 2757
;2757:		ent->client->ps.persistant[PERS_ACCURACY] = ent->client->pers.nsPC.accuracy;
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 68
INDIRP4
CNSTI4 280
ADDP4
ADDRLP4 68
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
ASGNI4
LABELV $1263
line 2759
;2758:
;2759:	return weight;
ADDRLP4 4
INDIRF4
RETF4
LABELV $1202
endproc NS_CalcWeight 72 0
export NS_WeaponMode
proc NS_WeaponMode 28 12
line 2771
;2760:} 
;2761: 
;2762:/*
;2763:=================
;2764:NSQ3 Weapon Mode
;2765:author: Defcon-X
;2766:date: 13-07-2000
;2767:description: switches through all the different weapon modes
;2768:=================
;2769:*/ 
;2770:void NS_WeaponMode ( gentity_t *ent , int wmode )
;2771:{
line 2773
;2772:	int weapon;
;2773:	char *mode = "none";
ADDRLP4 4
ADDRGP4 $1266
ASGNP4
line 2775
;2774:
;2775:	weapon = ent->client->ps.weapon;
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
line 2777
;2776:
;2777:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1267
line 2778
;2778:		return;
ADDRGP4 $1265
JUMPV
LABELV $1267
line 2780
;2779:
;2780:	if (weapon <= WP_NONE)
ADDRLP4 0
INDIRI4
CNSTI4 0
GTI4 $1269
line 2781
;2781:		return;
ADDRGP4 $1265
JUMPV
LABELV $1269
line 2783
;2782:
;2783:	if (ent->health <= 0)
ADDRFP4 0
INDIRP4
CNSTI4 732
ADDP4
INDIRI4
CNSTI4 0
GTI4 $1271
line 2784
;2784:		return;
ADDRGP4 $1265
JUMPV
LABELV $1271
line 2786
;2785:
;2786:	if ( ent->client->ps.weaponTime > 0 )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
INDIRI4
CNSTI4 0
LEI4 $1273
line 2787
;2787:		return;
ADDRGP4 $1265
JUMPV
LABELV $1273
line 2789
;2788:
;2789:	ent->client->ns.weaponmode_tries[wmode] = 0;
ADDRFP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2900
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 2791
;2790:
;2791:	if ( wmode == 2 )
ADDRFP4 4
INDIRI4
CNSTI4 2
NEI4 $1275
line 2792
;2792:	{
line 2793
;2793:		if ( ent->client->ps.eFlags & EF_IRONSIGHT )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 104
ADDP4
INDIRI4
CNSTI4 262144
BANDI4
CNSTI4 0
EQI4 $1277
line 2794
;2794:		{
line 2795
;2795:			PrintMsg(ent, "You can't use this mode while in Ironsight-Mode.\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1279
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 2796
;2796:			return;
ADDRGP4 $1265
JUMPV
LABELV $1277
line 2798
;2797:		}
;2798:		if ( ent->client->ps.weapon == WP_M4 || ent->client->ps.weapon == WP_AK47 )
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 16
EQI4 $1282
ADDRLP4 8
INDIRI4
CNSTI4 14
NEI4 $1280
LABELV $1282
line 2799
;2799:		{
line 2800
;2800:			if (ent->client->ns.weaponmode[weapon] & ( 1 << WM_GRENADELAUNCHER ) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 512
BANDI4
CNSTI4 0
EQI4 $1283
line 2801
;2801:			{ 
line 2802
;2802:				if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_WEAPONMODE2 ) ) {
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 2048
BANDI4
CNSTI4 0
EQI4 $1285
line 2803
;2803:					ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_WEAPONMODE2 );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 -2049
BANDI4
ASGNI4
line 2804
;2804:					mode = "Fire Mode";
ADDRLP4 4
ADDRGP4 $1287
ASGNP4
line 2805
;2805:					ent->client->ps.weaponstate = WEAPON_RELOADING_STOP;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 9
ASGNI4
line 2806
;2806:					ent->client->ps.weaponTime = 300;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
CNSTI4 300
ASGNI4
line 2807
;2807:				}
ADDRGP4 $1281
JUMPV
LABELV $1285
line 2809
;2808:				else
;2809:				{
line 2810
;2810:					ent->client->ns.weaponmode[weapon] |= ( 1 << WM_WEAPONMODE2 );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 2048
BORI4
ASGNI4
line 2811
;2811:					mode = "M-203!";
ADDRLP4 4
ADDRGP4 $1288
ASGNP4
line 2812
;2812:					ent->client->ps.weaponstate = WEAPON_RELOADING_CYCLE;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 8
ASGNI4
line 2813
;2813:					ent->client->ps.weaponTime = 300;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
CNSTI4 300
ASGNI4
line 2815
;2814:
;2815:				}
line 2816
;2816:			} 
ADDRGP4 $1281
JUMPV
LABELV $1283
line 2817
;2817:			else if (ent->client->ns.weaponmode[weapon] & ( 1 << WM_BAYONET ) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 1024
BANDI4
CNSTI4 0
EQI4 $1281
line 2818
;2818:			{ 
line 2819
;2819:				if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_WEAPONMODE2 ) ) {
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 2048
BANDI4
CNSTI4 0
EQI4 $1291
line 2820
;2820:					ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_WEAPONMODE2 );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 -2049
BANDI4
ASGNI4
line 2821
;2821:					mode = "Fire Mode";
ADDRLP4 4
ADDRGP4 $1287
ASGNP4
line 2822
;2822:				}
ADDRGP4 $1281
JUMPV
LABELV $1291
line 2824
;2823:				else
;2824:				{
line 2825
;2825:					ent->client->ns.weaponmode[weapon] |= ( 1 << WM_WEAPONMODE2 );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 2048
BORI4
ASGNI4
line 2826
;2826:					mode = "Stab Mode!";
ADDRLP4 4
ADDRGP4 $1293
ASGNP4
line 2827
;2827:				}
line 2828
;2828:			} 
line 2829
;2829:		}
ADDRGP4 $1281
JUMPV
LABELV $1280
line 2830
;2830:		else if ( BG_WeaponMods( weapon ) & ( 1 << WM_FLASHLIGHT ) && ent->client->ns.weaponmode[weapon] & ( 1 << WM_FLASHLIGHT )  )
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 16
CNSTI4 256
ASGNI4
ADDRLP4 20
CNSTI4 0
ASGNI4
ADDRLP4 12
INDIRI4
ADDRLP4 16
INDIRI4
BANDI4
ADDRLP4 20
INDIRI4
EQI4 $1294
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
ADDRLP4 16
INDIRI4
BANDI4
ADDRLP4 20
INDIRI4
EQI4 $1294
line 2831
;2831:		{ 
line 2832
;2832:				if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_WEAPONMODE2 ) ) {
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 2048
BANDI4
CNSTI4 0
EQI4 $1296
line 2833
;2833:					ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_WEAPONMODE2 );
ADDRLP4 24
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
CNSTI4 -2049
BANDI4
ASGNI4
line 2834
;2834:					mode = "Flashlight Enabled.";
ADDRLP4 4
ADDRGP4 $1298
ASGNP4
line 2835
;2835:				}
ADDRGP4 $1297
JUMPV
LABELV $1296
line 2837
;2836:				else
;2837:				{
line 2838
;2838:					ent->client->ns.weaponmode[weapon] |= ( 1 << WM_WEAPONMODE2 );
ADDRLP4 24
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
CNSTI4 2048
BORI4
ASGNI4
line 2839
;2839:					mode = "Flashlight Disabled.";
ADDRLP4 4
ADDRGP4 $1299
ASGNP4
line 2840
;2840:				}
LABELV $1297
line 2841
;2841:		}
LABELV $1294
LABELV $1281
line 2842
;2842:		PrintMsg(ent, "Setted mode to %s\n", mode );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1300
ARGP4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 2843
;2843:		return;
ADDRGP4 $1265
JUMPV
LABELV $1275
line 2847
;2844:	}
;2845:
;2846:	// zooming
;2847:	if ( wmode == 1 ) 
ADDRFP4 4
INDIRI4
CNSTI4 1
NEI4 $1301
line 2848
;2848:	{
line 2849
;2849:		if ( ent->client->ps.weapon == WP_PSG1 || ent->client->ps.weapon == WP_MACMILLAN ) // got 4x zoom
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 17
EQI4 $1305
ADDRLP4 8
INDIRI4
CNSTI4 18
NEI4 $1303
LABELV $1305
line 2850
;2850:		{
line 2852
;2851:			// if i want to switch to 
;2852:			if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_ZOOM4X) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 16384
BANDI4
CNSTI4 0
EQI4 $1306
line 2853
;2853:			{
line 2855
;2854:				// go out of zoom
;2855:				ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_ZOOM4X );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 -16385
BANDI4
ASGNI4
line 2856
;2856:				mode = "Normal Zoom";
ADDRLP4 4
ADDRGP4 $1308
ASGNP4
line 2857
;2857:				G_Sound(ent, CHAN_WEAPON, G_SoundIndex( "sound/weapons/zoom.wav" ) );
ADDRGP4 $1309
ARGP4
ADDRLP4 16
ADDRGP4 G_SoundIndex
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 2
ARGI4
ADDRLP4 16
INDIRI4
ARGI4
ADDRGP4 G_Sound
CALLV
pop
line 2858
;2858:			}
ADDRGP4 $1304
JUMPV
LABELV $1306
line 2859
;2859:			else if ( ent->client->ns.weaponmode[weapon] & (1 << WM_ZOOM2X) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 8192
BANDI4
CNSTI4 0
EQI4 $1310
line 2860
;2860:			{
line 2862
;2861:				// set to 4x
;2862:				ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_ZOOM2X );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 -8193
BANDI4
ASGNI4
line 2863
;2863:				ent->client->ns.weaponmode[weapon] |= ( 1 << WM_ZOOM4X );
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 16384
BORI4
ASGNI4
line 2864
;2864:				mode = "4x Zoom";
ADDRLP4 4
ADDRGP4 $1312
ASGNP4
line 2865
;2865:				G_Sound(ent, CHAN_WEAPON, G_SoundIndex( "sound/weapons/zoom.wav" ) );
ADDRGP4 $1309
ARGP4
ADDRLP4 20
ADDRGP4 G_SoundIndex
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 2
ARGI4
ADDRLP4 20
INDIRI4
ARGI4
ADDRGP4 G_Sound
CALLV
pop
line 2866
;2866:			}
ADDRGP4 $1304
JUMPV
LABELV $1310
line 2868
;2867:			else
;2868:			{
line 2870
;2869:				// set to 2x
;2870:				ent->client->ns.weaponmode[weapon] |= ( 1 << WM_ZOOM2X );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 8192
BORI4
ASGNI4
line 2871
;2871:				mode = "2x Zoom";
ADDRLP4 4
ADDRGP4 $1313
ASGNP4
line 2872
;2872:				G_Sound(ent, CHAN_WEAPON, G_SoundIndex( "sound/weapons/zoom.wav" ) );
ADDRGP4 $1309
ARGP4
ADDRLP4 16
ADDRGP4 G_SoundIndex
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 2
ARGI4
ADDRLP4 16
INDIRI4
ARGI4
ADDRGP4 G_Sound
CALLV
pop
line 2873
;2873:			}
line 2874
;2874:		}
ADDRGP4 $1304
JUMPV
LABELV $1303
line 2875
;2875:		else if ( ent->client->ns.weaponmode[weapon] & (1 << WM_SCOPE ) ) // scope add-on only2x
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $1314
line 2876
;2876:		{
line 2877
;2877:			if ( ent->client->ns.weaponmode[weapon] & (1 << WM_ZOOM2X) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 8192
BANDI4
CNSTI4 0
EQI4 $1316
line 2878
;2878:			{
line 2880
;2879:				// set back to normal
;2880:				ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_ZOOM2X );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 -8193
BANDI4
ASGNI4
line 2881
;2881:				mode = "Normal Zoom";
ADDRLP4 4
ADDRGP4 $1308
ASGNP4
line 2882
;2882:				G_Sound(ent, CHAN_WEAPON, G_SoundIndex( "sound/weapons/zoom.wav" ) );
ADDRGP4 $1309
ARGP4
ADDRLP4 16
ADDRGP4 G_SoundIndex
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 2
ARGI4
ADDRLP4 16
INDIRI4
ARGI4
ADDRGP4 G_Sound
CALLV
pop
line 2883
;2883:			}
ADDRGP4 $1315
JUMPV
LABELV $1316
line 2885
;2884:			else
;2885:			{
line 2887
;2886:				// set to 2x
;2887:				ent->client->ns.weaponmode[weapon] |= ( 1 << WM_ZOOM2X );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 8192
BORI4
ASGNI4
line 2888
;2888:				mode = "2x Zoom";
ADDRLP4 4
ADDRGP4 $1313
ASGNP4
line 2889
;2889:				G_Sound(ent, CHAN_WEAPON, G_SoundIndex( "sound/weapons/zoom.wav" ) );
ADDRGP4 $1309
ARGP4
ADDRLP4 16
ADDRGP4 G_SoundIndex
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 2
ARGI4
ADDRLP4 16
INDIRI4
ARGI4
ADDRGP4 G_Sound
CALLV
pop
line 2890
;2890:			}
line 2891
;2891:		}
ADDRGP4 $1315
JUMPV
LABELV $1314
line 2892
;2892:		else if ( ent->client->ns.weaponmode[weapon] & (1 << WM_LASER ) ) // can't have scope + lasersight
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 16
BANDI4
CNSTI4 0
EQI4 $1318
line 2893
;2893:		{ 
line 2894
;2894:			if ( ent->client->ns.weaponmode[weapon] & (1 << WM_LACTIVE) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 4096
BANDI4
CNSTI4 0
EQI4 $1320
line 2895
;2895:			{
line 2897
;2896:				// set back to normal
;2897:				ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_LACTIVE );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 -4097
BANDI4
ASGNI4
line 2898
;2898:				mode = "Laser Off";
ADDRLP4 4
ADDRGP4 $1322
ASGNP4
line 2899
;2899:			}
ADDRGP4 $1319
JUMPV
LABELV $1320
line 2901
;2900:			else
;2901:			{
line 2903
;2902:				// set to 2x
;2903:				ent->client->ns.weaponmode[weapon] |= ( 1 << WM_LACTIVE );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 4096
BORI4
ASGNI4
line 2904
;2904:				mode = "Laser On";
ADDRLP4 4
ADDRGP4 $1323
ASGNP4
line 2905
;2905:			}
line 2906
;2906:		}		
ADDRGP4 $1319
JUMPV
LABELV $1318
line 2907
;2907:		else if ( weapon == WP_GRENADE || weapon == WP_FLASHBANG )
ADDRLP4 0
INDIRI4
CNSTI4 4
EQI4 $1326
ADDRLP4 0
INDIRI4
CNSTI4 5
NEI4 $1324
LABELV $1326
line 2908
;2908:		{
line 2910
;2909:			// if i want to switch to 
;2910:			if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_SINGLE) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 4
BANDI4
CNSTI4 0
EQI4 $1327
line 2911
;2911:			{
line 2913
;2912:				// go to fullauto
;2913:				ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_SINGLE );
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 -5
BANDI4
ASGNI4
line 2914
;2914:				ent->client->ns.weaponmode[weapon] |= ( 1 << WM_WEAPONMODE2 ); // 5 sec priming
ADDRLP4 20
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 20
INDIRP4
ADDRLP4 20
INDIRP4
INDIRI4
CNSTI4 2048
BORI4
ASGNI4
line 2915
;2915:				mode = "5-Sec Priming";
ADDRLP4 4
ADDRGP4 $1329
ASGNP4
line 2916
;2916:			}
ADDRGP4 $1325
JUMPV
LABELV $1327
line 2917
;2917:			else if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_WEAPONMODE2 ) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 2048
BANDI4
CNSTI4 0
EQI4 $1330
line 2918
;2918:			{
line 2919
;2919:				ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_WEAPONMODE2 );
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 -2049
BANDI4
ASGNI4
line 2920
;2920:				mode = "3-Sec Priming ( default )";
ADDRLP4 4
ADDRGP4 $1332
ASGNP4
line 2921
;2921:			}
ADDRGP4 $1325
JUMPV
LABELV $1330
line 2923
;2922:			else
;2923:			{
line 2925
;2924:				// set to burst
;2925:				ent->client->ns.weaponmode[weapon] |= ( 1 << WM_SINGLE ); // single = 4
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 4
BORI4
ASGNI4
line 2926
;2926:				mode = "4-Sec Priming";
ADDRLP4 4
ADDRGP4 $1333
ASGNP4
line 2927
;2927:			}
line 2929
;2928: 
;2929:		}
ADDRGP4 $1325
JUMPV
LABELV $1324
line 2930
;2930:		else if ( weapon == WP_PDW )
ADDRLP4 0
INDIRI4
CNSTI4 11
NEI4 $1334
line 2931
;2931:		{
line 2933
;2932:		
;2933:			if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_WEAPONMODE2 ) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 2048
BANDI4
CNSTI4 0
EQI4 $1336
line 2934
;2934:			{
line 2935
;2935:				ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_WEAPONMODE2 );
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 -2049
BANDI4
ASGNI4
line 2936
;2936:				ent->client->ps.weaponstate = WEAPON_RELOADING_CYCLE;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 8
ASGNI4
line 2937
;2937:				ent->client->ps.weaponTime = 450;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
CNSTI4 450
ASGNI4
line 2938
;2938:				mode = "Armstuetze Eingeklappt";
ADDRLP4 4
ADDRGP4 $1338
ASGNP4
line 2939
;2939:			}
ADDRGP4 $1337
JUMPV
LABELV $1336
line 2941
;2940:			else
;2941:			{
line 2943
;2942:				// go to weaponmode2 
;2943:				ent->client->ns.weaponmode[weapon] |= ( 1 << WM_WEAPONMODE2 );
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 2048
BORI4
ASGNI4
line 2944
;2944:				ent->client->ps.weaponstate = WEAPON_RELOADING_STOP;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 9
ASGNI4
line 2945
;2945:				ent->client->ps.weaponTime = 450;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
CNSTI4 450
ASGNI4
line 2946
;2946:				mode = "Armstuetze Ausgeklappt";
ADDRLP4 4
ADDRGP4 $1339
ASGNP4
line 2947
;2947:			}			
LABELV $1337
line 2948
;2948:		}
LABELV $1334
LABELV $1325
LABELV $1319
LABELV $1315
LABELV $1304
line 2949
;2949:		PrintMsg(ent, "Setted mode to %s\n", mode );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1300
ARGP4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 2950
;2950:		return;
ADDRGP4 $1265
JUMPV
LABELV $1301
line 2953
;2951:	}
;2952:
;2953:	if ( weapon == WP_GRENADE || weapon == WP_FLASHBANG )
ADDRLP4 0
INDIRI4
CNSTI4 4
EQI4 $1342
ADDRLP4 0
INDIRI4
CNSTI4 5
NEI4 $1340
LABELV $1342
line 2954
;2954:	{
line 2955
;2955:		if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_GRENADEROLL ) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 64
BANDI4
CNSTI4 0
EQI4 $1343
line 2956
;2956:		{
line 2958
;2957:			// go to roll
;2958:			ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_GRENADEROLL );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 -65
BANDI4
ASGNI4
line 2959
;2959:			mode = "Throw";
ADDRLP4 4
ADDRGP4 $1345
ASGNP4
line 2960
;2960:		}
ADDRGP4 $1344
JUMPV
LABELV $1343
line 2962
;2961:		else
;2962:		{
line 2964
;2963:			// set to burst
;2964:			ent->client->ns.weaponmode[weapon] |= ( 1 << WM_GRENADEROLL );
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 64
BORI4
ASGNI4
line 2965
;2965:			mode = "Roll";
ADDRLP4 4
ADDRGP4 $1346
ASGNP4
line 2966
;2966:		}
LABELV $1344
line 2968
;2967:
;2968:		PrintMsg(ent, "Setted mode to %s\n", mode );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1300
ARGP4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 2969
;2969:		return; 
ADDRGP4 $1265
JUMPV
LABELV $1340
line 2973
;2970:	}
;2971: 
;2972:
;2973:	if (  weapon == WP_M14 || weapon == WP_M4 || weapon == WP_MAC10 || weapon == WP_AK47 || weapon == WP_MP5 || weapon == WP_PDW   )
ADDRLP4 0
INDIRI4
CNSTI4 22
EQI4 $1353
ADDRLP4 0
INDIRI4
CNSTI4 16
EQI4 $1353
ADDRLP4 0
INDIRI4
CNSTI4 12
EQI4 $1353
ADDRLP4 0
INDIRI4
CNSTI4 14
EQI4 $1353
ADDRLP4 0
INDIRI4
CNSTI4 13
EQI4 $1353
ADDRLP4 0
INDIRI4
CNSTI4 11
NEI4 $1347
LABELV $1353
line 2974
;2974:	{
line 2976
;2975:		// if i want to switch to 
;2976:		if ( ent->client->ns.weaponmode[weapon] & ( 1 << WM_SINGLE) )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 4
BANDI4
CNSTI4 0
EQI4 $1354
line 2977
;2977:		{
line 2979
;2978:			// go to fullauto
;2979:			ent->client->ns.weaponmode[weapon] &= ~( 1 << WM_SINGLE );
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 -5
BANDI4
ASGNI4
line 2980
;2980:			mode = "Full Auto";
ADDRLP4 4
ADDRGP4 $1356
ASGNP4
line 2981
;2981:		}
ADDRGP4 $1355
JUMPV
LABELV $1354
line 2983
;2982:		else
;2983:		{
line 2985
;2984:			// set to burst
;2985:			ent->client->ns.weaponmode[weapon] |= ( 1 << WM_SINGLE );
ADDRLP4 16
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 4
BORI4
ASGNI4
line 2986
;2986:			mode = "Single Shot";
ADDRLP4 4
ADDRGP4 $1357
ASGNP4
line 2987
;2987:		}
LABELV $1355
line 2989
;2988:
;2989:		PrintMsg(ent, "Setted mode to %s\n", mode );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1300
ARGP4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 2990
;2990:		return;
LABELV $1347
line 2992
;2991:	} 
;2992:}
LABELV $1265
endproc NS_WeaponMode 28 12
export NS_HolsterWeapon
proc NS_HolsterWeapon 8 4
line 3003
;2993:
;2994:/*
;2995:=================
;2996:NSQ3 Holster Weapon
;2997:author: Defcon-X
;2998:date: 24-08-2000
;2999:description: holsters current weapon
;3000:=================
;3001:*/ 
;3002:void NS_HolsterWeapon ( gentity_t *ent )
;3003:{
line 3005
;3004:	// unholster ( pressed twice the holster button )
;3005:	if ( ent->client->ps.weaponstate == WEAPON_HOLSTERING )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
INDIRI4
CNSTI4 21
NEI4 $1359
line 3006
;3006:	{
line 3007
;3007:		ent->client->ps.weaponTime = GetWeaponTimeOnRaise(ent);
ADDRLP4 0
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 4
ADDRGP4 GetWeaponTimeOnRaise
CALLI4
ASGNI4
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 4
INDIRI4
ASGNI4
line 3008
;3008:		ent->client->ps.weaponstate = WEAPON_RAISING; 
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 1
ASGNI4
line 3009
;3009:		return;
ADDRGP4 $1358
JUMPV
LABELV $1359
line 3011
;3010:	}
;3011:	else if ( ent->client->ps.weaponstate == WEAPON_READY )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1361
line 3012
;3012:	{	
line 3013
;3013:		ent->client->ps.weaponstate = WEAPON_HOLSTERING; // run raising frames
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 148
ADDP4
CNSTI4 21
ASGNI4
line 3014
;3014:		ent->client->ps.weaponTime = GetWeaponTimeOnLower(ent);
ADDRLP4 0
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 4
ADDRGP4 GetWeaponTimeOnLower
CALLI4
ASGNI4
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 44
ADDP4
ADDRLP4 4
INDIRI4
ASGNI4
line 3015
;3015:	} 
LABELV $1361
line 3016
;3016:}
LABELV $1358
endproc NS_HolsterWeapon 8 4
export PI_CheckWeapon
proc PI_CheckWeapon 16 0
line 3019
;3017:
;3018:qboolean PI_CheckWeapon ( gentity_t *ent , int weapon )
;3019:{
line 3020
;3020:	int team = ( ent->client->sess.sessionTeam );
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
ASGNI4
line 3021
;3021:	int acc = ent->client->pers.nsPC.accuracy;
ADDRLP4 8
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
ASGNI4
line 3022
;3022:	int str = ent->client->pers.nsPC.strength;
ADDRLP4 4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
ASGNI4
line 3024
;3023:
;3024:	if ( team == TEAM_RED )
ADDRLP4 0
INDIRI4
CNSTI4 1
NEI4 $1364
line 3025
;3025:	{
line 3026
;3026:		switch ( weapon )
ADDRLP4 12
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 6
LTI4 $1366
ADDRLP4 12
INDIRI4
CNSTI4 22
GTI4 $1366
ADDRLP4 12
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1387-24
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $1387
address $1368
address $1366
address $1366
address $1368
address $1369
address $1372
address $1366
address $1368
address $1366
address $1366
address $1368
address $1375
address $1378
address $1368
address $1366
address $1381
address $1384
code
line 3027
;3027:		{
LABELV $1368
line 3033
;3028:			case WP_MP5:
;3029:			case WP_M4:
;3030:			case WP_MK23:
;3031:			case WP_P9S:
;3032:			case WP_870:
;3033:				return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3034
;3034:				break;
LABELV $1369
line 3036
;3035:			case WP_DEAGLE:
;3036:				if ( str > 3 )
ADDRLP4 4
INDIRI4
CNSTI4 3
LEI4 $1365
line 3037
;3037:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3038
;3038:				break;
LABELV $1372
line 3040
;3039:			case WP_PDW:
;3040:				if ( str > 3 && acc > 4 )
ADDRLP4 4
INDIRI4
CNSTI4 3
LEI4 $1365
ADDRLP4 8
INDIRI4
CNSTI4 4
LEI4 $1365
line 3041
;3041:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3042
;3042:				break;
LABELV $1375
line 3044
;3043:			case WP_PSG1:
;3044:				if ( acc > 6 )
ADDRLP4 8
INDIRI4
CNSTI4 6
LEI4 $1365
line 3045
;3045:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3046
;3046:				break;
LABELV $1378
line 3048
;3047:			case WP_MACMILLAN:
;3048:				if ( acc > 8 && str > 4 )
ADDRLP4 8
INDIRI4
CNSTI4 8
LEI4 $1365
ADDRLP4 4
INDIRI4
CNSTI4 4
LEI4 $1365
line 3049
;3049:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3050
;3050:				break;
LABELV $1381
line 3052
;3051:			case WP_SPAS15:
;3052:				if ( str > 6 )
ADDRLP4 4
INDIRI4
CNSTI4 6
LEI4 $1365
line 3053
;3053:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3054
;3054:				break;
LABELV $1384
line 3056
;3055:			case WP_M14:
;3056:				if ( str >= 5 )
ADDRLP4 4
INDIRI4
CNSTI4 5
LTI4 $1385
line 3057
;3057:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
LABELV $1385
LABELV $1366
line 3059
;3058:			default:
;3059:				return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1363
JUMPV
line 3061
;3060:		}
;3061:	}
LABELV $1364
line 3062
;3062:	else if ( team == TEAM_BLUE )
ADDRLP4 0
INDIRI4
CNSTI4 2
NEI4 $1389
line 3063
;3063:	{
line 3064
;3064:		switch ( weapon )
ADDRLP4 12
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 7
LTI4 $1391
ADDRLP4 12
INDIRI4
CNSTI4 22
GTI4 $1391
ADDRLP4 12
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1412-28
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $1412
address $1393
address $1393
address $1391
address $1394
address $1397
address $1393
address $1391
address $1393
address $1391
address $1391
address $1400
address $1403
address $1391
address $1393
address $1406
address $1409
code
line 3065
;3065:		{
LABELV $1393
line 3071
;3066:			case WP_MAC10:
;3067:			case WP_AK47:
;3068:			case WP_GLOCK:
;3069:			case WP_SW40T:
;3070:			case WP_M590:
;3071:				return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3072
;3072:				break;
LABELV $1394
line 3074
;3073:			case WP_DEAGLE:
;3074:				if ( str > 3 )
ADDRLP4 4
INDIRI4
CNSTI4 3
LEI4 $1390
line 3075
;3075:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3076
;3076:				break;
LABELV $1397
line 3078
;3077:			case WP_PDW:
;3078:				if ( str > 3 && acc > 4 )
ADDRLP4 4
INDIRI4
CNSTI4 3
LEI4 $1390
ADDRLP4 8
INDIRI4
CNSTI4 4
LEI4 $1390
line 3079
;3079:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3080
;3080:				break;
LABELV $1400
line 3082
;3081:			case WP_PSG1:
;3082:				if ( acc > 6 )
ADDRLP4 8
INDIRI4
CNSTI4 6
LEI4 $1390
line 3083
;3083:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3084
;3084:				break;
LABELV $1403
line 3086
;3085:			case WP_MACMILLAN:
;3086:				if ( acc > 8 && str > 4 )
ADDRLP4 8
INDIRI4
CNSTI4 8
LEI4 $1390
ADDRLP4 4
INDIRI4
CNSTI4 4
LEI4 $1390
line 3087
;3087:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3088
;3088:				break;
LABELV $1406
line 3090
;3089:			case WP_SPAS15:
;3090:				if ( str > 6 )
ADDRLP4 4
INDIRI4
CNSTI4 6
LEI4 $1390
line 3091
;3091:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3092
;3092:				break;
LABELV $1409
line 3094
;3093:			case WP_M14:
;3094:				if ( str >= 5 )
ADDRLP4 4
INDIRI4
CNSTI4 5
LTI4 $1390
line 3095
;3095:					return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
line 3096
;3096:				break;
LABELV $1391
line 3098
;3097:			default:
;3098:				return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1363
JUMPV
line 3100
;3099:		}
;3100:	}
LABELV $1389
line 3102
;3101:	else
;3102:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $1363
JUMPV
LABELV $1390
LABELV $1365
line 3104
;3103:			
;3104:	return qfalse;
CNSTI4 0
RETI4
LABELV $1363
endproc PI_CheckWeapon 16 0
export NS_CheckEndRound
proc NS_CheckEndRound 20 8
line 3116
;3105:}
;3106:
;3107:/*
;3108:=================
;3109:NSQ3 Check end round
;3110:author: defcon-x
;3111:date: 12-07-2001
;3112:description: returns true if we should end the current round
;3113:=================
;3114:*/
;3115:qboolean NS_CheckEndRound ( void )
;3116:{
line 3121
;3117:	int			i ;
;3118:	gentity_t	*ent;
;3119:	
;3120:	// round is still running
;3121:	if ( level.time < level.roundstartTime )
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+7164
INDIRI4
GEI4 $1415
line 3122
;3122:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1414
JUMPV
LABELV $1415
line 3124
;3123:	
;3124:	ent = &g_entities[0];
ADDRLP4 0
ADDRGP4 g_entities
ASGNP4
line 3126
;3125:
;3126:	for (i=0 ; i<level.num_entities ; i++, ent++) 
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $1422
JUMPV
LABELV $1419
line 3127
;3127:	{
line 3128
;3128:		if ( !ent->inuse ) {
ADDRLP4 0
INDIRP4
CNSTI4 520
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1424
line 3129
;3129:			continue;
ADDRGP4 $1420
JUMPV
LABELV $1424
line 3131
;3130:		}
;3131:		if (!ent || !ent->classname)
ADDRLP4 12
CNSTU4 0
ASGNU4
ADDRLP4 0
INDIRP4
CVPU4 4
ADDRLP4 12
INDIRU4
EQU4 $1428
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
CVPU4 4
ADDRLP4 12
INDIRU4
NEU4 $1426
LABELV $1428
line 3132
;3132:			continue; 		
ADDRGP4 $1420
JUMPV
LABELV $1426
line 3134
;3133:		// find c4
;3134:		if (!Q_stricmp("c4_placed", ent->classname))
ADDRGP4 $540
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 16
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
NEI4 $1429
line 3135
;3135:		{
line 3137
;3136:			// if entity still has got time left
;3137:			if ( level.time <  ent->nextthink + 1000 )
ADDRGP4 level+32
INDIRI4
ADDRLP4 0
INDIRP4
CNSTI4 688
ADDP4
INDIRI4
CNSTI4 1000
ADDI4
GEI4 $1431
line 3138
;3138:				 return qfalse; // don't end round
CNSTI4 0
RETI4
ADDRGP4 $1414
JUMPV
LABELV $1431
line 3139
;3139:		}
LABELV $1429
line 3140
;3140:	}
LABELV $1420
line 3126
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 1100
ADDP4
ASGNP4
LABELV $1422
ADDRLP4 4
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $1419
line 3142
;3141:	// return
;3142:	return qtrue;
CNSTI4 1
RETI4
LABELV $1414
endproc NS_CheckEndRound 20 8
export NS_BombExistForTeam
proc NS_BombExistForTeam 20 8
line 3156
;3143:
;3144:
;3145:		
;3146:}
;3147:/*
;3148:=================
;3149:NSQ3 Bomb exist for team
;3150:author: defcon-x
;3151:date: 12-07-2001
;3152:description: returns true if we should end the current round
;3153:=================
;3154:*/
;3155:qboolean NS_BombExistForTeam ( team_t team )
;3156:{
line 3160
;3157:	int			i;
;3158:	gentity_t	*ent;
;3159:	
;3160:	ent = &g_entities[0];
ADDRLP4 0
ADDRGP4 g_entities
ASGNP4
line 3162
;3161:
;3162:	for (i=0 ; i<level.num_entities ; i++, ent++) 
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $1438
JUMPV
LABELV $1435
line 3163
;3163:	{
line 3164
;3164:		if ( !ent->inuse ) {
ADDRLP4 0
INDIRP4
CNSTI4 520
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1440
line 3165
;3165:			continue;
ADDRGP4 $1436
JUMPV
LABELV $1440
line 3167
;3166:		}
;3167:		if (!ent || !ent->classname)
ADDRLP4 12
CNSTU4 0
ASGNU4
ADDRLP4 0
INDIRP4
CVPU4 4
ADDRLP4 12
INDIRU4
EQU4 $1444
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
CVPU4 4
ADDRLP4 12
INDIRU4
NEU4 $1442
LABELV $1444
line 3168
;3168:			continue; 		
ADDRGP4 $1436
JUMPV
LABELV $1442
line 3170
;3169:		// find c4
;3170:		if (!Q_stricmp("c4_placed", ent->classname))
ADDRGP4 $540
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRP4
ARGP4
ADDRLP4 16
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
NEI4 $1445
line 3171
;3171:		{ 
line 3173
;3172:			// if entity still has got time left
;3173:			if ( ent->ns_team == team )
ADDRLP4 0
INDIRP4
CNSTI4 808
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
NEI4 $1447
line 3174
;3174:				 return qtrue; // don't end round
CNSTI4 1
RETI4
ADDRGP4 $1434
JUMPV
LABELV $1447
line 3175
;3175:		}
LABELV $1445
line 3176
;3176:	}
LABELV $1436
line 3162
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 1100
ADDP4
ASGNP4
LABELV $1438
ADDRLP4 4
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $1435
line 3178
;3177:	// return
;3178:	return qfalse;
CNSTI4 0
RETI4
LABELV $1434
endproc NS_BombExistForTeam 20 8
export NS_RaiseCharacterLevel
proc NS_RaiseCharacterLevel 1092 12
line 3192
;3179:		
;3180:}
;3181:/*
;3182:=================
;3183:NSQ3 Character Raise
;3184:author: defcon-x
;3185:date: 12-07-2001
;3186:description: raises the character abilities
;3187:*/
;3188:
;3189:#include "../../ui/menudef.h"
;3190: 
;3191:void NS_RaiseCharacterLevel( gentity_t *ent )
;3192:{
line 3196
;3193:	char	str[MAX_TOKEN_CHARS];
;3194:	int		i;
;3195:
;3196:	if (g_gametype.integer < GT_TEAM )
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
GEI4 $1450
line 3197
;3197:	{
line 3198
;3198:		PrintMsg(ent, "This command is only avaiable in Team-Play.\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1453
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 3199
;3199:		return;
ADDRGP4 $1449
JUMPV
LABELV $1450
line 3202
;3200:	} 
;3201:
;3202:	trap_Argv( 1, str, sizeof( str ) );
CNSTI4 1
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3203
;3203:	i = atoi(str); 
ADDRLP4 0
ARGP4
ADDRLP4 1028
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1028
INDIRI4
ASGNI4
line 3205
;3204:		   
;3205:	switch ( i )
ADDRLP4 1032
ADDRLP4 1024
INDIRI4
ASGNI4
ADDRLP4 1032
INDIRI4
CNSTI4 1
LTI4 $1455
ADDRLP4 1032
INDIRI4
CNSTI4 6
GTI4 $1455
ADDRLP4 1032
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1474-4
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $1474
address $1456
address $1459
address $1462
address $1465
address $1471
address $1468
code
line 3206
;3206:	{
LABELV $1456
line 3208
;3207:	case PC_STRENGTH:
;3208:		if ( NS_GotEnoughXPfornextLevel ( ent, ent->client->pers.nsPC.strength ) &&
ADDRLP4 1036
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1036
INDIRP4
ARGP4
ADDRLP4 1036
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
ARGI4
ADDRLP4 1040
ADDRGP4 NS_GotEnoughXPfornextLevel
CALLI4
ASGNI4
ADDRLP4 1040
INDIRI4
CNSTI4 0
EQI4 $1455
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CNSTI4 10
GEI4 $1455
line 3209
;3209:			ent->client->pers.nsPC.strength < 10 ) {
line 3210
;3210:			ent->client->pers.nsPC.strength ++;
ADDRLP4 1044
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
ASGNP4
ADDRLP4 1044
INDIRP4
ADDRLP4 1044
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3212
;3211:			
;3212:			NS_GiveXP( ent, ent->client->pers.nsPC.strength  , qtrue );
ADDRLP4 1048
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1048
INDIRP4
ARGP4
ADDRLP4 1048
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 3213
;3213:		}
line 3214
;3214:		break;
ADDRGP4 $1455
JUMPV
LABELV $1459
line 3216
;3215:	case PC_TECHNICAL:
;3216:		if ( NS_GotEnoughXPfornextLevel ( ent, ent->client->pers.nsPC.technical ) && 
ADDRLP4 1044
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1044
INDIRP4
ARGP4
ADDRLP4 1044
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
ARGI4
ADDRLP4 1048
ADDRGP4 NS_GotEnoughXPfornextLevel
CALLI4
ASGNI4
ADDRLP4 1048
INDIRI4
CNSTI4 0
EQI4 $1455
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
CNSTI4 10
GEI4 $1455
line 3217
;3217:			ent->client->pers.nsPC.technical < 10 ) {
line 3218
;3218:			ent->client->pers.nsPC.technical ++;
ADDRLP4 1052
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1416
ADDP4
ASGNP4
ADDRLP4 1052
INDIRP4
ADDRLP4 1052
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3220
;3219:			
;3220:			NS_GiveXP( ent, ent->client->pers.nsPC.technical  , qtrue );
ADDRLP4 1056
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1056
INDIRP4
ARGP4
ADDRLP4 1056
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 3221
;3221:		}
line 3222
;3222:		break;
ADDRGP4 $1455
JUMPV
LABELV $1462
line 3224
;3223:	case PC_STAMINA:
;3224:		if ( NS_GotEnoughXPfornextLevel ( ent, ent->client->pers.nsPC.stamina ) && 
ADDRLP4 1052
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1052
INDIRP4
ARGP4
ADDRLP4 1052
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
ARGI4
ADDRLP4 1056
ADDRGP4 NS_GotEnoughXPfornextLevel
CALLI4
ASGNI4
ADDRLP4 1056
INDIRI4
CNSTI4 0
EQI4 $1455
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
CNSTI4 10
GEI4 $1455
line 3225
;3225:			ent->client->pers.nsPC.stamina < 10 ) {
line 3226
;3226:			ent->client->pers.nsPC.stamina ++;
ADDRLP4 1060
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1428
ADDP4
ASGNP4
ADDRLP4 1060
INDIRP4
ADDRLP4 1060
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3228
;3227:			
;3228:			NS_GiveXP( ent, ent->client->pers.nsPC.stamina  , qtrue );
ADDRLP4 1064
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1064
INDIRP4
ARGP4
ADDRLP4 1064
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 3229
;3229:		}
line 3230
;3230:		break;
ADDRGP4 $1455
JUMPV
LABELV $1465
line 3232
;3231:	case PC_ACCURACY:
;3232:		if ( NS_GotEnoughXPfornextLevel ( ent, ent->client->pers.nsPC.accuracy  ) && 
ADDRLP4 1060
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1060
INDIRP4
ARGP4
ADDRLP4 1060
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
ARGI4
ADDRLP4 1064
ADDRGP4 NS_GotEnoughXPfornextLevel
CALLI4
ASGNI4
ADDRLP4 1064
INDIRI4
CNSTI4 0
EQI4 $1455
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
CNSTI4 10
GEI4 $1455
line 3233
;3233:			ent->client->pers.nsPC.accuracy < 10 ) {
line 3234
;3234:			ent->client->pers.nsPC.accuracy ++;
ADDRLP4 1068
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
ASGNP4
ADDRLP4 1068
INDIRP4
ADDRLP4 1068
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3236
;3235:			
;3236:			NS_GiveXP( ent, ent->client->pers.nsPC.accuracy  , qtrue );
ADDRLP4 1072
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1072
INDIRP4
ARGP4
ADDRLP4 1072
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 3237
;3237:		}
line 3238
;3238:		break;
ADDRGP4 $1455
JUMPV
LABELV $1468
line 3240
;3239:	case PC_STEALTH:
;3240:		if ( NS_GotEnoughXPfornextLevel ( ent, ent->client->pers.nsPC.stealth   ) && 
ADDRLP4 1068
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1068
INDIRP4
ARGP4
ADDRLP4 1068
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
ARGI4
ADDRLP4 1072
ADDRGP4 NS_GotEnoughXPfornextLevel
CALLI4
ASGNI4
ADDRLP4 1072
INDIRI4
CNSTI4 0
EQI4 $1455
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
CNSTI4 10
GEI4 $1455
line 3241
;3241:			ent->client->pers.nsPC.stealth < 10 ) {
line 3242
;3242:			ent->client->pers.nsPC.stealth ++;
ADDRLP4 1076
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
ASGNP4
ADDRLP4 1076
INDIRP4
ADDRLP4 1076
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3244
;3243:			
;3244:			NS_GiveXP( ent, ent->client->pers.nsPC.stealth  , qtrue );
ADDRLP4 1080
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1080
INDIRP4
ARGP4
ADDRLP4 1080
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 3245
;3245:		}
line 3246
;3246:		break;
ADDRGP4 $1455
JUMPV
LABELV $1471
line 3248
;3247:	case PC_SPEED:
;3248:		if ( NS_GotEnoughXPfornextLevel ( ent, ent->client->pers.nsPC.speed   ) && 
ADDRLP4 1076
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1076
INDIRP4
ARGP4
ADDRLP4 1076
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
ARGI4
ADDRLP4 1080
ADDRGP4 NS_GotEnoughXPfornextLevel
CALLI4
ASGNI4
ADDRLP4 1080
INDIRI4
CNSTI4 0
EQI4 $1455
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
CNSTI4 10
GEI4 $1455
line 3249
;3249:			ent->client->pers.nsPC.speed < 10 ) {
line 3250
;3250:			ent->client->pers.nsPC.speed ++;
ADDRLP4 1084
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1432
ADDP4
ASGNP4
ADDRLP4 1084
INDIRP4
ADDRLP4 1084
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3252
;3251:			
;3252:			NS_GiveXP( ent, ent->client->pers.nsPC.speed  , qtrue );
ADDRLP4 1088
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 1088
INDIRP4
ARGP4
ADDRLP4 1088
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 NS_GiveXP
CALLV
pop
line 3255
;3253:
;3254:			
;3255:		}
line 3256
;3256:		break;
line 3258
;3257:	default:
;3258:		break;
LABELV $1455
line 3261
;3259:	}
;3260:	// update character if anything changed - so knows about any changes
;3261:	if ( ent->client->ps.persistant[PERS_STRENGTH] != ent->client->pers.nsPC.strength )
ADDRLP4 1036
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1036
INDIRP4
CNSTI4 268
ADDP4
INDIRI4
ADDRLP4 1036
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
EQI4 $1476
line 3262
;3262:		ent->client->ps.persistant[PERS_STRENGTH] = ent->client->pers.nsPC.strength;
ADDRLP4 1040
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1040
INDIRP4
CNSTI4 268
ADDP4
ADDRLP4 1040
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
ASGNI4
LABELV $1476
line 3264
;3263:
;3264:	if ( ent->client->ps.persistant[PERS_TECHNICAL] != ent->client->pers.nsPC.technical )
ADDRLP4 1044
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1044
INDIRP4
CNSTI4 272
ADDP4
INDIRI4
ADDRLP4 1044
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
EQI4 $1478
line 3265
;3265:		ent->client->ps.persistant[PERS_TECHNICAL] = ent->client->pers.nsPC.technical;
ADDRLP4 1048
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1048
INDIRP4
CNSTI4 272
ADDP4
ADDRLP4 1048
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
ASGNI4
LABELV $1478
line 3267
;3266:
;3267:	if ( ent->client->ps.persistant[PERS_STAMINA] != ent->client->pers.nsPC.stamina )
ADDRLP4 1052
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1052
INDIRP4
CNSTI4 276
ADDP4
INDIRI4
ADDRLP4 1052
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
EQI4 $1480
line 3268
;3268:		ent->client->ps.persistant[PERS_STAMINA] = ent->client->pers.nsPC.stamina;
ADDRLP4 1056
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1056
INDIRP4
CNSTI4 276
ADDP4
ADDRLP4 1056
INDIRP4
CNSTI4 1428
ADDP4
INDIRI4
ASGNI4
LABELV $1480
line 3270
;3269:
;3270:	if ( ent->client->ps.persistant[PERS_SPEED] != ent->client->pers.nsPC.speed )
ADDRLP4 1060
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1060
INDIRP4
CNSTI4 284
ADDP4
INDIRI4
ADDRLP4 1060
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
EQI4 $1482
line 3271
;3271:		ent->client->ps.persistant[PERS_SPEED] = ent->client->pers.nsPC.speed;
ADDRLP4 1064
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1064
INDIRP4
CNSTI4 284
ADDP4
ADDRLP4 1064
INDIRP4
CNSTI4 1432
ADDP4
INDIRI4
ASGNI4
LABELV $1482
line 3273
;3272:
;3273:	if ( ent->client->ps.persistant[PERS_STEALTH] != ent->client->pers.nsPC.stealth )
ADDRLP4 1068
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1068
INDIRP4
CNSTI4 288
ADDP4
INDIRI4
ADDRLP4 1068
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
EQI4 $1484
line 3274
;3274:		ent->client->ps.persistant[PERS_STEALTH] = ent->client->pers.nsPC.stealth;
ADDRLP4 1072
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1072
INDIRP4
CNSTI4 288
ADDP4
ADDRLP4 1072
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
ASGNI4
LABELV $1484
line 3276
;3275:
;3276:	if ( ent->client->ps.persistant[PERS_ACCURACY] != ent->client->pers.nsPC.accuracy )
ADDRLP4 1076
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1076
INDIRP4
CNSTI4 280
ADDP4
INDIRI4
ADDRLP4 1076
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
EQI4 $1486
line 3277
;3277:		ent->client->ps.persistant[PERS_ACCURACY] = ent->client->pers.nsPC.accuracy;
ADDRLP4 1080
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1080
INDIRP4
CNSTI4 280
ADDP4
ADDRLP4 1080
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
ASGNI4
LABELV $1486
line 3279
;3278:
;3279:}
LABELV $1449
endproc NS_RaiseCharacterLevel 1092 12
export NS_CalculateStartingXP
proc NS_CalculateStartingXP 4 8
line 3292
;3280:
;3281:/*
;3282:=================
;3283:NSQ3 Calculate Starting Experience Points
;3284:author: defcon-x
;3285:date: 12-07-2001
;3286:description: calculates the amount of xp a player gets when he changes/joins a team
;3287:=================
;3288:*/
;3289:int NS_DurchschnittXPforTeam( int ignoreClientNum, team_t team );
;3290:
;3291:int NS_CalculateStartingXP( int team )
;3292:{
line 3295
;3293:	
;3294:	//fixme
;3295:	return NS_DurchschnittXPforTeam( -1, team );
CNSTI4 -1
ARGI4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 0
ADDRGP4 NS_DurchschnittXPforTeam
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
RETI4
LABELV $1488
endproc NS_CalculateStartingXP 4 8
export NS_PlayerInventory
proc NS_PlayerInventory 1292 12
line 3307
;3296:}
;3297:/*
;3298:=================
;3299:NSQ3 Inventory Handle
;3300:author: defcon-x
;3301:date: 12-07-2001
;3302:description: new way to handle player inventory
;3303:=================
;3304:*/
;3305:
;3306:void NS_PlayerInventory( gentity_t *ent )
;3307:{
line 3310
;3308:	char	str[MAX_TOKEN_CHARS];
;3309:	int		i;
;3310:	int		roundStartTime = 0;
ADDRLP4 1028
CNSTI4 0
ASGNI4
line 3313
;3311:	int		oldPrimary,oldSecondary;
;3312:
;3313:	oldPrimary = oldSecondary = WP_NONE;
ADDRLP4 1040
CNSTI4 0
ASGNI4
ADDRLP4 1036
ADDRLP4 1040
INDIRI4
ASGNI4
ADDRLP4 1032
ADDRLP4 1040
INDIRI4
ASGNI4
line 3315
;3314:
;3315:	if (g_gametype.integer < GT_TEAM )
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
GEI4 $1490
line 3316
;3316:	{
line 3317
;3317:		PrintMsg(ent, "This command is only avaiable in Team-Play.\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1453
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 3318
;3318:		return;
ADDRGP4 $1489
JUMPV
LABELV $1490
line 3321
;3319:	}  
;3320:
;3321:	trap_Argv( 1, str, sizeof( str ) );
CNSTI4 1
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3322
;3322:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1044
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1044
INDIRI4
ASGNI4
line 3324
;3323:
;3324:	if (i > 0 && i != 15 && i < WP_NUM_WEAPONS ) {
ADDRLP4 1024
INDIRI4
CNSTI4 0
LEI4 $1493
ADDRLP4 1024
INDIRI4
CNSTI4 15
EQI4 $1493
ADDRLP4 1024
INDIRI4
CNSTI4 23
GEI4 $1493
line 3327
;3325:
;3326:		// failed check.. default to mp5 for seals/mac10 for tangos
;3327:		if ( !PI_CheckWeapon ( ent, i ) || !BG_IsPrimary(i) )
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 1024
INDIRI4
ARGI4
ADDRLP4 1052
ADDRGP4 PI_CheckWeapon
CALLI4
ASGNI4
ADDRLP4 1052
INDIRI4
CNSTI4 0
EQI4 $1497
ADDRLP4 1024
INDIRI4
ARGI4
ADDRLP4 1056
ADDRGP4 BG_IsPrimary
CALLI4
ASGNI4
ADDRLP4 1056
INDIRI4
CNSTI4 0
NEI4 $1495
LABELV $1497
line 3328
;3328:		{
line 3329
;3329:			if ( ent->client->sess.sessionTeam == TEAM_RED )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
CNSTI4 1
NEI4 $1498
line 3330
;3330:				i = WP_MP5;
ADDRLP4 1024
CNSTI4 13
ASGNI4
ADDRGP4 $1499
JUMPV
LABELV $1498
line 3332
;3331:			else
;3332:				i = WP_MAC10;
ADDRLP4 1024
CNSTI4 12
ASGNI4
LABELV $1499
line 3333
;3333:		}
LABELV $1495
line 3334
;3334:		oldPrimary = ent->client->pers.nsInven.primaryweapon;
ADDRLP4 1032
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ASGNI4
line 3336
;3335:
;3336:		ent->client->pers.nsInven.primaryweapon = i;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
ADDRLP4 1024
INDIRI4
ASGNI4
line 3342
;3337:		/*
;3338:		it = BG_FindItemForWeapon(i);
;3339:
;3340:		G_Printf("setted weapon %s as primary\n", it->pickup_name );
;3341:		*/
;3342:	}
LABELV $1493
line 3344
;3343:	
;3344:	trap_Argv( 2, str, sizeof( str ) );
CNSTI4 2
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3345
;3345:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1052
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1052
INDIRI4
ASGNI4
line 3346
;3346:	if (i > 0 && i != 15 && i < WP_NUM_WEAPONS )
ADDRLP4 1024
INDIRI4
CNSTI4 0
LEI4 $1500
ADDRLP4 1024
INDIRI4
CNSTI4 15
EQI4 $1500
ADDRLP4 1024
INDIRI4
CNSTI4 23
GEI4 $1500
line 3347
;3347:	{
line 3348
;3348:		if ( !PI_CheckWeapon ( ent, i ) || !BG_IsSecondary( i ) )
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 1024
INDIRI4
ARGI4
ADDRLP4 1060
ADDRGP4 PI_CheckWeapon
CALLI4
ASGNI4
ADDRLP4 1060
INDIRI4
CNSTI4 0
EQI4 $1504
ADDRLP4 1024
INDIRI4
ARGI4
ADDRLP4 1064
ADDRGP4 BG_IsSecondary
CALLI4
ASGNI4
ADDRLP4 1064
INDIRI4
CNSTI4 0
NEI4 $1502
LABELV $1504
line 3349
;3349:		{
line 3350
;3350:			if ( ent->client->sess.sessionTeam == TEAM_RED )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1460
ADDP4
INDIRI4
CNSTI4 1
NEI4 $1505
line 3351
;3351:				i = WP_P9S;
ADDRLP4 1024
CNSTI4 9
ASGNI4
ADDRGP4 $1506
JUMPV
LABELV $1505
line 3353
;3352:			else
;3353:				i = WP_GLOCK;
ADDRLP4 1024
CNSTI4 7
ASGNI4
LABELV $1506
line 3354
;3354:		}
LABELV $1502
line 3355
;3355:		oldSecondary = ent->client->pers.nsInven.secondaryweapon;
ADDRLP4 1036
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ASGNI4
line 3357
;3356:
;3357:		ent->client->pers.nsInven.secondaryweapon = i;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
ADDRLP4 1024
INDIRI4
ASGNI4
line 3363
;3358:		/*
;3359:		it = BG_FindItemForWeapon(i);
;3360:
;3361:		G_Printf("setted weapon %s as secondary\n", it->pickup_name );
;3362:		*/
;3363:	}
LABELV $1500
line 3365
;3364:
;3365:	trap_Argv( 3, str, sizeof( str ) );
CNSTI4 3
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3366
;3366:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1060
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1060
INDIRI4
ASGNI4
line 3367
;3367:	if ( ent->client->pers.nsInven.primaryweapon )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1507
line 3368
;3368:	{
line 3369
;3369:		gitem_t *it_primary = BG_FindItemForWeapon( ent->client->pers.nsInven.primaryweapon );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1068
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 1064
ADDRLP4 1068
INDIRP4
ASGNP4
line 3371
;3370:
;3371:		ent->client->pers.nsInven.ammo[ it_primary->giAmmoTag ] = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1072
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1064
INDIRP4
CNSTI4 44
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 692
ADDP4
ADDP4
ADDRLP4 1072
INDIRI4
ASGNI4
line 3374
;3372:
;3373://		G_Printf("setted %i ammo for primary\n", i);
;3374:	}
LABELV $1507
line 3375
;3375:	trap_Argv( 4, str, sizeof( str ) );
CNSTI4 4
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3376
;3376:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1064
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1064
INDIRI4
ASGNI4
line 3377
;3377:	if ( ent->client->pers.nsInven.secondaryweapon )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1509
line 3378
;3378:	{
line 3379
;3379:		gitem_t *it_primary = BG_FindItemForWeapon( ent->client->pers.nsInven.secondaryweapon );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ARGI4
ADDRLP4 1072
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 1068
ADDRLP4 1072
INDIRP4
ASGNP4
line 3381
;3380:
;3381:		ent->client->pers.nsInven.ammo[ it_primary->giAmmoTag ] = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1076
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1068
INDIRP4
CNSTI4 44
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 692
ADDP4
ADDP4
ADDRLP4 1076
INDIRI4
ASGNI4
line 3383
;3382://		G_Printf("setted %i ammo for secondary\n", i);
;3383:	}
LABELV $1509
line 3384
;3384:	trap_Argv( 5, str, sizeof( str ) );
CNSTI4 5
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3385
;3385:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1068
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1068
INDIRI4
ASGNI4
line 3386
;3386:	if ( i )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1511
line 3387
;3387:	{
line 3388
;3388:		ent->client->pers.nsInven.ammo[ AM_40MMGRENADES ] = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1072
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 756
ADDP4
ADDRLP4 1072
INDIRI4
ASGNI4
line 3390
;3389://		G_Printf("setted %i ammo for 40mm grenades\n", i);
;3390:	}
LABELV $1511
line 3391
;3391:	trap_Argv( 6, str, sizeof( str ) );
CNSTI4 6
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3392
;3392:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1072
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1072
INDIRI4
ASGNI4
line 3393
;3393:	if ( i )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1513
line 3394
;3394:	{
line 3395
;3395:		ent->client->pers.nsInven.ammo[ AM_GRENADES ] = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1076
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 748
ADDP4
ADDRLP4 1076
INDIRI4
ASGNI4
line 3397
;3396://		G_Printf("setted %i grenades\n", i);
;3397:	}
LABELV $1513
line 3399
;3398:
;3399:	trap_Argv( 7, str, sizeof( str ) );
CNSTI4 7
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3400
;3400:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1076
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1076
INDIRI4
ASGNI4
line 3401
;3401:	if ( i )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1515
line 3402
;3402:	{
line 3403
;3403:		ent->client->pers.nsInven.ammo[ AM_FLASHBANGS ] = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1080
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 752
ADDP4
ADDRLP4 1080
INDIRI4
ASGNI4
line 3405
;3404://		G_Printf("setted %i flashbangs\n", i);
;3405:	}
LABELV $1515
line 3407
;3406:
;3407:	trap_Argv( 8, str, sizeof( str ) );
CNSTI4 8
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3408
;3408:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1080
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1080
INDIRI4
ASGNI4
line 3409
;3409:	if ( i )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1517
line 3410
;3410:		ent->client->pers.nsInven.powerups[PW_VEST] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 652
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1518
JUMPV
LABELV $1517
line 3412
;3411:	else
;3412:		ent->client->pers.nsInven.powerups[PW_VEST] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 652
ADDP4
CNSTI4 0
ASGNI4
LABELV $1518
line 3414
;3413:
;3414:	trap_Argv( 9, str, sizeof( str ) );
CNSTI4 9
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3415
;3415:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1084
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1084
INDIRI4
ASGNI4
line 3416
;3416:	if ( i )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1519
line 3417
;3417:		ent->client->pers.nsInven.powerups[PW_HELMET] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 656
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1520
JUMPV
LABELV $1519
line 3419
;3418:	else
;3419:		ent->client->pers.nsInven.powerups[PW_HELMET] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 656
ADDP4
CNSTI4 0
ASGNI4
LABELV $1520
line 3421
;3420: 
;3421:	trap_Argv( 10, str, sizeof( str ) );
CNSTI4 10
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3422
;3422:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1088
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1088
INDIRI4
ASGNI4
line 3423
;3423:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.primaryweapon) & ( 1 << WM_SCOPE) && ent->client->pers.nsPC.accuracy >= 6 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1521
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1092
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1092
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $1521
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
CNSTI4 6
LTI4 $1521
line 3424
;3424:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].scope = 1;
ADDRLP4 1096
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1096
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1096
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 8
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1522
JUMPV
LABELV $1521
line 3426
;3425:	else
;3426:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].scope = 0;
ADDRLP4 1100
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1100
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1100
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 8
ADDP4
CNSTI4 0
ASGNI4
LABELV $1522
line 3428
;3427:
;3428:	trap_Argv( 11, str, sizeof( str ) );
CNSTI4 11
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3429
;3429:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1104
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1104
INDIRI4
ASGNI4
line 3430
;3430:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.primaryweapon) & ( 1 << WM_GRENADELAUNCHER ) && ent->client->pers.nsPC.technical >= 5 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1523
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1108
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1108
INDIRI4
CNSTI4 512
BANDI4
CNSTI4 0
EQI4 $1523
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1416
ADDP4
INDIRI4
CNSTI4 5
LTI4 $1523
line 3431
;3431:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].gl = 1;
ADDRLP4 1112
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1112
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1112
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 16
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1524
JUMPV
LABELV $1523
line 3433
;3432:	else
;3433:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].gl = 0;
ADDRLP4 1116
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1116
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1116
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 16
ADDP4
CNSTI4 0
ASGNI4
LABELV $1524
line 3435
;3434:
;3435:	trap_Argv( 12, str, sizeof( str ) );
CNSTI4 12
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3436
;3436:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1120
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1120
INDIRI4
ASGNI4
line 3439
;3437:
;3438:	// only allow if no gl attached
;3439:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.primaryweapon) & ( 1 << WM_BAYONET ) && ent->client->pers.nsPC.strength >= 4 && !ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].gl )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1525
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1124
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1128
CNSTI4 0
ASGNI4
ADDRLP4 1124
INDIRI4
CNSTI4 1024
BANDI4
ADDRLP4 1128
INDIRI4
EQI4 $1525
ADDRLP4 1132
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 1132
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CNSTI4 4
LTI4 $1525
CNSTI4 28
ADDRLP4 1132
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1132
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 16
ADDP4
INDIRI4
ADDRLP4 1128
INDIRI4
NEI4 $1525
line 3440
;3440:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].bayonet = 1;
ADDRLP4 1136
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1136
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1136
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 12
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1526
JUMPV
LABELV $1525
line 3442
;3441:	else
;3442:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].bayonet = 0;
ADDRLP4 1140
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1140
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1140
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 12
ADDP4
CNSTI4 0
ASGNI4
LABELV $1526
line 3444
;3443: 
;3444:	trap_Argv( 13, str, sizeof( str ) );
CNSTI4 13
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3445
;3445:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1144
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1144
INDIRI4
ASGNI4
line 3446
;3446:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.primaryweapon) & ( 1 << WM_LASER ) && ent->client->pers.nsPC.accuracy >= 4 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1527
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1148
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1148
INDIRI4
CNSTI4 16
BANDI4
CNSTI4 0
EQI4 $1527
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
CNSTI4 4
LTI4 $1527
line 3447
;3447:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].lasersight = 1;
ADDRLP4 1152
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1152
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1152
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1528
JUMPV
LABELV $1527
line 3449
;3448:	else
;3449:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].lasersight = 0;
ADDRLP4 1156
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1156
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1156
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 0
ASGNI4
LABELV $1528
line 3451
;3450: 
;3451:	trap_Argv( 14, str, sizeof( str ) );
CNSTI4 14
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3452
;3452:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1160
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1160
INDIRI4
ASGNI4
line 3454
;3453:
;3454:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.primaryweapon) & ( 1 << WM_SILENCER ) && ent->client->pers.nsPC.stealth >= 5 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1529
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1164
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1164
INDIRI4
CNSTI4 32
BANDI4
CNSTI4 0
EQI4 $1529
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
CNSTI4 5
LTI4 $1529
line 3455
;3455:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].silencer = 1;
ADDRLP4 1168
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1168
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1168
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1530
JUMPV
LABELV $1529
line 3457
;3456:	else
;3457:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].silencer = 0;
ADDRLP4 1172
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1172
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1172
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
CNSTI4 0
ASGNI4
LABELV $1530
line 3460
;3458:  
;3459:
;3460:	trap_Argv( 15, str, sizeof( str ) );
CNSTI4 15
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3461
;3461:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1176
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1176
INDIRI4
ASGNI4
line 3462
;3462:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.secondaryweapon) & ( 1 << WM_SCOPE) )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1531
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ARGI4
ADDRLP4 1180
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1180
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $1531
line 3463
;3463:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].scope = 1;
ADDRLP4 1184
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1184
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1184
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 8
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1532
JUMPV
LABELV $1531
line 3465
;3464:	else
;3465:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].scope = 0;
ADDRLP4 1188
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1188
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1188
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 8
ADDP4
CNSTI4 0
ASGNI4
LABELV $1532
line 3467
;3466:
;3467:	trap_Argv( 16, str, sizeof( str ) );
CNSTI4 16
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3468
;3468:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1192
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1192
INDIRI4
ASGNI4
line 3469
;3469:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.secondaryweapon) & ( 1 << WM_GRENADELAUNCHER ) )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1533
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ARGI4
ADDRLP4 1196
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1196
INDIRI4
CNSTI4 512
BANDI4
CNSTI4 0
EQI4 $1533
line 3470
;3470:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].gl = 1;
ADDRLP4 1200
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1200
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1200
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 16
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1534
JUMPV
LABELV $1533
line 3472
;3471:	else
;3472:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].gl = 0;
ADDRLP4 1204
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1204
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1204
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 16
ADDP4
CNSTI4 0
ASGNI4
LABELV $1534
line 3474
;3473:
;3474:	trap_Argv( 17, str, sizeof( str ) );
CNSTI4 17
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3475
;3475:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1208
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1208
INDIRI4
ASGNI4
line 3476
;3476:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.secondaryweapon) & ( 1 <<  WM_BAYONET) )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1535
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ARGI4
ADDRLP4 1212
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1212
INDIRI4
CNSTI4 1024
BANDI4
CNSTI4 0
EQI4 $1535
line 3477
;3477:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].bayonet = 1;
ADDRLP4 1216
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1216
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1216
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 12
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1536
JUMPV
LABELV $1535
line 3479
;3478:	else
;3479:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].bayonet = 0;
ADDRLP4 1220
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1220
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1220
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 12
ADDP4
CNSTI4 0
ASGNI4
LABELV $1536
line 3481
;3480: 
;3481:	trap_Argv( 18, str, sizeof( str ) );
CNSTI4 18
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3482
;3482:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1224
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1224
INDIRI4
ASGNI4
line 3483
;3483:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.secondaryweapon) & ( 1 << WM_LASER ) && ent->client->pers.nsPC.accuracy >= 3 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1537
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ARGI4
ADDRLP4 1228
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1228
INDIRI4
CNSTI4 16
BANDI4
CNSTI4 0
EQI4 $1537
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1436
ADDP4
INDIRI4
CNSTI4 3
LTI4 $1537
line 3484
;3484:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].lasersight = 1;
ADDRLP4 1232
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1232
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1232
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1538
JUMPV
LABELV $1537
line 3486
;3485:	else
;3486:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].lasersight = 0;
ADDRLP4 1236
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1236
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1236
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 0
ASGNI4
LABELV $1538
line 3488
;3487: 
;3488:	trap_Argv( 19, str, sizeof( str ) );
CNSTI4 19
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3489
;3489:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1240
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1240
INDIRI4
ASGNI4
line 3491
;3490:
;3491:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.secondaryweapon) & ( 1 << WM_SILENCER ) && ent->client->pers.nsPC.stealth >= 3 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1539
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
ARGI4
ADDRLP4 1244
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1244
INDIRI4
CNSTI4 32
BANDI4
CNSTI4 0
EQI4 $1539
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
CNSTI4 3
LTI4 $1539
line 3492
;3492:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].silencer = 1;
ADDRLP4 1248
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1248
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1248
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1540
JUMPV
LABELV $1539
line 3494
;3493:	else
;3494:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.secondaryweapon].silencer = 0;
ADDRLP4 1252
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1252
INDIRP4
CNSTI4 624
ADDP4
INDIRI4
MULI4
ADDRLP4 1252
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 4
ADDP4
CNSTI4 0
ASGNI4
LABELV $1540
line 3497
;3495:    
;3496:	// fixme: update client
;3497:	trap_Argv( 20, str, sizeof( str ) );
CNSTI4 20
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3498
;3498:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1256
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1256
INDIRI4
ASGNI4
line 3499
;3499:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.primaryweapon) & ( 1 << WM_DUCKBILL ) && ent->client->pers.nsPC.strength >= 5 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1541
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1260
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1260
INDIRI4
CNSTI4 128
BANDI4
CNSTI4 0
EQI4 $1541
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CNSTI4 5
LTI4 $1541
line 3500
;3500:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].duckbill = 1;
ADDRLP4 1264
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1264
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1264
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 20
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1542
JUMPV
LABELV $1541
line 3502
;3501:	else
;3502:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].duckbill = 0;
ADDRLP4 1268
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1268
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1268
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 20
ADDP4
CNSTI4 0
ASGNI4
LABELV $1542
line 3504
;3503: 
;3504:	trap_Argv( 21, str, sizeof( str ) );
CNSTI4 21
ARGI4
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3505
;3505:	i = atoi(str);
ADDRLP4 0
ARGP4
ADDRLP4 1272
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1024
ADDRLP4 1272
INDIRI4
ASGNI4
line 3507
;3506:
;3507:	if ( i && BG_WeaponMods( ent->client->pers.nsInven.primaryweapon) & ( 1 << WM_FLASHLIGHT ) && ent->client->pers.nsPC.stealth >= 6 )
ADDRLP4 1024
INDIRI4
CNSTI4 0
EQI4 $1543
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
ARGI4
ADDRLP4 1276
ADDRGP4 BG_WeaponMods
CALLI4
ASGNI4
ADDRLP4 1276
INDIRI4
CNSTI4 256
BANDI4
CNSTI4 0
EQI4 $1543
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1424
ADDP4
INDIRI4
CNSTI4 6
LTI4 $1543
line 3508
;3508:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].flashlight = 1;
ADDRLP4 1280
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1280
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1280
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 24
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1544
JUMPV
LABELV $1543
line 3510
;3509:	else
;3510:		ent->client->pers.nsInven.weapon_mods[ent->client->pers.nsInven.primaryweapon].flashlight = 0;
ADDRLP4 1284
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
CNSTI4 28
ADDRLP4 1284
INDIRP4
CNSTI4 620
ADDP4
INDIRI4
MULI4
ADDRLP4 1284
INDIRP4
CNSTI4 772
ADDP4
ADDP4
CNSTI4 24
ADDP4
CNSTI4 0
ASGNI4
LABELV $1544
line 3512
;3511:
;3512:	roundStartTime = level.roundstartTime; 
ADDRLP4 1028
ADDRGP4 level+7164
INDIRI4
ASGNI4
line 3514
;3513:	// remove roundtime to get time the round started.
;3514:	roundStartTime -= g_roundTime.value * 60 * ONE_SECOND; 
ADDRLP4 1028
ADDRLP4 1028
INDIRI4
CVIF4 4
CNSTF4 1148846080
CNSTF4 1114636288
ADDRGP4 g_roundTime+8
INDIRF4
MULF4
MULF4
SUBF4
CVFI4 4
ASGNI4
line 3515
;3515:	roundStartTime += g_invenTime.value * ONE_SECOND;
ADDRLP4 1028
ADDRLP4 1028
INDIRI4
CVIF4 4
CNSTF4 1148846080
ADDRGP4 g_invenTime+8
INDIRF4
MULF4
ADDF4
CVFI4 4
ASGNI4
line 3518
;3516:
;3517:	// cheat fix
;3518:	if ( ent->client->ns.is_vip )
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2940
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1548
line 3519
;3519:		return;
ADDRGP4 $1489
JUMPV
LABELV $1548
line 3523
;3520:
;3521://	NS_ClearInventory( ent );
;3522:	// update clientweapons / ammo if time is still in valid range
;3523:	if ( ( GameState == STATE_OPEN ) || ( GameState == STATE_LOCKED && level.time < roundStartTime ) )
ADDRLP4 1288
ADDRGP4 GameState
INDIRI4
ASGNI4
ADDRLP4 1288
INDIRI4
CNSTI4 0
EQI4 $1553
ADDRLP4 1288
INDIRI4
CNSTI4 2
NEI4 $1550
ADDRGP4 level+32
INDIRI4
ADDRLP4 1028
INDIRI4
GEI4 $1550
LABELV $1553
line 3524
;3524:	{
line 3525
;3525:		BG_RemoveWeapon( oldPrimary, ent->client->ps.stats );
ADDRLP4 1032
INDIRI4
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_RemoveWeapon
CALLV
pop
line 3526
;3526:		BG_RemoveWeapon( oldSecondary, ent->client->ps.stats );
ADDRLP4 1036
INDIRI4
ARGI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 184
ADDP4
ARGP4
ADDRGP4 BG_RemoveWeapon
CALLV
pop
line 3528
;3527:
;3528:		NS_NavySeals_ClientInit( ent );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 NS_NavySeals_ClientInit
CALLV
pop
line 3529
;3529:	}
LABELV $1550
line 3537
;3530:
;3531:	// the following is the order how the string gets send form the client to teh server.
;3532:	// all in <> is a cmd rest is decription	
;3533:	// <cmd>  <primary> <secondary> <PriAmmo> <SecAmmo> <40mm grenades> <Grenades> <Fl Grenades> <kevlar> <helmet>
;3534:	//pri  <scope> <gl> <bayonet> <lasersight> <silencer>
;3535:	//sec  <scope> <gl> <bayonet> <lasersight> <silencer>
;3536:	//pri  <duckbill> <flashlight>
;3537:}
LABELV $1489
endproc NS_PlayerInventory 1292 12
export NS_Gesture
proc NS_Gesture 1048 16
line 3547
;3538:/*
;3539:=================
;3540:NSQ3 Gesture
;3541:author: Defcon-X
;3542:date: 24-08-2000
;3543:description: stars gesture animations (point/fist/wave)
;3544:================= 
;3545:*/
;3546:void NS_Gesture( gentity_t *ent )
;3547:{
line 3549
;3548:	char	str[MAX_TOKEN_CHARS];
;3549:	char	*anim = "wrong";
ADDRLP4 1028
ADDRGP4 $1555
ASGNP4
line 3550
;3550:	int		i,anm = 0;
ADDRLP4 1032
CNSTI4 0
ASGNI4
line 3552
;3551:
;3552:	trap_Argv( 1, str, sizeof( str ) );
CNSTI4 1
ARGI4
ADDRLP4 4
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Argv
CALLV
pop
line 3553
;3553:	i = atoi( str );
ADDRLP4 4
ARGP4
ADDRLP4 1036
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 0
ADDRLP4 1036
INDIRI4
ASGNI4
line 3555
;3554:	
;3555:	if (!i) {
ADDRLP4 0
INDIRI4
CNSTI4 0
NEI4 $1556
line 3556
;3556:		PrintMsg( ent, "Usage:\ncmd Gesture <1/2/3>\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1558
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 3557
;3557:		return;
ADDRGP4 $1554
JUMPV
LABELV $1556
line 3560
;3558:	}
;3559:
;3560:	if (ent->client->ps.torsoTimer)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 80
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1559
line 3561
;3561:		return;
ADDRGP4 $1554
JUMPV
LABELV $1559
line 3564
;3562:
;3563:	// if greater then 3 or smaller 1 default to 1
;3564:	if ( i > 3 || i < 1 )
ADDRLP4 0
INDIRI4
CNSTI4 3
GTI4 $1563
ADDRLP4 0
INDIRI4
CNSTI4 1
GEI4 $1561
LABELV $1563
line 3565
;3565:		i = 1;
ADDRLP4 0
CNSTI4 1
ASGNI4
LABELV $1561
line 3567
;3566:
;3567:	switch (i) {
ADDRLP4 0
INDIRI4
CNSTI4 1
EQI4 $1566
ADDRLP4 0
INDIRI4
CNSTI4 2
EQI4 $1568
ADDRLP4 0
INDIRI4
CNSTI4 3
EQI4 $1570
ADDRGP4 $1564
JUMPV
LABELV $1566
line 3569
;3568:		case 1:
;3569:			anim = "Point";
ADDRLP4 1028
ADDRGP4 $1567
ASGNP4
line 3570
;3570:			anm = TORSO_GESTURE1;
ADDRLP4 1032
CNSTI4 14
ASGNI4
line 3571
;3571:			break;
ADDRGP4 $1565
JUMPV
LABELV $1568
line 3573
;3572:		case 2:
;3573:			anim = "Fist";
ADDRLP4 1028
ADDRGP4 $1569
ASGNP4
line 3574
;3574:			anm = TORSO_GESTURE2;
ADDRLP4 1032
CNSTI4 15
ASGNI4
line 3575
;3575:			break;
ADDRGP4 $1565
JUMPV
LABELV $1570
line 3577
;3576:		case 3:
;3577:			anim = "Wave";
ADDRLP4 1028
ADDRGP4 $1571
ASGNP4
line 3578
;3578:			anm = TORSO_GESTURE3;
ADDRLP4 1032
CNSTI4 16
ASGNI4
line 3579
;3579:			break;
LABELV $1564
LABELV $1565
line 3582
;3580:	}
;3581:
;3582:	PrintMsg( ent, "%s\n", anim );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1572
ARGP4
ADDRLP4 1028
INDIRP4
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 3584
;3583:
;3584:	NS_PlayerAnimation( ent, anm, 1500, qfalse );
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 1032
INDIRI4
ARGI4
CNSTI4 1500
ARGI4
CNSTI4 0
ARGI4
ADDRGP4 NS_PlayerAnimation
CALLV
pop
line 3587
;3585:
;3586:	
;3587:}
LABELV $1554
endproc NS_Gesture 1048 16
export NS_GestureForNumber
proc NS_GestureForNumber 16 16
line 3598
;3588:
;3589:/*
;3590:=================
;3591:NSQ3 Gesture
;3592:author: Defcon-X
;3593:date: 24-08-2000
;3594:description: stars gesture animations (point/fist/wave)
;3595:================= 
;3596:*/
;3597:void NS_GestureForNumber( gentity_t *ent , int i )
;3598:{
line 3599
;3599:	char	*anim = "wrong";
ADDRLP4 0
ADDRGP4 $1555
ASGNP4
line 3600
;3600:	int		anm = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 3602
;3601: 
;3602:	if (!i) {
ADDRFP4 4
INDIRI4
CNSTI4 0
NEI4 $1574
line 3603
;3603:		PrintMsg( ent, "Usage:\ncmd Gesture <1/2/3>\n");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1558
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 3604
;3604:		return;
ADDRGP4 $1573
JUMPV
LABELV $1574
line 3607
;3605:	}
;3606:
;3607:	if (ent->client->ps.torsoTimer)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 80
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1576
line 3608
;3608:		return;
ADDRGP4 $1573
JUMPV
LABELV $1576
line 3611
;3609:
;3610:	// if greater then 3 or smaller 1 default to 1
;3611:	if ( i > 3 || i < 1 )
ADDRLP4 8
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 3
GTI4 $1580
ADDRLP4 8
INDIRI4
CNSTI4 1
GEI4 $1578
LABELV $1580
line 3612
;3612:		i = 1;
ADDRFP4 4
CNSTI4 1
ASGNI4
LABELV $1578
line 3614
;3613:
;3614:	switch (i) {
ADDRLP4 12
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 1
EQI4 $1583
ADDRLP4 12
INDIRI4
CNSTI4 2
EQI4 $1584
ADDRLP4 12
INDIRI4
CNSTI4 3
EQI4 $1585
ADDRGP4 $1581
JUMPV
LABELV $1583
line 3616
;3615:		case 1:
;3616:			anim = "Point";
ADDRLP4 0
ADDRGP4 $1567
ASGNP4
line 3617
;3617:			anm = TORSO_GESTURE1;
ADDRLP4 4
CNSTI4 14
ASGNI4
line 3618
;3618:			break;
ADDRGP4 $1582
JUMPV
LABELV $1584
line 3620
;3619:		case 2:
;3620:			anim = "Fist";
ADDRLP4 0
ADDRGP4 $1569
ASGNP4
line 3621
;3621:			anm = TORSO_GESTURE2;
ADDRLP4 4
CNSTI4 15
ASGNI4
line 3622
;3622:			break;
ADDRGP4 $1582
JUMPV
LABELV $1585
line 3624
;3623:		case 3:
;3624:			anim = "Wave";
ADDRLP4 0
ADDRGP4 $1571
ASGNP4
line 3625
;3625:			anm = TORSO_GESTURE3;
ADDRLP4 4
CNSTI4 16
ASGNI4
line 3626
;3626:			break;
LABELV $1581
LABELV $1582
line 3629
;3627:	}
;3628:
;3629:	PrintMsg( ent, "%s\n", anim );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1572
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 PrintMsg
CALLV
pop
line 3631
;3630:
;3631:	NS_PlayerAnimation( ent, anm, 1500, qfalse );
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 4
INDIRI4
ARGI4
CNSTI4 1500
ARGI4
CNSTI4 0
ARGI4
ADDRGP4 NS_PlayerAnimation
CALLV
pop
line 3634
;3632:
;3633:	
;3634:}
LABELV $1573
endproc NS_GestureForNumber 16 16
export CenterPrintAll
proc CenterPrintAll 12 8
line 3646
;3635:
;3636:/*
;3637:=================
;3638:CenterPrintAll
;3639:
;3640:author: Defcon-X
;3641:date: 5-03-2001
;3642:description: prints a string to all clients
;3643:================= 
;3644:*/
;3645:void CenterPrintAll(char *message)
;3646:{
line 3651
;3647:	int i;
;3648:	gentity_t *ent;
;3649:
;3650:
;3651:	for (i = 0; i < g_maxclients.integer; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1590
JUMPV
LABELV $1587
line 3652
;3652:		ent = g_entities + i;
ADDRLP4 4
CNSTI4 1100
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 3654
;3653:		
;3654:		trap_SendServerCommand( ent->client->ps.clientNum, va("cp \"%s\"", message ));
ADDRGP4 $1592
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 8
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 4
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
ARGI4
ADDRLP4 8
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 3655
;3655:	}
LABELV $1588
line 3651
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1590
ADDRLP4 0
INDIRI4
ADDRGP4 g_maxclients+12
INDIRI4
LTI4 $1587
line 3656
;3656:}
LABELV $1586
endproc CenterPrintAll 12 8
export NS_PlayerAnimation
proc NS_PlayerAnimation 8 4
line 3666
;3657:/*
;3658:=================
;3659:NSQ3 Player Anim
;3660:author: Defcon-X
;3661:date: 24-08-2000
;3662:description: handles player animations (point/fist/wave)
;3663:================= 
;3664:*/
;3665:void NS_PlayerAnimation(gentity_t *ent, int anim, int timer, qboolean legs )
;3666:{
line 3667
;3667:	if (!anim)
ADDRFP4 4
INDIRI4
CNSTI4 0
NEI4 $1594
line 3668
;3668:		G_Error("Called: NS_PlayerAnim without animation given");
ADDRGP4 $1596
ARGP4
ADDRGP4 G_Error
CALLV
pop
LABELV $1594
line 3670
;3669:
;3670:	if (legs) {
ADDRFP4 12
INDIRI4
CNSTI4 0
EQI4 $1597
line 3671
;3671:		ent->client->ps.legsAnim = ( ( ent->client->ps.torsoAnim & ANIM_TOGGLEBIT ) ^ ANIM_TOGGLEBIT ) | anim;
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 4
CNSTI4 128
ASGNI4
ADDRLP4 0
INDIRP4
CNSTI4 76
ADDP4
ADDRLP4 0
INDIRP4
CNSTI4 84
ADDP4
INDIRI4
ADDRLP4 4
INDIRI4
BANDI4
ADDRLP4 4
INDIRI4
BXORI4
ADDRFP4 4
INDIRI4
BORI4
ASGNI4
line 3672
;3672:		ent->client->ps.legsTimer = timer;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 72
ADDP4
ADDRFP4 8
INDIRI4
ASGNI4
line 3673
;3673:		return;
ADDRGP4 $1593
JUMPV
LABELV $1597
line 3676
;3674:	}
;3675:
;3676:	ent->client->ps.torsoAnim = ( ( ent->client->ps.torsoAnim & ANIM_TOGGLEBIT ) ^ ANIM_TOGGLEBIT )	| anim;	
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 84
ADDP4
ASGNP4
ADDRLP4 4
CNSTI4 128
ASGNI4
ADDRLP4 0
INDIRP4
ADDRLP4 0
INDIRP4
INDIRI4
ADDRLP4 4
INDIRI4
BANDI4
ADDRLP4 4
INDIRI4
BXORI4
ADDRFP4 4
INDIRI4
BORI4
ASGNI4
line 3677
;3677:	ent->client->ps.torsoTimer = timer;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 80
ADDP4
ADDRFP4 8
INDIRI4
ASGNI4
line 3678
;3678:}
LABELV $1593
endproc NS_PlayerAnimation 8 4
export NS_MaximumWeaponRange
proc NS_MaximumWeaponRange 20 4
line 3688
;3679:/*
;3680:=================
;3681:NSQ3 MaximumWeaponRange
;3682:author: Defcon-X
;3683:date: 24-03-2001
;3684:description: calculates damage , based on range, input: hitpoint, endpoint, damage out: damage
;3685:================
;3686:*/
;3687:float NS_MaximumWeaponRange( int weapon )
;3688:{
line 3693
;3689:	gitem_t *it_weapon;
;3690:	int ammotype;
;3691:	float range;
;3692:
;3693:	if ( !weapon )
ADDRFP4 0
INDIRI4
CNSTI4 0
NEI4 $1600
line 3694
;3694:		return -1;	
CNSTF4 3212836864
RETF4
ADDRGP4 $1599
JUMPV
LABELV $1600
line 3696
;3695:
;3696:	it_weapon = BG_FindItemForWeapon( weapon );
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 BG_FindItemForWeapon
CALLP4
ASGNP4
ADDRLP4 8
ADDRLP4 12
INDIRP4
ASGNP4
line 3698
;3697:
;3698:	ammotype = it_weapon->giAmmoTag;
ADDRLP4 4
ADDRLP4 8
INDIRP4
CNSTI4 44
ADDP4
INDIRI4
ASGNI4
line 3700
;3699:
;3700:	switch ( ammotype ) 
ADDRLP4 16
ADDRLP4 4
INDIRI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
LTI4 $1602
ADDRLP4 16
INDIRI4
CNSTI4 13
GTI4 $1602
ADDRLP4 16
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1618
ADDP4
INDIRP4
JUMPV
lit
align 4
LABELV $1618
address $1604
address $1605
address $1606
address $1607
address $1608
address $1609
address $1613
address $1610
address $1611
address $1612
address $1614
address $1615
address $1616
address $1617
code
line 3701
;3701:	{
LABELV $1604
line 3705
;3702:
;3703:		// pistols
;3704:	case AM_9MM_PISTOL:
;3705:		range = 3200;
ADDRLP4 0
CNSTF4 1162346496
ASGNF4
line 3706
;3706:		break;
ADDRGP4 $1603
JUMPV
LABELV $1605
line 3708
;3707:	case AM_45CAL_PISTOL:
;3708:		range = 2880;
ADDRLP4 0
CNSTF4 1161035776
ASGNF4
line 3709
;3709:		break;
ADDRGP4 $1603
JUMPV
LABELV $1606
line 3711
;3710:	case AM_40CAL_PISTOL:
;3711:		range = 3200;
ADDRLP4 0
CNSTF4 1162346496
ASGNF4
line 3712
;3712:		break;
ADDRGP4 $1603
JUMPV
LABELV $1607
line 3714
;3713:	case AM_50CAL_PISTOL:
;3714:		range = 2880;
ADDRLP4 0
CNSTF4 1161035776
ASGNF4
line 3715
;3715:		break;
ADDRGP4 $1603
JUMPV
LABELV $1608
line 3717
;3716:	case AM_44CAL_PISTOL:
;3717:		range = 3840;
ADDRLP4 0
CNSTF4 1164967936
ASGNF4
line 3718
;3718:		break;
ADDRGP4 $1603
JUMPV
LABELV $1609
line 3722
;3719:
;3720:		// others
;3721:	case AM_46MM:
;3722:		range = 6400;
ADDRLP4 0
CNSTF4 1170735104
ASGNF4
line 3723
;3723:		break;
ADDRGP4 $1603
JUMPV
LABELV $1610
line 3725
;3724:	case AM_9MM:
;3725:		range = 4800;
ADDRLP4 0
CNSTF4 1167458304
ASGNF4
line 3726
;3726:		break;
ADDRGP4 $1603
JUMPV
LABELV $1611
line 3728
;3727:	case AM_556MM:
;3728:		range = 12800;
ADDRLP4 0
CNSTF4 1179123712
ASGNF4
line 3729
;3729:		break;
ADDRGP4 $1603
JUMPV
LABELV $1612
line 3731
;3730:	case AM_762MM:
;3731:		range = 19200;
ADDRLP4 0
CNSTF4 1184235520
ASGNF4
line 3732
;3732:		break;
ADDRGP4 $1603
JUMPV
LABELV $1613
line 3734
;3733:	case AM_45CAL:
;3734:		range = 3200;
ADDRLP4 0
CNSTF4 1162346496
ASGNF4
line 3735
;3735:		break;
ADDRGP4 $1603
JUMPV
LABELV $1614
line 3737
;3736:	case AM_50CAL:
;3737:		range = 64000;
ADDRLP4 0
CNSTF4 1199177728
ASGNF4
line 3738
;3738:		break;
ADDRGP4 $1603
JUMPV
LABELV $1615
line 3740
;3739:	case AM_M257:
;3740:		range = 2240;
ADDRLP4 0
CNSTF4 1158414336
ASGNF4
line 3741
;3741:		break;
ADDRGP4 $1603
JUMPV
LABELV $1616
line 3743
;3742:	case AM_XM162:
;3743:		range = 3200;
ADDRLP4 0
CNSTF4 1162346496
ASGNF4
line 3744
;3744:		break;
ADDRGP4 $1603
JUMPV
LABELV $1617
line 3746
;3745:	case AM_FLECHETS:
;3746:		range = 6400;
ADDRLP4 0
CNSTF4 1170735104
ASGNF4
line 3747
;3747:		break;
ADDRGP4 $1603
JUMPV
LABELV $1602
line 3749
;3748:	default:
;3749:		range = -1;
ADDRLP4 0
CNSTF4 3212836864
ASGNF4
line 3750
;3750:		break;
LABELV $1603
line 3753
;3751:	}
;3752:	
;3753:	return range;
ADDRLP4 0
INDIRF4
RETF4
LABELV $1599
endproc NS_MaximumWeaponRange 20 4
export NS_CalcDamageOnRange
proc NS_CalcDamageOnRange 48 8
line 3781
;3754:	/*  
;3755:		- 9mm Pistole/Revolver		100		3200
;3756:		- .45 Pistole/Revolver		90		2880
;3757:		- .40 Pistole/Revolver		100		3200
;3758:		- .50 Pistole/Revolver 		90		2880
;3759:		- .44 Pistole/Revolver 		120		3840
;3760:		- 4.6mm normal				200		6400
;3761:		- 9mm normal				125		4000
;3762:		- 5,56mm normal				400		12800
;3763:		- 7,62mm normal				600		19200	
;3764:		- .45mm normal				100		3200
;3765:		- .50 normal				2000	64000
;3766:		- M257 shotgun		  		150		4800
;3767:		- XM162 shotgun				80		2560	
;3768:		- flechets shotgun			200		6400
;3769:
;3770:    */
;3771:}
;3772:/*
;3773:=================
;3774:NSQ3 CalcDamageOnRange
;3775:author: Defcon-X
;3776:date: 24-03-2001
;3777:description: calculates damage , based on range, input: hitpoint, endpoint, damage out: damage
;3778:================= 
;3779:*/
;3780:int NS_CalcDamageOnRange(vec3_t start, vec3_t end, int damage, int attackerweapon )
;3781:{
line 3784
;3782:	float distance;
;3783:	double newdamage;
;3784:	float	maxrange = NS_MaximumWeaponRange( attackerweapon ) / 32;
ADDRFP4 12
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 NS_MaximumWeaponRange
CALLF4
ASGNF4
ADDRLP4 4
ADDRLP4 12
INDIRF4
CNSTF4 1107296256
DIVF4
ASGNF4
line 3786
;3785:
;3786:	if (!start || !end) {
ADDRLP4 16
CNSTU4 0
ASGNU4
ADDRFP4 0
INDIRP4
CVPU4 4
ADDRLP4 16
INDIRU4
EQU4 $1622
ADDRFP4 4
INDIRP4
CVPU4 4
ADDRLP4 16
INDIRU4
NEU4 $1620
LABELV $1622
line 3788
;3787://		G_Printf("Called: NS_CalcDamageOnRange without start/end point");
;3788:		return damage; // return normal damage value
ADDRFP4 8
INDIRI4
RETI4
ADDRGP4 $1619
JUMPV
LABELV $1620
line 3792
;3789:	}
;3790:
;3791:	// get distance based on qu(quake units)
;3792:	distance = Distance( start, end );
ADDRFP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 20
ADDRGP4 Distance
CALLF4
ASGNF4
ADDRLP4 0
ADDRLP4 20
INDIRF4
ASGNF4
line 3796
;3793://	G_Printf("Distance: %f QU , ", distance );
;3794:
;3795:	// calculate into meteric units
;3796:	distance = distance / 32;
ADDRLP4 0
ADDRLP4 0
INDIRF4
CNSTF4 1107296256
DIVF4
ASGNF4
line 3799
;3797://	G_Printf(" %f M, ", distance ); 
;3798://#ifdef WIN32
;3799:	newdamage = sqrt( powl( (maxrange*maxrange-distance*distance) , ( log( damage ) / log ( maxrange ) ) ) );
ADDRFP4 8
INDIRI4
ARGI4
ADDRLP4 24
ADDRGP4 log
CALLI4
ASGNI4
ADDRLP4 4
INDIRF4
ARGF4
ADDRLP4 28
ADDRGP4 log
CALLI4
ASGNI4
ADDRLP4 4
INDIRF4
ADDRLP4 4
INDIRF4
MULF4
ADDRLP4 0
INDIRF4
ADDRLP4 0
INDIRF4
MULF4
SUBF4
ARGF4
ADDRLP4 24
INDIRI4
ADDRLP4 28
INDIRI4
DIVI4
ARGI4
ADDRLP4 40
ADDRGP4 powl
CALLI4
ASGNI4
ADDRLP4 40
INDIRI4
CVIF4 4
ARGF4
ADDRLP4 44
ADDRGP4 sqrt
CALLF4
ASGNF4
ADDRLP4 8
ADDRLP4 44
INDIRF4
ASGNF4
line 3800
;3800:	return newdamage;
ADDRLP4 8
INDIRF4
CVFI4 4
RETI4
LABELV $1619
endproc NS_CalcDamageOnRange 48 8
export NS_AdjustClientVWeap
proc NS_AdjustClientVWeap 24 0
line 3828
;3801:/*#else
;3802:	return damage;
;3803:#endif
;3804://	newdamage = sqrt( (maxrange*maxrange-distance*distance) / ( log( damage ) / log ( maxrange ) ) )/20;
;3805:
;3806://	G_Printf(" Damage: %i old %f new\n", damage, newdamage );
;3807:
;3808:	
;3809:/*
;3810:	a = maximale reichweite [m]
;3811:	b = normaler schaden (grundschaden bei reichweite = 0)
;3812:	x = tatschliche reichweite [m]
;3813:	y = tatschlicher schaden
;3814:	
;3815:*/
;3816: 
;3817:}
;3818: 
;3819:/*
;3820:=================
;3821:NSQ3 Adjusts Client Visible Weapon
;3822:author: Defcon-X
;3823:date: 24-03-2001
;3824:description: sets correct powerups for weapon equipments and sets correct weaponmode in ps>stats[]
;3825:================= 
;3826:*/ 
;3827:void NS_AdjustClientVWeap( gentity_t *ent )
;3828:{
line 3829
;3829:	if (!ent)
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1624
line 3830
;3830:		return;
ADDRGP4 $1623
JUMPV
LABELV $1624
line 3831
;3831:	if (!ent->client)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1626
line 3832
;3832:		return;
ADDRGP4 $1623
JUMPV
LABELV $1626
line 3833
;3833:	if (ent->client->sess.waiting)
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1628
line 3834
;3834:		return;
ADDRGP4 $1623
JUMPV
LABELV $1628
line 3837
;3835:	
;3836:	// weapon got a laser
;3837:	if ( ent->client->ns.weaponmode[ent->s.weapon] & ( 1 << WM_LASER ) ) // tell clients
ADDRLP4 0
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 16
BANDI4
CNSTI4 0
EQI4 $1630
line 3838
;3838:	{
line 3839
;3839:		if (!ent->client->ps.powerups[PW_LASERSIGHT])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 352
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1631
line 3840
;3840:			ent->client->ps.powerups[PW_LASERSIGHT] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 352
ADDP4
CNSTI4 1
ASGNI4
line 3841
;3841:	}
ADDRGP4 $1631
JUMPV
LABELV $1630
line 3842
;3842:	else if (ent->client->ps.powerups[PW_LASERSIGHT])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 352
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1634
line 3843
;3843:		ent->client->ps.powerups[PW_LASERSIGHT] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 352
ADDP4
CNSTI4 0
ASGNI4
LABELV $1634
LABELV $1631
line 3845
;3844:	// weapon got m203/bg15 gl
;3845:	if ( ent->client->ns.weaponmode[ent->s.weapon] & ( 1 << WM_GRENADELAUNCHER ) )// tell clients
ADDRLP4 4
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 4
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 4
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 512
BANDI4
CNSTI4 0
EQI4 $1636
line 3846
;3846:	{
line 3847
;3847:		if (!ent->client->ps.powerups[PW_M203GL])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 320
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1637
line 3848
;3848:			ent->client->ps.powerups[PW_M203GL] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 320
ADDP4
CNSTI4 1
ASGNI4
line 3849
;3849:	}
ADDRGP4 $1637
JUMPV
LABELV $1636
line 3850
;3850:	else if (ent->client->ps.powerups[PW_M203GL])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 320
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1640
line 3851
;3851:		ent->client->ps.powerups[PW_M203GL] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 320
ADDP4
CNSTI4 0
ASGNI4
LABELV $1640
LABELV $1637
line 3853
;3852:	// weapon got a scope
;3853:	if ( ent->client->ns.weaponmode[ent->s.weapon] & ( 1 << WM_SCOPE ) )// tell clients
ADDRLP4 8
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 8
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $1642
line 3854
;3854:	{
line 3855
;3855:		if (!ent->client->ps.powerups[PW_SCOPE])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 316
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1643
line 3856
;3856:			ent->client->ps.powerups[PW_SCOPE] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 316
ADDP4
CNSTI4 1
ASGNI4
line 3857
;3857:	}
ADDRGP4 $1643
JUMPV
LABELV $1642
line 3858
;3858:	else if (ent->client->ps.powerups[PW_SCOPE])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 316
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1646
line 3859
;3859:		ent->client->ps.powerups[PW_SCOPE] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 316
ADDP4
CNSTI4 0
ASGNI4
LABELV $1646
LABELV $1643
line 3861
;3860:
;3861:	if ( ent->client->ns.weaponmode[ent->s.weapon] & ( 1 << WM_DUCKBILL ) )// tell clients
ADDRLP4 12
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 12
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 12
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 128
BANDI4
CNSTI4 0
EQI4 $1648
line 3862
;3862:	{
line 3863
;3863:		if (!ent->client->ps.powerups[PW_DUCKBILL])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 332
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1649
line 3864
;3864:			ent->client->ps.powerups[PW_DUCKBILL] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 332
ADDP4
CNSTI4 1
ASGNI4
line 3865
;3865:	}
ADDRGP4 $1649
JUMPV
LABELV $1648
line 3866
;3866:	else if (ent->client->ps.powerups[PW_DUCKBILL])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 332
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1652
line 3867
;3867:		ent->client->ps.powerups[PW_DUCKBILL] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 332
ADDP4
CNSTI4 0
ASGNI4
LABELV $1652
LABELV $1649
line 3869
;3868:
;3869:	if ( ent->client->ns.weaponmode[ent->s.weapon] & ( 1 << WM_FLASHLIGHT ) )// tell clients
ADDRLP4 16
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 16
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 16
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 256
BANDI4
CNSTI4 0
EQI4 $1654
line 3870
;3870:	{
line 3871
;3871:		if (!ent->client->ps.powerups[PW_FLASHLIGHT])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 328
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1655
line 3872
;3872:			ent->client->ps.powerups[PW_FLASHLIGHT] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 328
ADDP4
CNSTI4 1
ASGNI4
line 3873
;3873:	}
ADDRGP4 $1655
JUMPV
LABELV $1654
line 3874
;3874:	else if (ent->client->ps.powerups[PW_FLASHLIGHT])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 328
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1658
line 3875
;3875:		ent->client->ps.powerups[PW_FLASHLIGHT] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 328
ADDP4
CNSTI4 0
ASGNI4
LABELV $1658
LABELV $1655
line 3877
;3876:	
;3877:	if ( ent->client->ns.weaponmode[ent->s.weapon] & ( 1 << WM_BAYONET ) )// tell clients
ADDRLP4 20
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 20
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 20
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 2804
ADDP4
ADDP4
INDIRI4
CNSTI4 1024
BANDI4
CNSTI4 0
EQI4 $1660
line 3878
;3878:	{
line 3879
;3879:		if (!ent->client->ps.powerups[PW_BAYONET])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 324
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1661
line 3880
;3880:			ent->client->ps.powerups[PW_BAYONET] = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 324
ADDP4
CNSTI4 1
ASGNI4
line 3881
;3881:	}
ADDRGP4 $1661
JUMPV
LABELV $1660
line 3882
;3882:	else if (ent->client->ps.powerups[PW_BAYONET])
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 324
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1664
line 3883
;3883:		ent->client->ps.powerups[PW_BAYONET] = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 324
ADDP4
CNSTI4 0
ASGNI4
LABELV $1664
LABELV $1661
line 3885
;3884:
;3885:}
LABELV $1623
endproc NS_AdjustClientVWeap 24 0
export NS_BackupWeaponAim
proc NS_BackupWeaponAim 44 4
line 3896
;3886:
;3887:/*
;3888:=================
;3889:NSQ3 Backup Weapon Aim
;3890:author: Defcon-X
;3891:date: 13-05-2001
;3892:description: saves current delta pitch for weapon aiming corrections
;3893:================= 
;3894:*/ 
;3895:void NS_BackupWeaponAim( gentity_t *ent )
;3896:{
line 3899
;3897:	int i;
;3898:
;3899:	if ( ent->client->weaponangle_changed[0] || ent->client->weaponangle_changed[1] || 
ADDRLP4 4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 8
CNSTI4 0
ASGNI4
ADDRLP4 4
INDIRP4
CNSTI4 4744
ADDP4
INDIRI4
ADDRLP4 8
INDIRI4
NEI4 $1670
ADDRLP4 4
INDIRP4
CNSTI4 4748
ADDP4
INDIRI4
ADDRLP4 8
INDIRI4
NEI4 $1670
ADDRLP4 4
INDIRP4
CNSTI4 4752
ADDP4
INDIRI4
ADDRLP4 8
INDIRI4
EQI4 $1667
LABELV $1670
line 3901
;3900:		ent->client->weaponangle_changed[2] )
;3901:		ent->client->weaponshots++;
ADDRLP4 12
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4768
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1667
line 3904
;3902:
;3903:	if ( 
;3904:			(
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 16
ADDRGP4 BG_IsPistol
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
NEI4 $1675
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 BG_IsSMG
CALLI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 0
NEI4 $1675
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
ARGI4
ADDRLP4 24
ADDRGP4 BG_IsRifle
CALLI4
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 0
NEI4 $1675
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
CNSTI4 18
NEI4 $1671
LABELV $1675
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
CNSTI4 17
EQI4 $1671
line 3913
;3905:				BG_IsPistol( ent->client->ps.weapon ) || 
;3906:				BG_IsSMG( ent->client->ps.weapon ) ||
;3907:				BG_IsRifle( ent->client->ps.weapon ) || 
;3908:				ent->client->ps.weapon == WP_MACMILLAN 
;3909:			) 
;3910:			&& 
;3911:				ent->client->ps.weapon != WP_PSG1
;3912:		)
;3913:		for ( i = 0;i<3;i++)
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $1676
line 3914
;3914:		{
line 3915
;3915:			if (ent->client->weaponangle_changed[i]) { 
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4744
ADDP4
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1680
line 3916
;3916:				continue;
ADDRGP4 $1677
JUMPV
LABELV $1680
line 3919
;3917:			}
;3918:
;3919:			if ( !ent->client->weaponangle_changed[0] &&
ADDRLP4 28
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 32
CNSTI4 0
ASGNI4
ADDRLP4 28
INDIRP4
CNSTI4 4744
ADDP4
INDIRI4
ADDRLP4 32
INDIRI4
NEI4 $1682
ADDRLP4 28
INDIRP4
CNSTI4 4748
ADDP4
INDIRI4
ADDRLP4 32
INDIRI4
NEI4 $1682
ADDRLP4 28
INDIRP4
CNSTI4 4752
ADDP4
INDIRI4
ADDRLP4 32
INDIRI4
NEI4 $1682
line 3922
;3920:				!ent->client->weaponangle_changed[1] &&
;3921:				!ent->client->weaponangle_changed[2] )
;3922:				ent->client->weaponshots = 1;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4768
ADDP4
CNSTI4 1
ASGNI4
LABELV $1682
line 3924
;3923:
;3924:			ent->client->weaponangle_changed[i] = qtrue;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4744
ADDP4
ADDP4
CNSTI4 1
ASGNI4
line 3925
;3925:			ent->client->weaponangle[i] = ent->client->ps.delta_angles[i]; 			
ADDRLP4 36
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 40
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 36
INDIRI4
ADDRLP4 40
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
ADDRLP4 36
INDIRI4
ADDRLP4 40
INDIRP4
CNSTI4 56
ADDP4
ADDP4
INDIRI4
ASGNI4
line 3926
;3926:		}
LABELV $1677
line 3913
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 3
LTI4 $1676
LABELV $1671
line 3928
;3927:
;3928:}
LABELV $1666
endproc NS_BackupWeaponAim 44 4
export NS_CorrectWeaponAim
proc NS_CorrectWeaponAim 72 4
line 3942
;3929:
;3930:#define WS_NONE 0
;3931:#define WS_UP	1
;3932:#define WS_DOWN	2
;3933:/*
;3934:=================
;3935:NSQ3 Correct Weapon Aim
;3936:author: Defcon-X
;3937:date: 13-05-2001
;3938:description: corrects current deltapitch
;3939:================= 
;3940:*/ 
;3941:void NS_CorrectWeaponAim( gentity_t *ent )
;3942:{ 
line 3944
;3943:	int i;  
;3944:	int aimcorrect = g_aimCorrect.integer;
ADDRLP4 4
ADDRGP4 g_aimCorrect+12
INDIRI4
ASGNI4
line 3945
;3945:	int	max_shoots = 5;
ADDRLP4 8
CNSTI4 5
ASGNI4
line 3948
;3946:
;3947:	// set the speed the player corrects it's weapon and the maxshoots value
;3948:	if ( BG_IsRifle( ent->s.weapon ) || BG_IsShotgun( ent->s.weapon ) )
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 BG_IsRifle
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 0
NEI4 $1688
ADDRFP4 0
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
ARGI4
ADDRLP4 16
ADDRGP4 BG_IsShotgun
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
EQI4 $1686
LABELV $1688
line 3949
;3949:	{
line 3950
;3950:		aimcorrect = 15;
ADDRLP4 4
CNSTI4 15
ASGNI4
line 3951
;3951:		max_shoots = 3;
ADDRLP4 8
CNSTI4 3
ASGNI4
line 3952
;3952:	}
LABELV $1686
line 3956
;3953:
;3954:	//
;3955:	// if no angle change reset the current shotcount and quit
;3956:	if ( !ent->client->weaponangle_changed[0] &&
ADDRLP4 20
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 24
CNSTI4 0
ASGNI4
ADDRLP4 20
INDIRP4
CNSTI4 4744
ADDP4
INDIRI4
ADDRLP4 24
INDIRI4
NEI4 $1689
ADDRLP4 20
INDIRP4
CNSTI4 4748
ADDP4
INDIRI4
ADDRLP4 24
INDIRI4
NEI4 $1689
ADDRLP4 20
INDIRP4
CNSTI4 4752
ADDP4
INDIRI4
ADDRLP4 24
INDIRI4
NEI4 $1689
line 3959
;3957:		!ent->client->weaponangle_changed[1] &&
;3958:		!ent->client->weaponangle_changed[2] )
;3959:	{
line 3960
;3960:		ent->client->weaponshots = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4768
ADDP4
CNSTI4 0
ASGNI4
line 3961
;3961:		return;
ADDRGP4 $1684
JUMPV
LABELV $1689
line 3966
;3962:	}
;3963:
;3964:	//
;3965:	// if our gun is empty or we're past our maxshoots value , stop correcting to our org aim
;3966:	if ( ent->client->ns.rounds[ ent->s.weapon ] <= 0 || ent->client->weaponshots > max_shoots )
ADDRLP4 28
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 32
ADDRLP4 28
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 28
INDIRP4
CNSTI4 192
ADDP4
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 32
INDIRP4
CNSTI4 2528
ADDP4
ADDP4
INDIRI4
CNSTI4 0
LEI4 $1693
ADDRLP4 32
INDIRP4
CNSTI4 4768
ADDP4
INDIRI4
ADDRLP4 8
INDIRI4
LEI4 $1691
LABELV $1693
line 3967
;3967:	{
line 3968
;3968:		for ( i = 0; i < 3; i++ )
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $1694
line 3969
;3969:		{
line 3970
;3970:			ent->client->weaponangle_changed[i] = qfalse;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4744
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 3971
;3971:		}
LABELV $1695
line 3968
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 3
LTI4 $1694
line 3972
;3972:		return;
ADDRGP4 $1684
JUMPV
LABELV $1691
line 3976
;3973:	}
;3974:
;3975:	// correct aim
;3976:	for ( i=0; i < 3; i++ )
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $1698
line 3977
;3977:	{
line 3978
;3978:		if (!ent->client->weaponangle_changed[i])
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4744
ADDP4
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1702
line 3979
;3979:			continue;
ADDRGP4 $1699
JUMPV
LABELV $1702
line 3981
;3980:
;3981:		if ( ent->client->weaponanglestate[i] != WS_UP && ent->client->weaponanglestate[i] != WS_DOWN )
ADDRLP4 36
CNSTI4 2
ASGNI4
ADDRLP4 40
ADDRLP4 0
INDIRI4
ADDRLP4 36
INDIRI4
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
INDIRI4
ASGNI4
ADDRLP4 40
INDIRI4
CNSTI4 1
EQI4 $1704
ADDRLP4 40
INDIRI4
ADDRLP4 36
INDIRI4
EQI4 $1704
line 3982
;3982:		{
line 3983
;3983:			if ( ent->client->weaponangle[i] > ent->client->ps.delta_angles[i] )
ADDRLP4 44
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 48
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 44
INDIRI4
ADDRLP4 48
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
ADDRLP4 44
INDIRI4
ADDRLP4 48
INDIRP4
CNSTI4 56
ADDP4
ADDP4
INDIRI4
LEI4 $1706
line 3984
;3984:				ent->client->weaponanglestate[i] = WS_UP;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
CNSTI4 1
ASGNI4
ADDRGP4 $1705
JUMPV
LABELV $1706
line 3985
;3985:			else if ( ent->client->weaponangle[i] < ent->client->ps.delta_angles[i] )
ADDRLP4 52
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 56
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 52
INDIRI4
ADDRLP4 56
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
ADDRLP4 52
INDIRI4
ADDRLP4 56
INDIRP4
CNSTI4 56
ADDP4
ADDP4
INDIRI4
GEI4 $1708
line 3986
;3986:				ent->client->weaponanglestate[i] = WS_DOWN;
ADDRLP4 60
CNSTI4 2
ASGNI4
ADDRLP4 0
INDIRI4
ADDRLP4 60
INDIRI4
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
ADDRLP4 60
INDIRI4
ASGNI4
ADDRGP4 $1705
JUMPV
LABELV $1708
line 3988
;3987:			else
;3988:			{
line 3989
;3989:				ent->client->weaponangle_changed[i] = qfalse;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4744
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 3990
;3990:				ent->client->weaponanglestate[i] = 0;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 3991
;3991:				continue;
ADDRGP4 $1699
JUMPV
line 3993
;3992:			}
;3993:		}
LABELV $1704
line 3995
;3994:		else
;3995:		{ 
line 3996
;3996:			if ( ent->client->weaponanglestate[i] == WS_DOWN )
ADDRLP4 44
CNSTI4 2
ASGNI4
ADDRLP4 0
INDIRI4
ADDRLP4 44
INDIRI4
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
INDIRI4
ADDRLP4 44
INDIRI4
NEI4 $1710
line 3997
;3997:			{
line 3998
;3998:				if ( ent->client->ps.delta_angles[i] <  ent->client->weaponangle[i] )  {
ADDRLP4 48
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 52
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 48
INDIRI4
ADDRLP4 52
INDIRP4
CNSTI4 56
ADDP4
ADDP4
INDIRI4
ADDRLP4 48
INDIRI4
ADDRLP4 52
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
GEI4 $1712
line 3999
;3999:					if ( ent->client->ps.delta_angles[i] < ent->client->weaponangle[i] - g_aimCorrect.integer )
ADDRLP4 56
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 60
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 56
INDIRI4
ADDRLP4 60
INDIRP4
CNSTI4 56
ADDP4
ADDP4
INDIRI4
ADDRLP4 56
INDIRI4
ADDRLP4 60
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
ADDRGP4 g_aimCorrect+12
INDIRI4
SUBI4
GEI4 $1714
line 4000
;4000:					{
line 4001
;4001:						ent->client->weaponanglestate[i] = WS_UP; 
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
CNSTI4 1
ASGNI4
line 4002
;4002:					}
ADDRGP4 $1715
JUMPV
LABELV $1714
line 4004
;4003:					else
;4004:					{
line 4005
;4005:						ent->client->weaponangle_changed[i] = qfalse;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4744
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 4006
;4006:						ent->client->ps.delta_angles[i] = ent->client->weaponangle[i];
ADDRLP4 64
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 64
INDIRI4
ADDRLP4 68
INDIRP4
CNSTI4 56
ADDP4
ADDP4
ADDRLP4 64
INDIRI4
ADDRLP4 68
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
ASGNI4
line 4007
;4007:						ent->client->weaponanglestate[i] = 0;						
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 4008
;4008:						continue;
ADDRGP4 $1699
JUMPV
LABELV $1715
line 4010
;4009:					}
;4010:				}
LABELV $1712
line 4011
;4011:			}
LABELV $1710
line 4012
;4012:			if ( ent->client->weaponanglestate[i] == WS_UP )
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
INDIRI4
CNSTI4 1
NEI4 $1717
line 4013
;4013:			{
line 4014
;4014:				if ( ent->client->ps.delta_angles[i] >  ent->client->weaponangle[i] )  {
ADDRLP4 48
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 52
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 48
INDIRI4
ADDRLP4 52
INDIRP4
CNSTI4 56
ADDP4
ADDP4
INDIRI4
ADDRLP4 48
INDIRI4
ADDRLP4 52
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
LEI4 $1719
line 4015
;4015:					if ( ent->client->ps.delta_angles[i] > ent->client->weaponangle[i] + g_aimCorrect.integer )					
ADDRLP4 56
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 60
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 56
INDIRI4
ADDRLP4 60
INDIRP4
CNSTI4 56
ADDP4
ADDP4
INDIRI4
ADDRLP4 56
INDIRI4
ADDRLP4 60
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
ADDRGP4 g_aimCorrect+12
INDIRI4
ADDI4
LEI4 $1721
line 4016
;4016:					{
line 4017
;4017:						ent->client->weaponanglestate[i] = WS_DOWN; 
ADDRLP4 64
CNSTI4 2
ASGNI4
ADDRLP4 0
INDIRI4
ADDRLP4 64
INDIRI4
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
ADDRLP4 64
INDIRI4
ASGNI4
line 4018
;4018:					}
ADDRGP4 $1722
JUMPV
LABELV $1721
line 4020
;4019:					else
;4020:					{
line 4021
;4021:						ent->client->weaponangle_changed[i] = qfalse;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4744
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 4022
;4022:						ent->client->ps.delta_angles[i] = ent->client->weaponangle[i];
ADDRLP4 64
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ASGNI4
ADDRLP4 68
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 64
INDIRI4
ADDRLP4 68
INDIRP4
CNSTI4 56
ADDP4
ADDP4
ADDRLP4 64
INDIRI4
ADDRLP4 68
INDIRP4
CNSTI4 4732
ADDP4
ADDP4
INDIRI4
ASGNI4
line 4023
;4023:						ent->client->weaponanglestate[i] = 0;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
CNSTI4 0
ASGNI4
line 4024
;4024:						continue;
ADDRGP4 $1699
JUMPV
LABELV $1722
line 4026
;4025:					}
;4026:				}
LABELV $1719
line 4027
;4027:			}
LABELV $1717
line 4028
;4028:		} 
LABELV $1705
line 4031
;4029:			
;4030:		// set the delta angle   
;4031:		if ( ent->client->weaponanglestate[i] == WS_DOWN )
ADDRLP4 44
CNSTI4 2
ASGNI4
ADDRLP4 0
INDIRI4
ADDRLP4 44
INDIRI4
LSHI4
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4756
ADDP4
ADDP4
INDIRI4
ADDRLP4 44
INDIRI4
NEI4 $1724
line 4032
;4032:			ent->client->ps.delta_angles[i] -= aimcorrect + ( ( ent->client->pers.nsPC.strength / 10 ) * 5 ); 
ADDRLP4 48
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 52
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 48
INDIRP4
CNSTI4 56
ADDP4
ADDP4
ASGNP4
ADDRLP4 52
INDIRP4
ADDRLP4 52
INDIRP4
INDIRI4
ADDRLP4 4
INDIRI4
CNSTI4 5
ADDRLP4 48
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CNSTI4 10
DIVI4
MULI4
ADDI4
SUBI4
ASGNI4
ADDRGP4 $1725
JUMPV
LABELV $1724
line 4034
;4033:		else
;4034:			ent->client->ps.delta_angles[i] += aimcorrect + ( ( ent->client->pers.nsPC.strength / 10 ) * 5 ); 
ADDRLP4 56
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
ASGNP4
ADDRLP4 60
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 56
INDIRP4
CNSTI4 56
ADDP4
ADDP4
ASGNP4
ADDRLP4 60
INDIRP4
ADDRLP4 60
INDIRP4
INDIRI4
ADDRLP4 4
INDIRI4
CNSTI4 5
ADDRLP4 56
INDIRP4
CNSTI4 1420
ADDP4
INDIRI4
CNSTI4 10
DIVI4
MULI4
ADDI4
ADDI4
ASGNI4
LABELV $1725
line 4036
;4035:
;4036:	} 
LABELV $1699
line 3976
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 3
LTI4 $1698
line 4037
;4037:} 
LABELV $1684
endproc NS_CorrectWeaponAim 72 4
export NS_BotRadioMsg
proc NS_BotRadioMsg 0 12
line 4042
;4038:
;4039:// also used for human players.
;4040:
;4041:void NS_BotRadioMsg( gentity_t *ent, char *msg )
;4042:{ 
line 4043
;4043:	if ( !ent )
ADDRFP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1727
line 4044
;4044:		return;
ADDRGP4 $1726
JUMPV
LABELV $1727
line 4047
;4045:
;4046:	// no chat already did some time ago
;4047:	if ( level.time < ent->bot_chattime )
ADDRGP4 level+32
INDIRI4
ADDRFP4 0
INDIRP4
CNSTI4 1088
ADDP4
INDIRI4
GEI4 $1729
line 4048
;4048:		return;
ADDRGP4 $1726
JUMPV
LABELV $1729
line 4050
;4049: 
;4050:	if ( !msg )
ADDRFP4 4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1732
line 4051
;4051:		return;
ADDRGP4 $1726
JUMPV
LABELV $1732
line 4053
;4052:
;4053:	ent->bot_chattime  = level.time + 0.5f * 1000;
ADDRFP4 0
INDIRP4
CNSTI4 1088
ADDP4
ADDRGP4 level+32
INDIRI4
CVIF4 4
CNSTF4 1140457472
ADDF4
CVFI4 4
ASGNI4
line 4055
;4054:	// send to server
;4055:	RadioBroadcast( ent, msg, qfalse );
ADDRFP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
CNSTI4 0
ARGI4
ADDRGP4 RadioBroadcast
CALLV
pop
line 4056
;4056:}
LABELV $1726
endproc NS_BotRadioMsg 0 12
export AngleDiff
proc AngleDiff 12 4
line 4063
;4057:
;4058:#define MAX_VISIBLE_RANGE		10000
;4059:#define MAX_VISIBLE_RANGE_SCOPE	12000
;4060:
;4061:float
;4062:AngleDiff(float angle1, float angle2)
;4063:{
line 4067
;4064:    float 
;4065:        fTemp;
;4066:    
;4067:    fTemp = fabs(AngleMod(angle1 - angle2));
ADDRFP4 0
INDIRF4
ADDRFP4 4
INDIRF4
SUBF4
ARGF4
ADDRLP4 4
ADDRGP4 AngleMod
CALLF4
ASGNF4
ADDRLP4 4
INDIRF4
ARGF4
ADDRLP4 8
ADDRGP4 fabs
CALLF4
ASGNF4
ADDRLP4 0
ADDRLP4 8
INDIRF4
ASGNF4
line 4069
;4068:
;4069:    if (fTemp > 180)
ADDRLP4 0
INDIRF4
CNSTF4 1127481344
LEF4 $1736
line 4070
;4070:    {
line 4071
;4071:        fTemp = 360 - fTemp;
ADDRLP4 0
CNSTF4 1135869952
ADDRLP4 0
INDIRF4
SUBF4
ASGNF4
line 4072
;4072:    }
LABELV $1736
line 4074
;4073:	 
;4074:    return fTemp;
ADDRLP4 0
INDIRF4
RETF4
LABELV $1735
endproc AngleDiff 12 4
export InView
proc InView 124 28
line 4087
;4075:}
;4076:
;4077:
;4078:
;4079://============================================================================
;4080:// InView
;4081://----------------------------------------------------------------------------
;4082:// Can one origin "see" another given some view angle.  This allows us to 
;4083:// check if a player is currently in the view of another player.
;4084://============================================================================
;4085:qboolean
;4086:InView(vec3_t vViewer, vec3_t vViewAngles, vec3_t vTestPoint)
;4087:{
line 4097
;4088:    vec3_t
;4089:        vTarget,
;4090:        vTargetAngles;
;4091:	trace_t
;4092:        trace;
;4093:	int
;4094:		iDistance,
;4095:		contents;
;4096:
;4097:	contents = trap_PointContents( vViewer, -1 );
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 -1
ARGI4
ADDRLP4 88
ADDRGP4 trap_PointContents
CALLI4
ASGNI4
ADDRLP4 84
ADDRLP4 88
INDIRI4
ASGNI4
line 4098
;4098:	if (contents & (CONTENTS_NODROP | CONTENTS_PLAYERCLIP))
ADDRLP4 84
INDIRI4
CVIU4 4
CNSTU4 2147549184
BANDU4
CNSTU4 0
EQU4 $1739
line 4099
;4099:	{
line 4100
;4100:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1738
JUMPV
LABELV $1739
line 4106
;4101:	}
;4102:
;4103:	//
;4104:	// Draw a line between the two players and check what we hit.
;4105:	//
;4106:    trap_Trace(&trace, vViewer, NULL, NULL, vTestPoint, ENTITYNUM_NONE, 
ADDRLP4 24
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 92
CNSTP4 0
ASGNP4
ADDRLP4 92
INDIRP4
ARGP4
ADDRLP4 92
INDIRP4
ARGP4
ADDRFP4 8
INDIRP4
ARGP4
CNSTI4 1023
ARGI4
CNSTI4 1
ARGI4
ADDRGP4 trap_Trace
CALLV
pop
line 4109
;4107:		MASK_SOLID);
;4108:
;4109:	VectorSubtract(vTestPoint, vViewer, vTarget);
ADDRLP4 96
ADDRFP4 8
INDIRP4
ASGNP4
ADDRLP4 100
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 96
INDIRP4
INDIRF4
ADDRLP4 100
INDIRP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 104
CNSTI4 4
ASGNI4
ADDRLP4 0+4
ADDRLP4 96
INDIRP4
ADDRLP4 104
INDIRI4
ADDP4
INDIRF4
ADDRLP4 100
INDIRP4
ADDRLP4 104
INDIRI4
ADDP4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 108
CNSTI4 8
ASGNI4
ADDRLP4 0+8
ADDRFP4 8
INDIRP4
ADDRLP4 108
INDIRI4
ADDP4
INDIRF4
ADDRFP4 0
INDIRP4
ADDRLP4 108
INDIRI4
ADDP4
INDIRF4
SUBF4
ASGNF4
line 4110
;4110:    iDistance = VectorLength(vTarget);
ADDRLP4 0
ARGP4
ADDRLP4 112
ADDRGP4 VectorLength
CALLF4
ASGNF4
ADDRLP4 80
ADDRLP4 112
INDIRF4
CVFI4 4
ASGNI4
line 4115
;4111:
;4112:	//
;4113:	// Is something blocking our view or is the player too far away?
;4114:	//
;4115:	if ((iDistance > MAX_VISIBLE_RANGE) || (trace.fraction != 1.0))
ADDRLP4 80
INDIRI4
CNSTI4 10000
GTI4 $1746
ADDRLP4 24+8
INDIRF4
CNSTF4 1065353216
EQF4 $1743
LABELV $1746
line 4116
;4116: 	{
line 4117
;4117:        return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1738
JUMPV
LABELV $1743
line 4123
;4118:    }
;4119:
;4120:	//
;4121:	// Now limit our view to what is in front of us.
;4122:	//
;4123:    vectoangles(vTarget,vTargetAngles);
ADDRLP4 0
ARGP4
ADDRLP4 12
ARGP4
ADDRGP4 vectoangles
CALLV
pop
line 4125
;4124:   
;4125:    if (AngleDiff(vTargetAngles[PITCH], vViewAngles[PITCH]) > 40)
ADDRLP4 12
INDIRF4
ARGF4
ADDRFP4 4
INDIRP4
INDIRF4
ARGF4
ADDRLP4 116
ADDRGP4 AngleDiff
CALLF4
ASGNF4
ADDRLP4 116
INDIRF4
CNSTF4 1109393408
LEF4 $1747
line 4126
;4126:    {
line 4127
;4127:        return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1738
JUMPV
LABELV $1747
line 4130
;4128:    }
;4129:
;4130:    if (AngleDiff(vTargetAngles[YAW], vViewAngles[YAW]) > 75)
ADDRLP4 12+4
INDIRF4
ARGF4
ADDRFP4 4
INDIRP4
CNSTI4 4
ADDP4
INDIRF4
ARGF4
ADDRLP4 120
ADDRGP4 AngleDiff
CALLF4
ASGNF4
ADDRLP4 120
INDIRF4
CNSTF4 1117126656
LEF4 $1749
line 4131
;4131:    {
line 4132
;4132:       return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1738
JUMPV
LABELV $1749
line 4135
;4133:    }
;4134:
;4135:    return qtrue;
CNSTI4 1
RETI4
LABELV $1738
endproc InView 124 28
export CanTeamSeeOrigin
proc CanTeamSeeOrigin 32 12
line 4141
;4136:}
;4137:
;4138:
;4139:// can anybody from the team see the person
;4140:int CanTeamSeeOrigin( vec3_t vTestPoint, int team, int ignoreClientNum )
;4141:{
line 4144
;4142:	
;4143:	int		i;
;4144:	int		closest = -1;
ADDRLP4 8
CNSTI4 -1
ASGNI4
line 4145
;4145:	float	closestdist = MAX_VISIBLE_RANGE;
ADDRLP4 4
CNSTF4 1176256512
ASGNF4
line 4150
;4146:
;4147://	int		count = 0;
;4148:
;4149:
;4150:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1756
JUMPV
LABELV $1753
line 4151
;4151:		if ( i == ignoreClientNum ) {
ADDRLP4 0
INDIRI4
ADDRFP4 8
INDIRI4
NEI4 $1758
line 4152
;4152:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1758
line 4154
;4153:		}
;4154:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1760
line 4155
;4155:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1760
line 4157
;4156:		}
;4157:		if ( level.clients[i].pers.connected != CON_CONNECTED )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1762
line 4158
;4158:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1762
line 4161
;4159:
;4160:		// do not count players that haven't decided on their class yet...
;4161:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $1764
line 4162
;4162:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1764
line 4165
;4163:
;4164:		// check if it's the right team
;4165:		if ( level.clients[i].sess.sessionTeam != team )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 4
INDIRI4
EQI4 $1766
line 4166
;4166:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1766
line 4168
;4167:
;4168:		if ( level.clients[i].sess.waiting )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1768
line 4169
;4169:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1768
line 4171
;4170:  
;4171:		if ( g_entities[i].health <= 0 )
CNSTI4 1100
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 g_entities+732
ADDP4
INDIRI4
CNSTI4 0
GTI4 $1770
line 4172
;4172:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1770
line 4174
;4173:
;4174:		if ( g_entities[i].r.contents == CONTENTS_CORPSE )
CNSTI4 1100
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 g_entities+208+252
ADDP4
INDIRI4
CNSTI4 67108864
NEI4 $1773
line 4175
;4175:			continue;
ADDRGP4 $1754
JUMPV
LABELV $1773
line 4177
;4176:
;4177:		if ( closestdist == MAX_VISIBLE_RANGE || closestdist == MAX_VISIBLE_RANGE_SCOPE  )
ADDRLP4 4
INDIRF4
CNSTF4 1176256512
EQF4 $1779
ADDRLP4 4
INDIRF4
CNSTF4 1178304512
NEF4 $1777
LABELV $1779
line 4178
;4178:		{
line 4179
;4179:			if ( BG_IsZooming( g_entities[i].client->ps.stats[STAT_WEAPONMODE] ) )
CNSTI4 1100
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 g_entities+516
ADDP4
INDIRP4
CNSTI4 224
ADDP4
INDIRI4
ARGI4
ADDRLP4 16
ADDRGP4 BG_IsZooming
CALLI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 0
EQI4 $1780
line 4180
;4180:				closestdist = MAX_VISIBLE_RANGE_SCOPE;
ADDRLP4 4
CNSTF4 1178304512
ASGNF4
ADDRGP4 $1781
JUMPV
LABELV $1780
line 4182
;4181:			else
;4182:				closestdist = MAX_VISIBLE_RANGE;
ADDRLP4 4
CNSTF4 1176256512
ASGNF4
LABELV $1781
line 4183
;4183:		}
LABELV $1777
line 4185
;4184:
;4185:		if ( InView( level.clients[i].ps.origin, level.clients[i].ps.viewangles, vTestPoint ) )
ADDRLP4 16
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
ADDRLP4 16
INDIRP4
CNSTI4 20
ADDP4
ARGP4
ADDRLP4 16
INDIRP4
CNSTI4 152
ADDP4
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 20
ADDRGP4 InView
CALLI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 0
EQI4 $1783
line 4186
;4186:		{
line 4187
;4187:			float dist = Distance( level.clients[i].ps.origin, vTestPoint );
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 20
ADDP4
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 28
ADDRGP4 Distance
CALLF4
ASGNF4
ADDRLP4 24
ADDRLP4 28
INDIRF4
ASGNF4
line 4189
;4188:			
;4189:			if ( dist < closestdist )
ADDRLP4 24
INDIRF4
ADDRLP4 4
INDIRF4
GEF4 $1785
line 4190
;4190:			{
line 4191
;4191:				closest = i; 
ADDRLP4 8
ADDRLP4 0
INDIRI4
ASGNI4
line 4192
;4192:				closestdist = dist;
ADDRLP4 4
ADDRLP4 24
INDIRF4
ASGNF4
line 4193
;4193:			}
LABELV $1785
line 4194
;4194:		}
LABELV $1783
line 4195
;4195:	}
LABELV $1754
line 4150
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1756
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1753
line 4198
;4196: 
;4197: 
;4198:	return closest;
ADDRLP4 8
INDIRI4
RETI4
LABELV $1752
endproc CanTeamSeeOrigin 32 12
export NS_SendResetAllStatusToAllPlayers
proc NS_SendResetAllStatusToAllPlayers 4 8
line 4202
;4199:} 
;4200:
;4201:void NS_SendResetAllStatusToAllPlayers( void )
;4202:{ 
line 4203
;4203:	trap_SendServerCommand(-1, va( "mstatus -1 %i" , MS_HEALTH5) );
ADDRGP4 $1788
ARGP4
CNSTI4 5
ARGI4
ADDRLP4 0
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 -1
ARGI4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 4204
;4204:} 
LABELV $1787
endproc NS_SendResetAllStatusToAllPlayers 4 8
export NS_SendPlayersStatusToAllPlayers
proc NS_SendPlayersStatusToAllPlayers 4 12
line 4206
;4205:void NS_SendPlayersStatusToAllPlayers( int clientNum, int status )
;4206:{
line 4207
;4207:	trap_SendServerCommand(-1, va( "mstatus %i %i" , clientNum, status ) );
ADDRGP4 $1790
ARGP4
ADDRFP4 0
INDIRI4
ARGI4
ADDRFP4 4
INDIRI4
ARGI4
ADDRLP4 0
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 -1
ARGI4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 4208
;4208:}
LABELV $1789
endproc NS_SendPlayersStatusToAllPlayers 4 12
export NS_SendStatusMessageToTeam
proc NS_SendStatusMessageToTeam 264 20
line 4211
;4209:
;4210:void NS_SendStatusMessageToTeam( gentity_t *affected, int status, int team )
;4211:{
line 4215
;4212:	int		i;
;4213:	char	string[256];
;4214:
;4215:	Com_sprintf( string, sizeof(string), "mstatus %i %i", affected->s.clientNum, status );
ADDRLP4 4
ARGP4
CNSTI4 256
ARGI4
ADDRGP4 $1790
ARGP4
ADDRFP4 0
INDIRP4
CNSTI4 168
ADDP4
INDIRI4
ARGI4
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 4217
;4216:
;4217:	for ( i = 0 ; i < level.maxclients ; i++ ) { 
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1795
JUMPV
LABELV $1792
line 4218
;4218:		if ( level.clients[i].pers.connected == CON_DISCONNECTED ) {
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1797
line 4219
;4219:			continue;
ADDRGP4 $1793
JUMPV
LABELV $1797
line 4221
;4220:		}
;4221:		if ( level.clients[i].pers.connected != CON_CONNECTED )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1799
line 4222
;4222:			continue;
ADDRGP4 $1793
JUMPV
LABELV $1799
line 4225
;4223:
;4224:		// do not count players that haven't decided on their class yet...
;4225:		if ( level.clients[i].pers.nsPC.playerclass <= CLASS_NONE)
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1440
ADDP4
INDIRI4
CNSTI4 0
GTI4 $1801
line 4226
;4226:			continue;
ADDRGP4 $1793
JUMPV
LABELV $1801
line 4229
;4227:
;4228:		// check if it's the right team
;4229:		if ( level.clients[i].sess.sessionTeam != team )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1460
ADDP4
INDIRI4
ADDRFP4 8
INDIRI4
EQI4 $1803
line 4230
;4230:			continue;
ADDRGP4 $1793
JUMPV
LABELV $1803
line 4233
;4231:
;4232:		// bots don't need the serverstring
;4233:		if ( NS_IsBot( &g_entities[i] ) )
CNSTI4 1100
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRLP4 260
ADDRGP4 NS_IsBot
CALLI4
ASGNI4
ADDRLP4 260
INDIRI4
CNSTI4 0
EQI4 $1805
line 4234
;4234:			continue;
ADDRGP4 $1793
JUMPV
LABELV $1805
line 4237
;4235:
;4236:		// on the waiting line? do need to be updated.
;4237:		if ( level.clients[i].sess.waiting )
CNSTI4 4780
ADDRLP4 0
INDIRI4
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 1488
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1807
line 4238
;4238:			continue;
ADDRGP4 $1793
JUMPV
LABELV $1807
line 4240
;4239:
;4240:		trap_SendServerCommand(i, string );
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 4241
;4241:	} 
LABELV $1793
line 4217
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1795
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1792
line 4243
;4242:
;4243:}
LABELV $1791
endproc NS_SendStatusMessageToTeam 264 20
export NS_Cmd_Mapinfo
proc NS_Cmd_Mapinfo 0 24
line 4245
;4244:
;4245:void NS_Cmd_Mapinfo( gentity_t *ent ) { 
line 4246
;4246:	PrintMsg(ent, "%i/%i Seal Objectives done\n" 
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $1810
ARGP4
ADDRGP4 level+7184+4
INDIRI4
ARGI4
ADDRGP4 level+7168+4
INDIRI4
ARGI4
ADDRGP4 level+7184+8
INDIRI4
ARGI4
ADDRGP4 level+7168+8
INDIRI4
ARGI4
ADDRGP4 PrintMsg
CALLV
pop
line 4248
;4247:				"%i/%i Tango Objectives done\n", level.done_objectives[TEAM_RED],level.num_objectives[TEAM_RED], level.done_objectives[TEAM_BLUE],level.num_objectives[TEAM_BLUE] );
;4248:}
LABELV $1809
endproc NS_Cmd_Mapinfo 0 24
export NS_SetupTest
proc NS_SetupTest 0 0
line 4251
;4249:
;4250:void NS_SetupTest( gentity_t *ent ) 
;4251:{
line 4257
;4252:/*	vec3_t forward;
;4253:	vec3_t right;
;4254:	vec3_t up;
;4255:*/
;4256:
;4257:}
LABELV $1819
endproc NS_SetupTest 0 0
import log
import powl
import assault_field_stopall
import NS_GiveBombsToTeam
import assault_field_start
bss
export lastbombclient
align 4
LABELV lastbombclient
skip 16
import trap_SnapVector
import trap_GeneticParentsAndChildSelection
import trap_BotResetWeaponState
import trap_BotFreeWeaponState
import trap_BotAllocWeaponState
import trap_BotLoadWeaponWeights
import trap_BotGetWeaponInfo
import trap_BotChooseBestFightWeapon
import trap_BotAddAvoidSpot
import trap_BotInitMoveState
import trap_BotFreeMoveState
import trap_BotAllocMoveState
import trap_BotPredictVisiblePosition
import trap_BotMovementViewTarget
import trap_BotReachabilityArea
import trap_BotResetLastAvoidReach
import trap_BotResetAvoidReach
import trap_BotMoveInDirection
import trap_BotMoveToGoal
import trap_BotResetMoveState
import trap_BotFreeGoalState
import trap_BotAllocGoalState
import trap_BotMutateGoalFuzzyLogic
import trap_BotSaveGoalFuzzyLogic
import trap_BotInterbreedGoalFuzzyLogic
import trap_BotFreeItemWeights
import trap_BotLoadItemWeights
import trap_BotUpdateEntityItems
import trap_BotInitLevelItems
import trap_BotSetAvoidGoalTime
import trap_BotAvoidGoalTime
import trap_BotGetLevelItemGoal
import trap_BotGetMapLocationGoal
import trap_BotGetNextCampSpotGoal
import trap_BotItemGoalInVisButNotVisible
import trap_BotTouchingGoal
import trap_BotChooseNBGItem
import trap_BotChooseLTGItem
import trap_BotGetSecondGoal
import trap_BotGetTopGoal
import trap_BotGoalName
import trap_BotDumpGoalStack
import trap_BotDumpAvoidGoals
import trap_BotEmptyGoalStack
import trap_BotPopGoal
import trap_BotPushGoal
import trap_BotResetAvoidGoals
import trap_BotRemoveFromAvoidGoals
import trap_BotResetGoalState
import trap_BotSetChatName
import trap_BotSetChatGender
import trap_BotLoadChatFile
import trap_BotReplaceSynonyms
import trap_UnifyWhiteSpaces
import trap_BotMatchVariable
import trap_BotFindMatch
import trap_StringContains
import trap_BotGetChatMessage
import trap_BotEnterChat
import trap_BotChatLength
import trap_BotReplyChat
import trap_BotNumInitialChats
import trap_BotInitialChat
import trap_BotNumConsoleMessages
import trap_BotNextConsoleMessage
import trap_BotRemoveConsoleMessage
import trap_BotQueueConsoleMessage
import trap_BotFreeChatState
import trap_BotAllocChatState
import trap_Characteristic_String
import trap_Characteristic_BInteger
import trap_Characteristic_Integer
import trap_Characteristic_BFloat
import trap_Characteristic_Float
import trap_BotFreeCharacter
import trap_BotLoadCharacter
import trap_EA_ResetInput
import trap_EA_GetInput
import trap_EA_EndRegular
import trap_EA_View
import trap_EA_Move
import trap_EA_DelayedJump
import trap_EA_Jump
import trap_EA_SelectWeapon
import trap_EA_MoveRight
import trap_EA_MoveLeft
import trap_EA_MoveBack
import trap_EA_MoveForward
import trap_EA_MoveDown
import trap_EA_MoveUp
import trap_EA_Crouch
import trap_EA_Respawn
import trap_EA_Use
import trap_EA_Attack
import trap_EA_Talk
import trap_EA_Gesture
import trap_EA_Action
import trap_EA_Command
import trap_EA_SayTeam
import trap_EA_Say
import trap_AAS_PredictClientMovement
import trap_AAS_Swimming
import trap_AAS_AlternativeRouteGoals
import trap_AAS_PredictRoute
import trap_AAS_EnableRoutingArea
import trap_AAS_AreaTravelTimeToGoalArea
import trap_AAS_AreaReachability
import trap_AAS_IntForBSPEpairKey
import trap_AAS_FloatForBSPEpairKey
import trap_AAS_VectorForBSPEpairKey
import trap_AAS_ValueForBSPEpairKey
import trap_AAS_NextBSPEntity
import trap_AAS_PointContents
import trap_AAS_TraceAreas
import trap_AAS_PointReachabilityAreaIndex
import trap_AAS_PointAreaNum
import trap_AAS_Time
import trap_AAS_PresenceTypeBoundingBox
import trap_AAS_Initialized
import trap_AAS_EntityInfo
import trap_AAS_AreaInfo
import trap_AAS_BBoxAreas
import trap_BotUserCommand
import trap_BotGetServerCommand
import trap_BotGetSnapshotEntity
import trap_BotLibTest
import trap_BotLibUpdateEntity
import trap_BotLibLoadMap
import trap_BotLibStartFrame
import trap_BotLibDefine
import trap_BotLibVarGet
import trap_BotLibVarSet
import trap_BotLibShutdown
import trap_BotLibSetup
import trap_DebugPolygonDelete
import trap_DebugPolygonCreate
import trap_GetEntityToken
import trap_GetUsercmd
import trap_BotFreeClient
import trap_BotAllocateClient
import trap_EntityContact
import trap_EntitiesInBox
import trap_UnlinkEntity
import trap_LinkEntity
import trap_AreasConnected
import trap_AdjustAreaPortalState
import trap_InPVSIgnorePortals
import trap_InPVS
import trap_PointContents
import trap_Trace
import trap_SetBrushModel
import trap_GetServerinfo
import trap_SetUserinfo
import trap_GetUserinfo
import trap_GetConfigstring
import trap_SetConfigstring
import trap_SendServerCommand
import trap_DropClient
import trap_LocateGameData
import trap_Cvar_VariableStringBuffer
import trap_Cvar_VariableValue
import trap_Cvar_VariableIntegerValue
import trap_Cvar_Set
import trap_Cvar_Update
import trap_Cvar_Register
import trap_SendConsoleCommand
import trap_FS_GetFileList
import trap_FS_FCloseFile
import trap_FS_Write
import trap_FS_Read
import trap_FS_FOpenFile
import trap_Args
import trap_Argv
import trap_Argc
import trap_Milliseconds
import trap_Error
import trap_Printf
import LTS_Rounds
import i_sCountDown
import b_sWaitingForPlayers
import i_sNextWaitPrint
import g_shotgunleedvelocity
import g_leedvelocity
import g_baseXp
import g_roundTime
import g_maxTeamKill
import g_allowKnifes
import g_logradio
import g_proxMineTimeout
import g_singlePlayer
import g_enableBreath
import g_enableDust
import g_rankings
import pmove_msec
import pmove_fixed
import g_smoothClients
import g_blueteam
import g_redteam
import g_cubeTimeout
import g_obeliskRespawnDelay
import g_obeliskRegenAmount
import g_obeliskRegenPeriod
import g_obeliskHealth
import g_filterBan
import g_banIPs
import g_teamForceBalance
import g_teamAutoJoin
import g_allowVote
import g_blood
import g_doWarmup
import g_warmup
import g_motd
import g_synchronousClients
import g_weaponTeamRespawn
import g_weaponRespawn
import g_debugDamage
import g_debugAlloc
import g_debugMove
import g_inactivity
import g_forcerespawn
import g_knockback
import g_speed
import g_gravity
import g_needpass
import g_password
import g_friendlyFire
import g_capturelimit
import g_timelimit
import g_fraglimit
import g_dmflags
import g_restarted
import g_maxGameClients
import g_maxclients
import g_cheats
import g_dedicated
import g_gametype
import g_entities
import level
import Pickup_Team
import CheckTeamStatus
import TeamplayInfoMessage
import Team_GetLocationMsg
import Team_GetLocation
import SelectCTFSpawnPoint
import Team_FreeEntity
import Team_ReturnFlag
import Team_InitGame
import Team_CheckHurtCarrier
import Team_FragBonuses
import Team_DroppedFlagThink
import AddTeamScore
import TeamColorString
import OtherTeamName
import TeamName
import OtherTeam
import BotTestAAS
import BotAIStartFrame
import BotAIShutdownClient
import BotAISetupClient
import BotAILoadMap
import BotAIShutdown
import BotAISetup
import BotInterbreedEndMatch
import Svcmd_BotList_f
import Svcmd_AddBot_f
import G_BotConnect
import G_RemoveQueuedBotBegin
import G_CheckBotSpawn
import G_GetBotInfoByName
import G_GetBotInfoByNumber
import G_InitBots
import Svcmd_AbortPodium_f
import SpawnModelsOnVictoryPads
import UpdateTournamentInfo
import G_WriteSessionData
import G_InitWorldSession
import G_InitSessionData
import G_ReadSessionData
import Svcmd_GameMem_f
import G_InitMemory
import G_Alloc
import CheckObeliskAttack
import Team_CheckDroppedItem
import OnSameTeam
import G_RunClient
import ClientEndFrame
import ClientThink
import ClientCommand
import ClientBegin
import ClientDisconnect
import ClientUserinfoChanged
import ClientConnect
import G_Error
import G_Printf
import SendScoreboardMessageToAllClients
import G_LogPrintf
import G_RunThink
import CheckTeamLeader
import SetLeader
import FindIntermissionPoint
import DeathmatchScoreboardMessage
import G_SetStats
import MoveClientToIntermission
import FireWeapon
import G_FilterPacket
import G_ProcessIPBans
import ConsoleCommand
import SpotWouldTelefrag
import CalculateRanks
import AddScore
import player_die
import ClientSpawn
import InitBodyQue
import InitClientResp
import InitClientPersistant
import BeginIntermission
import respawn
import SelectSpawnPoint
import SetClientViewAngle
import PickTeam
import TeamLeader
import TeamCount
import Weapon_HookThink
import CheckMeleeAttack
import SnapVectorTowards
import CalcMuzzlePoint
import LogAccuracyHit
import TeleportPlayer
import trigger_teleporter_touch
import Touch_DoorTrigger
import G_RunMover
import fire_grapple
import fire_bfg
import fire_rocket
import fire_grenade
import fire_plasma
import fire_blaster
import G_RunMissile
import TossClientCubes
import TossClientItems
import body_die
import G_InvulnerabilityEffect
import G_RadiusDamage
import G_Damage
import CanDamage
import BuildShaderStateConfig
import AddRemap
import G_SetOrigin
import G_AddEvent
import G_AddPredictableEvent
import vectoyaw
import vtos
import tv
import G_TouchSolids
import G_TouchTriggers
import G_EntitiesFree
import G_FreeEntity
import G_Sound
import G_TempEntity
import G_Spawn
import G_InitGentity
import G_SetMovedir
import G_UseTargets
import G_PickTarget
import G_Find
import G_KillBox
import G_TeamCommand
import G_SoundIndex
import G_ModelIndex
import SaveRegisteredItems
import RegisterItem
import ClearRegisteredItems
import Touch_Item
import Add_Ammo
import ArmorIndex
import Think_Weapon
import FinishSpawningItem
import G_SpawnItem
import SetRespawn
import LaunchItem
import Drop_Item
import PrecacheItem
import UseHoldableItem
import RespawnItem
import G_RunItem
import G_CheckTeamItems
import Cmd_FollowCycle_f
import SetTeam
import BroadcastTeamChange
import StopFollowing
import Cmd_Score_f
import G_NewString
import G_SpawnEntitiesFromString
import G_SpawnVector
import G_SpawnInt
import G_SpawnFloat
import G_SpawnString
import Team_SetFlagStatus
import Weapon_C4
import RadioBroadcast
import Cmd_Radio_power_f
import Cmd_Radioteam_f
import RadioThink
import PrecacheRadioSounds
import female_radio_msgs
import male_radio_msgs
import Use_BinaryMover
import Use_BinaryMover2
import G_Say
import PrintMsg
import BodySink
import CopyToBodyQue
import G_ExplodeMissile
import NS_GetNameForClass
import fire_smoke_grenade
import NS_HandlePlayerMenu
import NS_HandleCreateClassMenu
import NS_HandleEquipmentMenu
import NS_HandleRadioMenu
import NS_HandleClassMenu
import NS_HandleCharacterMenu
import NS_HandleAmmoMenu
import NS_HandleMainMenu
import NS_HandleSecondaryWeaponMenu
import NS_HandleTeamMenu
import NS_HandlePrimaryWeaponMenu
import SetClass
import NS_OpenPlayerMenu
import NS_OpenCreateClassMenu
import NS_OpenEquipmentMenu
import NS_OpenSpectatorMenu
import NS_OpenPrimaryWeaponMenu
import NS_OpenRadioMenu
import NS_OpenMainMenu
import NS_OpenClassMenu
import NS_OpenTeamMenu
import NS_MenuSelect
import is_func_explosive
import Think_Goal
import Touch_Goal
import Laser_Gen
import bomb_explode
import bomb_drop
import bomb_explode_instantly
import bomb_defused
import bomb_checkremovewire
import NS_GotEnoughXPfornextLevel
import NS_SpawnFlare
import Pick_Item
import NS_KillMenu
import G_LocalSound
import NS_DirectMenuSelect
import Reset_Briefcase
import BG_GotSecondary
import NS_GotPowerup
import Is_OnBrushTeam
export lastvip
align 4
LABELV lastvip
skip 16
import GameState
import NS_BulletHoleTypeForSurface
import BG_GetMaxRoundForWeapon
import NS_GetRounds
import g_realLead
import g_silentBullets
import g_snipermod
import g_pistolmod
import g_riflemod
import g_bombTime
import g_invenTime
export g_aimCorrect
align 4
LABELV g_aimCorrect
skip 272
import g_overrideGoals
import g_keepCharacter
import BG_GotWeapon
import BG_RemoveWeapon
import BG_ClearWeapons
import BG_PackWeapon
import BG_WeaponMods
import BG_IsShotgun
import BG_IsZooming
import BG_IsGrenade
import BG_IsSMG
import BG_IsSecondary
import BG_IsPrimary
import BG_GotPrimary
import BG_IsPistol
import BG_IsMelee
import BG_IsSmg
import BG_IsRifle
import BG_PlayerTouchesItem
import BG_PlayerStateToEntityStateExtraPolate
import BG_PlayerStateToEntityState
import BG_TouchJumpPad
import BG_AddPredictableEventToPlayerstate
import BG_EvaluateTrajectoryDelta
import BG_EvaluateTrajectory
import BG_CanItemBeGrabbed
import BG_SurfaceToString
import BG_FindItemForHoldable
import BG_FindItemForPowerup
import BG_FindItemForWeapon
import BG_FindItem
import bg_numItems
import bg_itemlist
import Pmove
import PM_UpdateViewAngles
import colorLtBlue
import Com_Printf
import Com_Error
import Info_NextPair
import Info_Validate
import Info_SetValueForKey_Big
import Info_SetValueForKey
import Info_RemoveKey_big
import Info_RemoveKey
import Info_ValueForKey
import va
import Swap_Init
import LittleFloat
import BigFloat
import LittleLong64
import BigLong64
import LittleLong
import BigLong
import LittleShort
import BigShort
import Q_CleanStr
import Q_PrintStrlen
import Q_strcat
import Q_strncpyz
import Q_strrchr
import Q_strupr
import Q_strlwr
import Q_stricmpn
import Q_strncmp
import Q_stricmp
import Q_isalpha
import Q_isupper
import Q_islower
import Q_isprint
import Com_sprintf
import Parse3DMatrix
import Parse2DMatrix
import Parse1DMatrix
import SkipRestOfLine
import SkipBracedSection
import COM_MatchToken
import COM_ParseWarning
import COM_ParseError
import COM_Compress
import COM_ParseExt
import COM_Parse
import COM_GetCurrentParseLine
import COM_BeginParseSession
import COM_DefaultExtension
import COM_StripExtension
import COM_SkipPath
import Com_Clamp
import PerpendicularVector
import AngleVectors
import MatrixMultiply
import MakeNormalVectors
import RotateAroundDirection
import RotatePointAroundVector
import ProjectPointOnPlane
import PlaneFromPoints
import AngleDelta
import AngleNormalize180
import AngleNormalize360
import AnglesSubtract
import AngleSubtract
import LerpAngle
import AngleMod
import BoxOnPlaneSide
import SetPlaneSignbits
import AxisCopy
import AxisClear
import AnglesToAxis
import vectoangles
import Q_crandom
import Q_random
import Q_rand
import Q_acos
import Q_log2
import VectorRotate
import Vector4Scale
import VectorInverse
import VectorNormalize2
import VectorNormalizeFast
import VectorNormalize
import CrossProduct
import DistanceSquared
import Distance
import VectorLengthSquared
import VectorLength
import VectorCompare
import AddPointToBounds
import ClearBounds
import RadiusFromBounds
import NormalizeColor
import ColorBytes4
import ColorBytes3
import _VectorMA
import _VectorScale
import _VectorCopy
import _VectorAdd
import _VectorSubtract
import _DotProduct
import ByteToDir
import DirToByte
import ClampShort
import ClampChar
import Q_rsqrt
import Q_fabs
import axisDefault
import vec3_origin
import g_color_table
import colorDkGrey
import colorMdGrey
import colorLtGrey
import colorWhite
import colorCyan
import colorMagenta
import colorYellow
import colorBlue
import colorGreen
import colorRed
import colorBlack
import bytedirs
import Com_Memcpy
import Com_Memset
import Hunk_Alloc
import acos
import fabs
import abs
import tan
import atan2
import cos
import sin
import sqrt
import floor
import ceil
import memcpy
import memset
import memmove
import sscanf
import vsprintf
import _atoi
import atoi
import _atof
import atof
import toupper
import tolower
import strncpy
import strstr
import strchr
import strcmp
import strcpy
import strcat
import strlen
import rand
import srand
import qsort
lit
align 1
LABELV $1810
byte 1 37
byte 1 105
byte 1 47
byte 1 37
byte 1 105
byte 1 32
byte 1 83
byte 1 101
byte 1 97
byte 1 108
byte 1 32
byte 1 79
byte 1 98
byte 1 106
byte 1 101
byte 1 99
byte 1 116
byte 1 105
byte 1 118
byte 1 101
byte 1 115
byte 1 32
byte 1 100
byte 1 111
byte 1 110
byte 1 101
byte 1 10
byte 1 37
byte 1 105
byte 1 47
byte 1 37
byte 1 105
byte 1 32
byte 1 84
byte 1 97
byte 1 110
byte 1 103
byte 1 111
byte 1 32
byte 1 79
byte 1 98
byte 1 106
byte 1 101
byte 1 99
byte 1 116
byte 1 105
byte 1 118
byte 1 101
byte 1 115
byte 1 32
byte 1 100
byte 1 111
byte 1 110
byte 1 101
byte 1 10
byte 1 0
align 1
LABELV $1790
byte 1 109
byte 1 115
byte 1 116
byte 1 97
byte 1 116
byte 1 117
byte 1 115
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 37
byte 1 105
byte 1 0
align 1
LABELV $1788
byte 1 109
byte 1 115
byte 1 116
byte 1 97
byte 1 116
byte 1 117
byte 1 115
byte 1 32
byte 1 45
byte 1 49
byte 1 32
byte 1 37
byte 1 105
byte 1 0
align 1
LABELV $1596
byte 1 67
byte 1 97
byte 1 108
byte 1 108
byte 1 101
byte 1 100
byte 1 58
byte 1 32
byte 1 78
byte 1 83
byte 1 95
byte 1 80
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 65
byte 1 110
byte 1 105
byte 1 109
byte 1 32
byte 1 119
byte 1 105
byte 1 116
byte 1 104
byte 1 111
byte 1 117
byte 1 116
byte 1 32
byte 1 97
byte 1 110
byte 1 105
byte 1 109
byte 1 97
byte 1 116
byte 1 105
byte 1 111
byte 1 110
byte 1 32
byte 1 103
byte 1 105
byte 1 118
byte 1 101
byte 1 110
byte 1 0
align 1
LABELV $1592
byte 1 99
byte 1 112
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 34
byte 1 0
align 1
LABELV $1572
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $1571
byte 1 87
byte 1 97
byte 1 118
byte 1 101
byte 1 0
align 1
LABELV $1569
byte 1 70
byte 1 105
byte 1 115
byte 1 116
byte 1 0
align 1
LABELV $1567
byte 1 80
byte 1 111
byte 1 105
byte 1 110
byte 1 116
byte 1 0
align 1
LABELV $1558
byte 1 85
byte 1 115
byte 1 97
byte 1 103
byte 1 101
byte 1 58
byte 1 10
byte 1 99
byte 1 109
byte 1 100
byte 1 32
byte 1 71
byte 1 101
byte 1 115
byte 1 116
byte 1 117
byte 1 114
byte 1 101
byte 1 32
byte 1 60
byte 1 49
byte 1 47
byte 1 50
byte 1 47
byte 1 51
byte 1 62
byte 1 10
byte 1 0
align 1
LABELV $1555
byte 1 119
byte 1 114
byte 1 111
byte 1 110
byte 1 103
byte 1 0
align 1
LABELV $1453
byte 1 84
byte 1 104
byte 1 105
byte 1 115
byte 1 32
byte 1 99
byte 1 111
byte 1 109
byte 1 109
byte 1 97
byte 1 110
byte 1 100
byte 1 32
byte 1 105
byte 1 115
byte 1 32
byte 1 111
byte 1 110
byte 1 108
byte 1 121
byte 1 32
byte 1 97
byte 1 118
byte 1 97
byte 1 105
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 32
byte 1 105
byte 1 110
byte 1 32
byte 1 84
byte 1 101
byte 1 97
byte 1 109
byte 1 45
byte 1 80
byte 1 108
byte 1 97
byte 1 121
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $1357
byte 1 83
byte 1 105
byte 1 110
byte 1 103
byte 1 108
byte 1 101
byte 1 32
byte 1 83
byte 1 104
byte 1 111
byte 1 116
byte 1 0
align 1
LABELV $1356
byte 1 70
byte 1 117
byte 1 108
byte 1 108
byte 1 32
byte 1 65
byte 1 117
byte 1 116
byte 1 111
byte 1 0
align 1
LABELV $1346
byte 1 82
byte 1 111
byte 1 108
byte 1 108
byte 1 0
align 1
LABELV $1345
byte 1 84
byte 1 104
byte 1 114
byte 1 111
byte 1 119
byte 1 0
align 1
LABELV $1339
byte 1 65
byte 1 114
byte 1 109
byte 1 115
byte 1 116
byte 1 117
byte 1 101
byte 1 116
byte 1 122
byte 1 101
byte 1 32
byte 1 65
byte 1 117
byte 1 115
byte 1 103
byte 1 101
byte 1 107
byte 1 108
byte 1 97
byte 1 112
byte 1 112
byte 1 116
byte 1 0
align 1
LABELV $1338
byte 1 65
byte 1 114
byte 1 109
byte 1 115
byte 1 116
byte 1 117
byte 1 101
byte 1 116
byte 1 122
byte 1 101
byte 1 32
byte 1 69
byte 1 105
byte 1 110
byte 1 103
byte 1 101
byte 1 107
byte 1 108
byte 1 97
byte 1 112
byte 1 112
byte 1 116
byte 1 0
align 1
LABELV $1333
byte 1 52
byte 1 45
byte 1 83
byte 1 101
byte 1 99
byte 1 32
byte 1 80
byte 1 114
byte 1 105
byte 1 109
byte 1 105
byte 1 110
byte 1 103
byte 1 0
align 1
LABELV $1332
byte 1 51
byte 1 45
byte 1 83
byte 1 101
byte 1 99
byte 1 32
byte 1 80
byte 1 114
byte 1 105
byte 1 109
byte 1 105
byte 1 110
byte 1 103
byte 1 32
byte 1 40
byte 1 32
byte 1 100
byte 1 101
byte 1 102
byte 1 97
byte 1 117
byte 1 108
byte 1 116
byte 1 32
byte 1 41
byte 1 0
align 1
LABELV $1329
byte 1 53
byte 1 45
byte 1 83
byte 1 101
byte 1 99
byte 1 32
byte 1 80
byte 1 114
byte 1 105
byte 1 109
byte 1 105
byte 1 110
byte 1 103
byte 1 0
align 1
LABELV $1323
byte 1 76
byte 1 97
byte 1 115
byte 1 101
byte 1 114
byte 1 32
byte 1 79
byte 1 110
byte 1 0
align 1
LABELV $1322
byte 1 76
byte 1 97
byte 1 115
byte 1 101
byte 1 114
byte 1 32
byte 1 79
byte 1 102
byte 1 102
byte 1 0
align 1
LABELV $1313
byte 1 50
byte 1 120
byte 1 32
byte 1 90
byte 1 111
byte 1 111
byte 1 109
byte 1 0
align 1
LABELV $1312
byte 1 52
byte 1 120
byte 1 32
byte 1 90
byte 1 111
byte 1 111
byte 1 109
byte 1 0
align 1
LABELV $1309
byte 1 115
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 47
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 115
byte 1 47
byte 1 122
byte 1 111
byte 1 111
byte 1 109
byte 1 46
byte 1 119
byte 1 97
byte 1 118
byte 1 0
align 1
LABELV $1308
byte 1 78
byte 1 111
byte 1 114
byte 1 109
byte 1 97
byte 1 108
byte 1 32
byte 1 90
byte 1 111
byte 1 111
byte 1 109
byte 1 0
align 1
LABELV $1300
byte 1 83
byte 1 101
byte 1 116
byte 1 116
byte 1 101
byte 1 100
byte 1 32
byte 1 109
byte 1 111
byte 1 100
byte 1 101
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $1299
byte 1 70
byte 1 108
byte 1 97
byte 1 115
byte 1 104
byte 1 108
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 32
byte 1 68
byte 1 105
byte 1 115
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 100
byte 1 46
byte 1 0
align 1
LABELV $1298
byte 1 70
byte 1 108
byte 1 97
byte 1 115
byte 1 104
byte 1 108
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 32
byte 1 69
byte 1 110
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 100
byte 1 46
byte 1 0
align 1
LABELV $1293
byte 1 83
byte 1 116
byte 1 97
byte 1 98
byte 1 32
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 33
byte 1 0
align 1
LABELV $1288
byte 1 77
byte 1 45
byte 1 50
byte 1 48
byte 1 51
byte 1 33
byte 1 0
align 1
LABELV $1287
byte 1 70
byte 1 105
byte 1 114
byte 1 101
byte 1 32
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 0
align 1
LABELV $1279
byte 1 89
byte 1 111
byte 1 117
byte 1 32
byte 1 99
byte 1 97
byte 1 110
byte 1 39
byte 1 116
byte 1 32
byte 1 117
byte 1 115
byte 1 101
byte 1 32
byte 1 116
byte 1 104
byte 1 105
byte 1 115
byte 1 32
byte 1 109
byte 1 111
byte 1 100
byte 1 101
byte 1 32
byte 1 119
byte 1 104
byte 1 105
byte 1 108
byte 1 101
byte 1 32
byte 1 105
byte 1 110
byte 1 32
byte 1 73
byte 1 114
byte 1 111
byte 1 110
byte 1 115
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 45
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $1266
byte 1 110
byte 1 111
byte 1 110
byte 1 101
byte 1 0
align 1
LABELV $1201
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 89
byte 1 111
byte 1 117
byte 1 32
byte 1 103
byte 1 111
byte 1 116
byte 1 32
byte 1 110
byte 1 111
byte 1 32
byte 1 77
byte 1 105
byte 1 115
byte 1 115
byte 1 105
byte 1 111
byte 1 110
byte 1 32
byte 1 79
byte 1 98
byte 1 106
byte 1 101
byte 1 99
byte 1 116
byte 1 105
byte 1 118
byte 1 101
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1187
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 89
byte 1 111
byte 1 117
byte 1 32
byte 1 103
byte 1 111
byte 1 116
byte 1 32
byte 1 110
byte 1 111
byte 1 32
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 32
byte 1 105
byte 1 110
byte 1 32
byte 1 121
byte 1 111
byte 1 117
byte 1 114
byte 1 32
byte 1 104
byte 1 97
byte 1 110
byte 1 100
byte 1 115
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1085
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 95
byte 1 116
byte 1 97
byte 1 110
byte 1 103
byte 1 111
byte 1 95
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $1082
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 95
byte 1 115
byte 1 101
byte 1 97
byte 1 108
byte 1 95
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $1076
byte 1 45
byte 1 49
byte 1 0
align 1
LABELV $1041
byte 1 82
byte 1 79
byte 1 85
byte 1 78
byte 1 68
byte 1 58
byte 1 32
byte 1 83
byte 1 116
byte 1 97
byte 1 114
byte 1 116
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $1040
byte 1 71
byte 1 111
byte 1 44
byte 1 32
byte 1 87
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 115
byte 1 32
byte 1 85
byte 1 110
byte 1 108
byte 1 111
byte 1 99
byte 1 107
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $1037
byte 1 108
byte 1 111
byte 1 99
byte 1 107
byte 1 110
byte 1 108
byte 1 111
byte 1 97
byte 1 100
byte 1 0
align 1
LABELV $1036
byte 1 103
byte 1 111
byte 1 103
byte 1 111
byte 1 0
align 1
LABELV $1023
byte 1 37
byte 1 105
byte 1 0
align 1
LABELV $999
byte 1 108
byte 1 111
byte 1 97
byte 1 100
byte 1 100
byte 1 101
byte 1 102
byte 1 101
byte 1 114
byte 1 101
byte 1 100
byte 1 10
byte 1 0
align 1
LABELV $969
byte 1 114
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 115
byte 1 116
byte 1 0
align 1
LABELV $966
byte 1 99
byte 1 112
byte 1 32
byte 1 34
byte 1 82
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 32
byte 1 35
byte 1 37
byte 1 105
byte 1 32
byte 1 119
byte 1 105
byte 1 108
byte 1 108
byte 1 32
byte 1 115
byte 1 116
byte 1 97
byte 1 114
byte 1 116
byte 1 32
byte 1 105
byte 1 110
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 115
byte 1 101
byte 1 99
byte 1 111
byte 1 110
byte 1 100
byte 1 115
byte 1 46
byte 1 10
byte 1 87
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 115
byte 1 32
byte 1 76
byte 1 111
byte 1 99
byte 1 107
byte 1 101
byte 1 100
byte 1 46
byte 1 34
byte 1 0
align 1
LABELV $929
byte 1 87
byte 1 97
byte 1 105
byte 1 116
byte 1 105
byte 1 110
byte 1 103
byte 1 32
byte 1 102
byte 1 111
byte 1 114
byte 1 32
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 115
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 106
byte 1 111
byte 1 105
byte 1 110
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $919
byte 1 103
byte 1 95
byte 1 100
byte 1 111
byte 1 87
byte 1 97
byte 1 114
byte 1 109
byte 1 117
byte 1 112
byte 1 32
byte 1 48
byte 1 0
align 1
LABELV $911
byte 1 99
byte 1 112
byte 1 32
byte 1 34
byte 1 94
byte 1 50
byte 1 89
byte 1 111
byte 1 117
byte 1 32
byte 1 97
byte 1 114
byte 1 101
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 86
byte 1 46
byte 1 73
byte 1 46
byte 1 80
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $910
byte 1 84
byte 1 114
byte 1 121
byte 1 105
byte 1 110
byte 1 103
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 32
byte 1 86
byte 1 46
byte 1 73
byte 1 46
byte 1 80
byte 1 46
byte 1 91
byte 1 37
byte 1 115
byte 1 93
byte 1 32
byte 1 45
byte 1 32
byte 1 119
byte 1 105
byte 1 116
byte 1 104
byte 1 111
byte 1 117
byte 1 116
byte 1 32
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 112
byte 1 111
byte 1 105
byte 1 110
byte 1 116
byte 1 33
byte 1 0
align 1
LABELV $905
byte 1 84
byte 1 114
byte 1 121
byte 1 105
byte 1 110
byte 1 103
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 32
byte 1 86
byte 1 46
byte 1 73
byte 1 46
byte 1 80
byte 1 46
byte 1 91
byte 1 37
byte 1 115
byte 1 93
byte 1 32
byte 1 45
byte 1 32
byte 1 119
byte 1 105
byte 1 116
byte 1 104
byte 1 111
byte 1 117
byte 1 116
byte 1 32
byte 1 118
byte 1 105
byte 1 112
byte 1 32
byte 1 101
byte 1 110
byte 1 116
byte 1 105
byte 1 116
byte 1 121
byte 1 33
byte 1 0
align 1
LABELV $893
byte 1 105
byte 1 110
byte 1 102
byte 1 111
byte 1 95
byte 1 118
byte 1 105
byte 1 112
byte 1 95
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 0
align 1
LABELV $874
byte 1 48
byte 1 0
align 1
LABELV $844
byte 1 82
byte 1 79
byte 1 85
byte 1 78
byte 1 68
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 32
byte 1 119
byte 1 111
byte 1 110
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $843
byte 1 99
byte 1 112
byte 1 32
byte 1 34
byte 1 84
byte 1 104
byte 1 101
byte 1 32
byte 1 37
byte 1 115
byte 1 32
byte 1 119
byte 1 111
byte 1 110
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 114
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $842
byte 1 82
byte 1 79
byte 1 85
byte 1 78
byte 1 68
byte 1 58
byte 1 32
byte 1 84
byte 1 105
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $841
byte 1 99
byte 1 112
byte 1 32
byte 1 34
byte 1 84
byte 1 104
byte 1 101
byte 1 32
byte 1 82
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 32
byte 1 119
byte 1 97
byte 1 115
byte 1 32
byte 1 116
byte 1 105
byte 1 101
byte 1 100
byte 1 33
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $797
byte 1 103
byte 1 97
byte 1 118
byte 1 101
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 120
byte 1 112
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $726
byte 1 117
byte 1 120
byte 1 112
byte 1 32
byte 1 37
byte 1 105
byte 1 0
align 1
LABELV $656
byte 1 82
byte 1 101
byte 1 108
byte 1 97
byte 1 117
byte 1 110
byte 1 99
byte 1 104
byte 1 101
byte 1 100
byte 1 32
byte 1 101
byte 1 110
byte 1 116
byte 1 105
byte 1 116
byte 1 105
byte 1 101
byte 1 115
byte 1 46
byte 1 46
byte 1 46
byte 1 0
align 1
LABELV $653
byte 1 116
byte 1 114
byte 1 105
byte 1 103
byte 1 103
byte 1 101
byte 1 114
byte 1 95
byte 1 102
byte 1 117
byte 1 110
byte 1 95
byte 1 103
byte 1 111
byte 1 97
byte 1 108
byte 1 0
align 1
LABELV $650
byte 1 98
byte 1 97
byte 1 108
byte 1 108
byte 1 0
align 1
LABELV $645
byte 1 116
byte 1 114
byte 1 105
byte 1 103
byte 1 103
byte 1 101
byte 1 114
byte 1 95
byte 1 97
byte 1 115
byte 1 115
byte 1 97
byte 1 117
byte 1 108
byte 1 116
byte 1 102
byte 1 105
byte 1 101
byte 1 108
byte 1 100
byte 1 0
align 1
LABELV $642
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 119
byte 1 97
byte 1 108
byte 1 108
byte 1 0
align 1
LABELV $637
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 95
byte 1 98
byte 1 114
byte 1 105
byte 1 101
byte 1 102
byte 1 99
byte 1 97
byte 1 115
byte 1 101
byte 1 0
align 1
LABELV $634
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 109
byte 1 105
byte 1 115
byte 1 115
byte 1 105
byte 1 111
byte 1 110
byte 1 95
byte 1 111
byte 1 98
byte 1 106
byte 1 101
byte 1 99
byte 1 116
byte 1 0
align 1
LABELV $630
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 103
byte 1 111
byte 1 97
byte 1 108
byte 1 0
align 1
LABELV $621
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 101
byte 1 120
byte 1 112
byte 1 108
byte 1 111
byte 1 115
byte 1 105
byte 1 118
byte 1 101
byte 1 95
byte 1 115
byte 1 116
byte 1 111
byte 1 110
byte 1 101
byte 1 0
align 1
LABELV $620
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 101
byte 1 120
byte 1 112
byte 1 108
byte 1 111
byte 1 115
byte 1 105
byte 1 118
byte 1 101
byte 1 95
byte 1 109
byte 1 101
byte 1 116
byte 1 97
byte 1 108
byte 1 0
align 1
LABELV $619
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 101
byte 1 120
byte 1 112
byte 1 108
byte 1 111
byte 1 115
byte 1 105
byte 1 118
byte 1 101
byte 1 95
byte 1 119
byte 1 111
byte 1 111
byte 1 100
byte 1 0
align 1
LABELV $618
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 101
byte 1 120
byte 1 112
byte 1 108
byte 1 111
byte 1 115
byte 1 105
byte 1 118
byte 1 101
byte 1 95
byte 1 103
byte 1 108
byte 1 97
byte 1 115
byte 1 115
byte 1 0
align 1
LABELV $615
byte 1 116
byte 1 114
byte 1 105
byte 1 103
byte 1 103
byte 1 101
byte 1 114
byte 1 95
byte 1 99
byte 1 111
byte 1 117
byte 1 110
byte 1 116
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $606
byte 1 82
byte 1 101
byte 1 109
byte 1 111
byte 1 118
byte 1 101
byte 1 100
byte 1 32
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 115
byte 1 46
byte 1 46
byte 1 46
byte 1 0
align 1
LABELV $598
byte 1 98
byte 1 111
byte 1 100
byte 1 121
byte 1 113
byte 1 117
byte 1 101
byte 1 0
align 1
LABELV $584
byte 1 69
byte 1 78
byte 1 68
byte 1 0
align 1
LABELV $583
byte 1 114
byte 1 101
byte 1 97
byte 1 108
byte 1 108
byte 1 101
byte 1 97
byte 1 100
byte 1 0
align 1
LABELV $582
byte 1 52
byte 1 48
byte 1 109
byte 1 109
byte 1 103
byte 1 114
byte 1 101
byte 1 110
byte 1 97
byte 1 100
byte 1 101
byte 1 0
align 1
LABELV $581
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 102
byte 1 108
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 0
align 1
LABELV $580
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 114
byte 1 101
byte 1 103
byte 1 101
byte 1 110
byte 1 0
align 1
LABELV $579
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 105
byte 1 110
byte 1 118
byte 1 105
byte 1 115
byte 1 0
align 1
LABELV $578
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 104
byte 1 97
byte 1 115
byte 1 116
byte 1 101
byte 1 0
align 1
LABELV $577
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 101
byte 1 110
byte 1 118
byte 1 105
byte 1 114
byte 1 111
byte 1 0
align 1
LABELV $576
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 113
byte 1 117
byte 1 97
byte 1 100
byte 1 0
align 1
LABELV $575
byte 1 104
byte 1 111
byte 1 108
byte 1 100
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 95
byte 1 109
byte 1 101
byte 1 100
byte 1 107
byte 1 105
byte 1 116
byte 1 0
align 1
LABELV $574
byte 1 104
byte 1 111
byte 1 108
byte 1 100
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 95
byte 1 116
byte 1 101
byte 1 108
byte 1 101
byte 1 112
byte 1 111
byte 1 114
byte 1 116
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $573
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 98
byte 1 102
byte 1 103
byte 1 0
align 1
LABELV $572
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 115
byte 1 108
byte 1 117
byte 1 103
byte 1 115
byte 1 0
align 1
LABELV $571
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 114
byte 1 111
byte 1 99
byte 1 107
byte 1 101
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $570
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 108
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 110
byte 1 105
byte 1 110
byte 1 103
byte 1 0
align 1
LABELV $569
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 99
byte 1 101
byte 1 108
byte 1 108
byte 1 115
byte 1 0
align 1
LABELV $568
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 103
byte 1 114
byte 1 101
byte 1 110
byte 1 97
byte 1 100
byte 1 101
byte 1 115
byte 1 0
align 1
LABELV $567
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 98
byte 1 117
byte 1 108
byte 1 108
byte 1 101
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $566
byte 1 97
byte 1 109
byte 1 109
byte 1 111
byte 1 95
byte 1 115
byte 1 104
byte 1 101
byte 1 108
byte 1 108
byte 1 115
byte 1 0
align 1
LABELV $565
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 109
byte 1 52
byte 1 0
align 1
LABELV $564
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 109
byte 1 97
byte 1 99
byte 1 109
byte 1 105
byte 1 108
byte 1 108
byte 1 97
byte 1 110
byte 1 0
align 1
LABELV $563
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 103
byte 1 114
byte 1 97
byte 1 112
byte 1 112
byte 1 108
byte 1 105
byte 1 110
byte 1 103
byte 1 104
byte 1 111
byte 1 111
byte 1 107
byte 1 0
align 1
LABELV $562
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 98
byte 1 102
byte 1 103
byte 1 0
align 1
LABELV $561
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 112
byte 1 108
byte 1 97
byte 1 115
byte 1 109
byte 1 97
byte 1 103
byte 1 117
byte 1 110
byte 1 0
align 1
LABELV $560
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 114
byte 1 97
byte 1 105
byte 1 108
byte 1 103
byte 1 117
byte 1 110
byte 1 0
align 1
LABELV $559
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 108
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 110
byte 1 105
byte 1 110
byte 1 103
byte 1 0
align 1
LABELV $558
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 97
byte 1 107
byte 1 52
byte 1 55
byte 1 0
align 1
LABELV $557
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 103
byte 1 114
byte 1 101
byte 1 110
byte 1 97
byte 1 100
byte 1 101
byte 1 108
byte 1 97
byte 1 117
byte 1 110
byte 1 99
byte 1 104
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $556
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 114
byte 1 111
byte 1 99
byte 1 107
byte 1 101
byte 1 116
byte 1 108
byte 1 97
byte 1 117
byte 1 110
byte 1 99
byte 1 104
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $555
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 115
byte 1 104
byte 1 111
byte 1 116
byte 1 103
byte 1 117
byte 1 110
byte 1 0
align 1
LABELV $554
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 109
byte 1 97
byte 1 99
byte 1 104
byte 1 105
byte 1 110
byte 1 101
byte 1 103
byte 1 117
byte 1 110
byte 1 0
align 1
LABELV $553
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 95
byte 1 103
byte 1 97
byte 1 117
byte 1 110
byte 1 116
byte 1 108
byte 1 101
byte 1 116
byte 1 0
align 1
LABELV $552
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 104
byte 1 101
byte 1 97
byte 1 108
byte 1 116
byte 1 104
byte 1 95
byte 1 109
byte 1 101
byte 1 103
byte 1 97
byte 1 0
align 1
LABELV $551
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 104
byte 1 101
byte 1 97
byte 1 108
byte 1 116
byte 1 104
byte 1 95
byte 1 108
byte 1 97
byte 1 114
byte 1 103
byte 1 101
byte 1 0
align 1
LABELV $550
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 104
byte 1 101
byte 1 97
byte 1 108
byte 1 116
byte 1 104
byte 1 0
align 1
LABELV $549
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 104
byte 1 101
byte 1 97
byte 1 108
byte 1 116
byte 1 104
byte 1 95
byte 1 115
byte 1 109
byte 1 97
byte 1 108
byte 1 108
byte 1 0
align 1
LABELV $548
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 97
byte 1 114
byte 1 109
byte 1 111
byte 1 114
byte 1 95
byte 1 98
byte 1 111
byte 1 100
byte 1 121
byte 1 0
align 1
LABELV $547
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 97
byte 1 114
byte 1 109
byte 1 111
byte 1 114
byte 1 95
byte 1 99
byte 1 111
byte 1 109
byte 1 98
byte 1 97
byte 1 116
byte 1 0
align 1
LABELV $546
byte 1 105
byte 1 116
byte 1 101
byte 1 109
byte 1 95
byte 1 97
byte 1 114
byte 1 109
byte 1 111
byte 1 114
byte 1 95
byte 1 115
byte 1 104
byte 1 97
byte 1 114
byte 1 100
byte 1 0
align 1
LABELV $540
byte 1 99
byte 1 52
byte 1 95
byte 1 112
byte 1 108
byte 1 97
byte 1 99
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $537
byte 1 116
byte 1 117
byte 1 114
byte 1 114
byte 1 101
byte 1 116
byte 1 95
byte 1 98
byte 1 114
byte 1 101
byte 1 97
byte 1 99
byte 1 104
byte 1 0
align 1
LABELV $523
byte 1 67
byte 1 97
byte 1 109
byte 1 101
byte 1 114
byte 1 97
byte 1 32
byte 1 69
byte 1 110
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $522
byte 1 67
byte 1 97
byte 1 109
byte 1 101
byte 1 114
byte 1 97
byte 1 32
byte 1 68
byte 1 105
byte 1 115
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $451
byte 1 83
byte 1 67
byte 1 79
byte 1 80
byte 1 69
byte 1 0
align 1
LABELV $448
byte 1 76
byte 1 65
byte 1 83
byte 1 69
byte 1 82
byte 1 83
byte 1 73
byte 1 71
byte 1 72
byte 1 84
byte 1 0
align 1
LABELV $445
byte 1 66
byte 1 65
byte 1 89
byte 1 79
byte 1 78
byte 1 69
byte 1 84
byte 1 0
align 1
LABELV $440
byte 1 83
byte 1 73
byte 1 76
byte 1 69
byte 1 78
byte 1 67
byte 1 69
byte 1 82
byte 1 0
align 1
LABELV $439
byte 1 73
byte 1 32
byte 1 106
byte 1 117
byte 1 115
byte 1 116
byte 1 32
byte 1 101
byte 1 113
byte 1 117
byte 1 105
byte 1 112
byte 1 112
byte 1 101
byte 1 100
byte 1 32
byte 1 109
byte 1 121
byte 1 32
byte 1 37
byte 1 115
byte 1 32
byte 1 119
byte 1 105
byte 1 116
byte 1 104
byte 1 32
byte 1 97
byte 1 32
byte 1 37
byte 1 115
byte 1 0
align 1
LABELV $155
byte 1 89
byte 1 111
byte 1 117
byte 1 32
byte 1 99
byte 1 97
byte 1 110
byte 1 39
byte 1 116
byte 1 32
byte 1 114
byte 1 101
byte 1 108
byte 1 111
byte 1 97
byte 1 100
byte 1 32
byte 1 119
byte 1 104
byte 1 105
byte 1 108
byte 1 101
byte 1 32
byte 1 105
byte 1 110
byte 1 32
byte 1 73
byte 1 114
byte 1 111
byte 1 110
byte 1 115
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 45
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $138
byte 1 99
byte 1 112
byte 1 32
byte 1 34
byte 1 78
byte 1 111
byte 1 32
byte 1 65
byte 1 109
byte 1 109
byte 1 111
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $80
byte 1 102
byte 1 117
byte 1 110
byte 1 99
byte 1 95
byte 1 101
byte 1 120
byte 1 112
byte 1 108
byte 1 111
byte 1 115
byte 1 105
byte 1 118
byte 1 101
byte 1 0
